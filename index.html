<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"eniac286.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Eniac286">
<meta property="og:url" content="https://eniac286.github.io/index.html">
<meta property="og:site_name" content="Eniac286">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Dara Yoon">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://eniac286.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Eniac286</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Eniac286</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">风物长宜放眼量</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-首页">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-分类">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-标签">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-时间轴">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>时间轴</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day06%E7%BB%BC%E5%90%88%E7%BB%83%E4%B9%A0/day06%E3%80%90%E7%BB%BC%E5%90%88%E7%BB%83%E4%B9%A0%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day06%E7%BB%BC%E5%90%88%E7%BB%83%E4%B9%A0/day06%E3%80%90%E7%BB%BC%E5%90%88%E7%BB%83%E4%B9%A0%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:54" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:54+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day06-【综合练习】"><a href="#day06-【综合练习】" class="headerlink" title="day06 【综合练习】"></a>day06 【综合练习】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li>面向对象综合练习 </li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><input disabled="" type="checkbox"> 能够编写主菜单</li>
<li><input disabled="" type="checkbox"> 能够定义Person类并应用模板模式</li>
<li><input disabled="" type="checkbox"> 能够定义子类Student类并添加特有成员</li>
<li><input disabled="" type="checkbox"> 能够定义子类Teacher类并添加特有成员</li>
<li><input disabled="" type="checkbox"> 能够理解继承在案例中的使用</li>
<li><input disabled="" type="checkbox"> 能够理解模板模式在案例中的使用</li>
<li><input disabled="" type="checkbox"> 能够定义并使用打印Person的静态方法</li>
<li><input disabled="" type="checkbox"> 能够定义并使用打印ArrayList<Person>的静态方法</li>
<li><input disabled="" type="checkbox"> 能够理解静态成员和静态方法在案例中的使用</li>
</ul>
<h1 id="第一章-综合案例-案例演示"><a href="#第一章-综合案例-案例演示" class="headerlink" title="第一章 综合案例-案例演示"></a>第一章 综合案例-案例演示</h1><h2 id="1-1-程序启动"><a href="#1-1-程序启动" class="headerlink" title="1.1 程序启动"></a>1.1 程序启动</h2><p> 运行com.itheima.main.MainApp类，启动程序：</p>
<p><img src="img/01_%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8.png"></p>
<h2 id="1-2-测试学员信息管理模块"><a href="#1-2-测试学员信息管理模块" class="headerlink" title="1.2 测试学员信息管理模块"></a>1.2 测试学员信息管理模块</h2><p><img src="img/02_%E6%B5%8B%E8%AF%95%E5%AD%A6%E5%91%98%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97.png"></p>
<h2 id="1-3-测试【4-查询学员】"><a href="#1-3-测试【4-查询学员】" class="headerlink" title="1.3 测试【4.查询学员】"></a>1.3 测试【4.查询学员】</h2><p><img src="img/03_%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD4.png"></p>
<h2 id="1-4-测试【1-添加学员】"><a href="#1-4-测试【1-添加学员】" class="headerlink" title="1.4 测试【1.添加学员】"></a>1.4 测试【1.添加学员】</h2><p><img src="img/04_%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD1.png"></p>
<h2 id="1-5-测试【2-修改学员】"><a href="#1-5-测试【2-修改学员】" class="headerlink" title="1.5 测试【2.修改学员】"></a>1.5 测试【2.修改学员】</h2><ul>
<li><p>输入不存在的编号：</p>
<p><img src="img/05_%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD2_%E9%94%99%E8%AF%AF.png"></p>
</li>
<li><p>输入存在的编号：</p>
<p><img src="img/06_%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD2_%E6%AD%A3%E7%A1%AE.png"></p>
</li>
</ul>
<h2 id="1-6-测试【3-删除学员】"><a href="#1-6-测试【3-删除学员】" class="headerlink" title="1.6 测试【3.删除学员】"></a>1.6 测试【3.删除学员】</h2><ul>
<li><p>输入不存在的编号：</p>
<p><img src="img/07_%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD3_%E9%94%99%E8%AF%AF.png"></p>
</li>
<li><p>输入存在的编号，但取消操作：</p>
<p><img src="img/08_%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD3_%E5%8F%96%E6%B6%88.png"></p>
</li>
<li><p>输入存在的编号，执行删除：</p>
<p><img src="img/09_%E6%B5%8B%E8%AF%95%E5%8A%9F%E8%83%BD3_%E5%88%A0%E9%99%A4.png"></p>
</li>
</ul>
<h1 id="第二章-综合案例-类设计"><a href="#第二章-综合案例-类设计" class="headerlink" title="第二章 综合案例-类设计"></a>第二章 综合案例-类设计</h1><h2 id="2-1-父类Person-抽象"><a href="#2-1-父类Person-抽象" class="headerlink" title="2.1 父类Person(抽象)"></a>2.1 父类Person(抽象)</h2><ul>
<li><p>成员属性：</p>
<ul>
<li>id(编号)</li>
<li>name(姓名)</li>
<li>sex(性别)</li>
<li>birthday(生日)</li>
<li>age(年龄-由生日计算得出)</li>
</ul>
</li>
<li><p>构造方法：</p>
<ul>
<li>无参构造</li>
<li>全参构造</li>
</ul>
</li>
<li><p>成员方法：</p>
<ul>
<li>toString()</li>
</ul>
</li>
<li><p>抽象方法：</p>
<ul>
<li>getType()：由各子类实现，返回各自的”类型”字符串。</li>
<li>getWork()：由各子类实现，返回各自的”工作”字符串。</li>
</ul>
</li>
</ul>
<h2 id="2-2-子类Student"><a href="#2-2-子类Student" class="headerlink" title="2.2 子类Student"></a>2.2 子类Student</h2><ul>
<li>构造方法<ul>
<li>无参构造</li>
<li>全参构造(super调用父类全参构造)</li>
</ul>
</li>
<li>重写抽象方法<ul>
<li>重写getType()</li>
<li>重写getWork()</li>
</ul>
</li>
</ul>
<h2 id="2-3-子类Teacher"><a href="#2-3-子类Teacher" class="headerlink" title="2.3 子类Teacher"></a>2.3 子类Teacher</h2><ul>
<li>构造方法<ul>
<li>无参构造</li>
<li>全参构造(super调用父类全参构造)</li>
</ul>
</li>
<li>重写抽象方法<ul>
<li>重写getType()</li>
<li>重写getWork()</li>
</ul>
</li>
</ul>
<h2 id="2-4-工具类Utils类"><a href="#2-4-工具类Utils类" class="headerlink" title="2.4 工具类Utils类"></a>2.4 工具类Utils类</h2><ul>
<li>全局变量<ul>
<li>学员ID值(添加学员信息时，编号由此ID加1生成)</li>
<li>教师ID值(添加教师信息时，编号由此ID加1生成)</li>
</ul>
</li>
<li>全局方法<ul>
<li>根据生日计算年龄的方法</li>
<li>打印一个Person对象的方法；</li>
<li>打印一个ArrayList<Person>集合的方法；</li>
</ul>
</li>
</ul>
<h2 id="2-5-启动类"><a href="#2-5-启动类" class="headerlink" title="2.5 启动类"></a>2.5 启动类</h2><ul>
<li>定义启动类：MainApp启动程序。</li>
</ul>
<h1 id="第三章-综合案例-类制作"><a href="#第三章-综合案例-类制作" class="headerlink" title="第三章 综合案例-类制作"></a>第三章 综合案例-类制作</h1><h2 id="3-1-父类Person-抽象"><a href="#3-1-父类Person-抽象" class="headerlink" title="3.1 父类Person(抽象)"></a>3.1 父类Person(抽象)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;<span class="comment">//编号</span></span><br><span class="line">    <span class="keyword">private</span> String name;<span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">private</span> String sex;<span class="comment">//性别</span></span><br><span class="line">    <span class="keyword">private</span> String birthday;<span class="comment">//出生日期</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;<span class="comment">//年龄--通过出生日期换算</span></span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(<span class="keyword">int</span> id,String name, String sex, String birthday)</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//getter/setter</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSex</span><span class="params">(String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBirthday</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> birthday;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBirthday</span><span class="params">(String birthday)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        <span class="comment">//通过生日计算年龄</span></span><br><span class="line">        age = Utils.birthdayToAge(<span class="keyword">this</span>.getBirthday());</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重写toString，同时作为模板</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  id + <span class="string">&quot;\t\t&quot;</span> +</span><br><span class="line">                name + <span class="string">&quot;\t\t&quot;</span> +</span><br><span class="line">                sex + <span class="string">&quot;\t\t&quot;</span> +</span><br><span class="line">                birthday + <span class="string">&quot;\t&quot;</span> +</span><br><span class="line">                <span class="keyword">this</span>.getAge() + <span class="string">&quot;\t\t&quot;</span> +</span><br><span class="line">                <span class="string">&quot; 我是一名：&quot;</span> + getType() + <span class="string">&quot; 我的工作是：&quot;</span> + getWork();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//模板用到的两个方法，由子类重写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getWork</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getType</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-2-子类Student"><a href="#3-2-子类Student" class="headerlink" title="3.2 子类Student"></a>3.2 子类Student</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> id, String name, String sex, String birthday)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(id, name, sex, birthday);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;学习Java&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;学生&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-3-子类Teacher"><a href="#3-3-子类Teacher" class="headerlink" title="3.3 子类Teacher"></a>3.3 子类Teacher</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span><span class="params">(<span class="keyword">int</span> id, String name, String sex, String birthday)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(id, name, sex, birthday);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;讲课&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;老师&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-4-工具类Utils类"><a href="#3-4-工具类Utils类" class="headerlink" title="3.4 工具类Utils类"></a>3.4 工具类Utils类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Utils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> stuId ;<span class="comment">//学员ID的初始值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> teaId ;<span class="comment">//教师ID的初始值</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        stuId = <span class="number">0</span>;</span><br><span class="line">        teaId = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//后期可以改为从文件/数据库读取初始值</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">birthdayToAge</span><span class="params">(String birthday)</span>  </span>&#123;</span><br><span class="line">        Date birthDate = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;<span class="comment">//异常处理代码，后面讲</span></span><br><span class="line">            birthDate = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>).parse(birthday);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取当前系统时间</span></span><br><span class="line">        Calendar cal = Calendar.getInstance();</span><br><span class="line">        <span class="comment">//如果出生日期大于当前时间，则返回-1</span></span><br><span class="line">        <span class="keyword">if</span> (cal.before(birthDate)) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//取出系统当前时间的年、月、日部分</span></span><br><span class="line">        <span class="keyword">int</span> yearNow = cal.get(Calendar.YEAR);</span><br><span class="line">        <span class="keyword">int</span> monthNow = cal.get(Calendar.MONTH);</span><br><span class="line">        <span class="keyword">int</span> dayOfMonthNow = cal.get(Calendar.DAY_OF_MONTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将日期设置为出生日期</span></span><br><span class="line">        cal.setTime(birthDate);</span><br><span class="line">        <span class="comment">//取出出生日期的年、月、日部分</span></span><br><span class="line">        <span class="keyword">int</span> yearBirth = cal.get(Calendar.YEAR);</span><br><span class="line">        <span class="keyword">int</span> monthBirth = cal.get(Calendar.MONTH);</span><br><span class="line">        <span class="keyword">int</span> dayOfMonthBirth = cal.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">        <span class="comment">//当前年份与出生年份相减，初步计算年龄</span></span><br><span class="line">        <span class="keyword">int</span> age = yearNow - yearBirth;</span><br><span class="line">        <span class="comment">//当前月份与出生日期的月份相比，如果月份小于出生月份，则年龄减1，表示不满多少周岁</span></span><br><span class="line">        <span class="keyword">if</span> (monthNow &lt;= monthBirth) &#123;</span><br><span class="line">            <span class="comment">//如果月份相等，在比较日期，如果当前日，小于出生日，也减1，表示不满多少周岁</span></span><br><span class="line">            <span class="keyword">if</span> (monthNow == monthBirth) &#123;</span><br><span class="line">                <span class="keyword">if</span> (dayOfMonthNow &lt; dayOfMonthBirth) age--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                age--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//打印ArrayList的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printPersonList</span><span class="params">(ArrayList personList)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;*******************************************************&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;编号\t\t姓名\t\t性别\t\t生日\t\t\t年龄\t\t描述&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; personList.size(); i++) &#123;</span><br><span class="line">            Object p = personList.get(i);</span><br><span class="line">            System.out.println(personList.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;*******************************************************&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//打印Person的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printPerson</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;*******************************************************&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;编号\t\t姓名\t\t性别\t\t生日\t\t\t年龄\t\t描述&quot;</span>);</span><br><span class="line">        System.out.println(person );</span><br><span class="line">        System.out.println(<span class="string">&quot;*******************************************************&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="第四章-综合案例-启动类实现"><a href="#第四章-综合案例-启动类实现" class="headerlink" title="第四章 综合案例-启动类实现"></a>第四章 综合案例-启动类实现</h1><h2 id="4-1-主菜单"><a href="#4-1-主菜单" class="headerlink" title="4.1 主菜单"></a>4.1 主菜单</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApp</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="comment">//学生集合</span></span><br><span class="line">        ArrayList&lt;Student&gt; stuList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//教师集合</span></span><br><span class="line">        ArrayList&lt;Teacher&gt; teaList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//主菜单</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;1.学员信息管理   2.教师信息管理   3.退出&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> op = sc.nextInt();</span><br><span class="line">            <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    studentManage(stuList,sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    teacherManage(teaList,sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;谢谢使用，拜拜！！&quot;</span>);</span><br><span class="line">                    System.exit(<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;你的输入有误，请重新输入！&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//教师信息管理</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">teacherManage</span><span class="params">(ArrayList&lt;Teacher&gt; teaList,Scanner sc)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//学员信息管理</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">studentManage</span><span class="params">(ArrayList&lt;Student&gt; stuList,Scanner sc)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-2-学员信息管理二级菜单"><a href="#4-2-学员信息管理二级菜单" class="headerlink" title="4.2 学员信息管理二级菜单"></a>4.2 学员信息管理二级菜单</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApp</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="comment">//学生集合</span></span><br><span class="line">        ArrayList&lt;Student&gt; stuList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//教师集合</span></span><br><span class="line">        ArrayList&lt;Teacher&gt; teaList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//主菜单</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;1.学员信息管理   2.教师信息管理   3.退出&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> op = sc.nextInt();</span><br><span class="line">            <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    studentManage(stuList,sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    teacherManage(teaList,sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;谢谢使用，拜拜！！&quot;</span>);</span><br><span class="line">                    System.exit(<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;你的输入有误，请重新输入！&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//教师信息管理</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">teacherManage</span><span class="params">(ArrayList&lt;Teacher&gt; teaList,Scanner sc)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//学员信息管理</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">studentManage</span><span class="params">(ArrayList&lt;Student&gt; stuList,Scanner sc)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//二级菜单</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;------------------------------------------------------&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;【学员信息管理】&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;1.添加学员   2.修改学员   3.删除学员   4.查询学员   5.返回&quot;</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入功能序号：&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> op = sc.nextInt();</span><br><span class="line">            <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    addStudent(stuList, sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    updateStudent(stuList, sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    deleteStudent(stuList, sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                    selectAll(stuList, sc);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                    <span class="keyword">return</span>;<span class="comment">//结束方法</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;你的输入有误，请重新输入！&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//添加学员</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addStudent</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//修改学员</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateStudent</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除学员</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteStudent</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查询所有学员</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">selectAll</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="4-3-查询所有学员"><a href="#4-3-查询所有学员" class="headerlink" title="4.3 查询所有学员"></a>4.3 查询所有学员</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查询所有学员</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">selectAll</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;【查询结果】&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (stuList.size() == <span class="number">0</span>) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;无数据&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Utils.printPersonList(stuList);<span class="comment">//调用工具类打印</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-4-添加学员"><a href="#4-4-添加学员" class="headerlink" title="4.4 添加学员"></a>4.4 添加学员</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加学员</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addStudent</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;请输入学员姓名：&quot;</span>);</span><br><span class="line">    String name = sc.next();</span><br><span class="line">    System.out.println(<span class="string">&quot;请输入性别：&quot;</span>);</span><br><span class="line">    String sex = sc.next();</span><br><span class="line">    System.out.println(<span class="string">&quot;请输入出生日期(yyyy-MM-dd)：&quot;</span>);</span><br><span class="line">    String birthday = sc.next();</span><br><span class="line"></span><br><span class="line">    stuList.add(<span class="keyword">new</span> Student(++Utils.stuId,name,sex,birthday));</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;【成功】学员信息添加成功！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-5-修改学员"><a href="#4-5-修改学员" class="headerlink" title="4.5 修改学员"></a>4.5 修改学员</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改学员</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateStudent</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;请输入要修改的学员ID：&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> stuId = sc.nextInt();</span><br><span class="line">    <span class="comment">//查询</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; stuList.size(); i++) &#123;</span><br><span class="line">        Student stu = stuList.get(i);</span><br><span class="line">        <span class="keyword">if</span> (stu.getId() == stuId) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;【查询结果】要修改的学员信息：&quot;</span>);</span><br><span class="line">            <span class="comment">//打印</span></span><br><span class="line">            Utils.printPerson(stu);</span><br><span class="line">            <span class="comment">//执行修改</span></span><br><span class="line">            System.out.println(<span class="string">&quot;请输入新姓名(保留原值输入0)：&quot;</span>);</span><br><span class="line">            String newName = sc.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入新性别(保留原值输入0)：&quot;</span>);</span><br><span class="line">            String newSex = sc.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入新出生日期(yyyy-MM-dd)(保留原值输入0)：&quot;</span>);</span><br><span class="line">            String newBirthday = sc.next();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!<span class="string">&quot;0&quot;</span>.equals(newName)) &#123;</span><br><span class="line">                stu.setName(newName);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="string">&quot;0&quot;</span>.equals(newSex)) &#123;</span><br><span class="line">                stu.setSex(newSex);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="string">&quot;0&quot;</span>.equals(newBirthday)) &#123;</span><br><span class="line">                stu.setBirthday(newBirthday);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;【成功】学员信息修改成功！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;【错误】学员ID：&quot;</span> + stuId + <span class="string">&quot; 没找到！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-6-删除学员"><a href="#4-6-删除学员" class="headerlink" title="4.6 删除学员"></a>4.6 删除学员</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除学员</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteStudent</span><span class="params">(ArrayList&lt;Student&gt; stuList, Scanner sc)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;请输入要删除的学员ID：&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> stuId = sc.nextInt();</span><br><span class="line">    <span class="comment">//查询</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; stuList.size(); i++) &#123;</span><br><span class="line">        Student stu = stuList.get(i);</span><br><span class="line">        <span class="keyword">if</span> (stu.getId() == stuId) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;【查询结果】要删除的学员信息：&quot;</span>);</span><br><span class="line">            Utils.printPerson(stu);</span><br><span class="line">            System.out.println(<span class="string">&quot;【确认】您确定要删除这条信息吗(y/n)？&quot;</span>);</span><br><span class="line">            String str = sc.next();</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;y&quot;</span>.equals(str)) &#123;</span><br><span class="line">                stuList.remove(i);</span><br><span class="line">                System.out.println(<span class="string">&quot;【成功】数据已被删除！&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;<span class="comment">//结束方法</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;【取消】操作被取消！&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;【错误】学员ID：&quot;</span> + stuId + <span class="string">&quot; 未找到！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第五章-课堂练习"><a href="#第五章-课堂练习" class="headerlink" title="第五章 课堂练习"></a>第五章 课堂练习</h1><h2 id="5-1参考学员管理实现教师管理模块"><a href="#5-1参考学员管理实现教师管理模块" class="headerlink" title="5.1参考学员管理实现教师管理模块"></a>5.1参考学员管理实现教师管理模块</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day05%E5%B8%B8%E7%94%A8API/day05%E3%80%90%E5%B8%B8%E7%94%A8API%E3%80%81%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%B0%8F%E7%BB%93%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day05%E5%B8%B8%E7%94%A8API/day05%E3%80%90%E5%B8%B8%E7%94%A8API%E3%80%81%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%B0%8F%E7%BB%93%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:54" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:54+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day05-【常用API、引用类型小结】"><a href="#day05-【常用API、引用类型小结】" class="headerlink" title="day05 【常用API、引用类型小结】"></a>day05 【常用API、引用类型小结】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li>BigInteger类</li>
<li>BigDecimal类</li>
<li>Arrays类</li>
<li>包装类</li>
<li>String类的常用方法</li>
<li>引用类型的使用场景</li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><input disabled="" type="checkbox"> 能够说出BigInteger可以解决的问题</li>
<li><input disabled="" type="checkbox"> 能够说出BigDecimal可以解决的问题</li>
<li><input disabled="" type="checkbox"> 能够使用Arrays类的sort方法</li>
<li><input disabled="" type="checkbox"> 能够使用Arrays类的toString方法</li>
<li><input disabled="" type="checkbox"> 能够说出自动装箱、自动拆箱的概念</li>
<li><input disabled="" type="checkbox"> 能够将基本类型转换为对应的字符串</li>
<li><input disabled="" type="checkbox"> 能够将字符串转换为对应的基本类型</li>
<li><input disabled="" type="checkbox"> 能够说出String类常用方法的功能及使用</li>
<li><input disabled="" type="checkbox"> 能够在不同的位置使用引用类型</li>
</ul>
<h1 id="第一章-BigInteger类"><a href="#第一章-BigInteger类" class="headerlink" title="第一章 BigInteger类"></a>第一章 BigInteger类</h1><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p>java.math.BigInteger 类，不可变的任意精度的整数。如果运算中，数据的范围超过了long类型后，可以使用<br>BigInteger类实现，该类的计算整数是不限制长度的。</p>
<h2 id="1-2-构造方法"><a href="#1-2-构造方法" class="headerlink" title="1.2 构造方法"></a>1.2 构造方法</h2><p>BigInteger(String value) 将 BigInteger 的十进制字符串表示形式转换为 BigInteger。超过long类型的范围，已经不能称为数字了，因此构造方法中采用字符串的形式来表示超大整数，将超大整数封装成BigInteger对象。</p>
<h2 id="1-3-成员方法"><a href="#1-3-成员方法" class="headerlink" title="1.3 成员方法"></a>1.3 成员方法</h2><p>BigInteger类提供了对很大的整数进行加、减、乘、除的方法，注意：都是与另一个BigInteger对象进行运算。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>add(BigInteger value)</td>
<td>返回其值为 (this + val) 的 BigInteger，超大整数加法运算</td>
</tr>
<tr>
<td>subtract(BigInteger value)</td>
<td>返回其值为 (this - val) 的 BigInteger，超大整数减法运算</td>
</tr>
<tr>
<td>multiply(BigInteger value)</td>
<td>返回其值为 (this * val) 的 BigInteger，超大整数乘法运算</td>
</tr>
<tr>
<td>divide(BigInteger value)</td>
<td>返回其值为 (this / val) 的 BigInteger，超大整数除法运算，除不尽取整数部分</td>
</tr>
</tbody></table>
<p>【示例】</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">  BigInteger big1 = <span class="keyword">new</span> BigInteger(<span class="string">&quot;8327432493258329432643728320843&quot;</span>);</span><br><span class="line">  BigInteger big2 = <span class="keyword">new</span> BigInteger(<span class="string">&quot;98237473274832382943274328834&quot;</span>);</span><br><span class="line">  <span class="comment">//加法运算</span></span><br><span class="line">  BigInteger add = big1.add(big2);</span><br><span class="line">  System.out.println(<span class="string">&quot;求和:&quot;</span>+add);</span><br><span class="line">  <span class="comment">//减法运算</span></span><br><span class="line">  BigInteger sub = big1.subtract(big2);</span><br><span class="line">  System.out.println(<span class="string">&quot;求差:&quot;</span>+sub);</span><br><span class="line">  <span class="comment">//乘法运算</span></span><br><span class="line">  BigInteger mul = big1.multiply(big2);</span><br><span class="line">  System.out.println(<span class="string">&quot;乘积:&quot;</span>+mul);</span><br><span class="line">  <span class="comment">//除法运算</span></span><br><span class="line">  BigInteger div = big1.divide(big2);</span><br><span class="line">  System.out.println(<span class="string">&quot;除法:&quot;</span>+div);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第二章、BigDecimal类"><a href="#第二章、BigDecimal类" class="headerlink" title="第二章、BigDecimal类"></a>第二章、BigDecimal类</h1><h2 id="2-1-引入"><a href="#2-1-引入" class="headerlink" title="2.1 引入"></a>2.1 引入</h2><p>使用基本类型做浮点数运算精度问题；</p>
<p>看程序说结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="number">0.09</span> + <span class="number">0.01</span>);<span class="comment">//0.09999999999999999</span></span><br><span class="line">    System.out.println(<span class="number">1.0</span> - <span class="number">0.32</span>);<span class="comment">//0.6799999999999999</span></span><br><span class="line">    System.out.println(<span class="number">1.015</span> * <span class="number">100</span>);<span class="comment">//101.49999999999999</span></span><br><span class="line">    System.out.println(<span class="number">1.301</span> / <span class="number">100</span>);<span class="comment">//0.013009999999999999</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>对于浮点运算，不要使用基本类型，而使用”BigDecimal类”类型</strong></p>
<h2 id="2-2-概述"><a href="#2-2-概述" class="headerlink" title="2.2 概述"></a>2.2 概述</h2><table>
<thead>
<tr>
<th>相关内容</th>
<th align="left">具体描述</th>
</tr>
</thead>
<tbody><tr>
<td>包</td>
<td align="left">java.math                                                                  使用时需要导包</td>
</tr>
<tr>
<td>类声明</td>
<td align="left">public class BigDecimal extends Number implements Comparable<BigDecimal></td>
</tr>
<tr>
<td>描述</td>
<td align="left">BigDecimal类提供了算术，缩放操作，舍入，比较，散列和格式转换的操作。提供了更加精准的数据计算方式</td>
</tr>
</tbody></table>
<h2 id="2-3-构造方法"><a href="#2-3-构造方法" class="headerlink" title="2.3 构造方法"></a>2.3 构造方法</h2><table>
<thead>
<tr>
<th>构造方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>BigDecimal(double val)</td>
<td>将double类型的数据封装为BigDecimal对象</td>
</tr>
<tr>
<td>BigDecimal(String val)</td>
<td>将 BigDecimal 的字符串表示形式转换为 BigDecimal</td>
</tr>
</tbody></table>
<p>注意：推荐使用第二种方式，第一种存在精度问题；</p>
<h2 id="2-4-常用方法"><a href="#2-4-常用方法" class="headerlink" title="2.4 常用方法"></a>2.4 常用方法</h2><p>BigDecimal类中使用最多的还是提供的进行四则运算的方法，如下：</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public BigDecimal add(BigDecimal value)</td>
<td>加法运算</td>
</tr>
<tr>
<td>public BigDecimal subtract(BigDecimal value)</td>
<td>减法运算</td>
</tr>
<tr>
<td>public BigDecimal multiply(BigDecimal value)</td>
<td>乘法运算</td>
</tr>
<tr>
<td>public BigDecimal divide(BigDecimal value)</td>
<td>除法运算</td>
</tr>
</tbody></table>
<p>注意：对于divide方法来说，如果除不尽的话，就会出现java.lang.ArithmeticException异常。此时可以使用divide方法的另一个重载方法；</p>
<p>​    BigDecimal divide(BigDecimal divisor, int scale, int roundingMode): divisor：除数对应的BigDecimal对象；    参数说明：scale:精确的位数；roundingMode取舍模式</p>
<p><strong>小结：Java中小数运算有可能会有精度问题，如果要解决这种精度问题，可以使用BigDecimal</strong></p>
<h1 id="第三章-Arrays类"><a href="#第三章-Arrays类" class="headerlink" title="第三章 Arrays类"></a>第三章 Arrays类</h1><h2 id="3-1-Arrays类概述"><a href="#3-1-Arrays类概述" class="headerlink" title="3.1 Arrays类概述"></a>3.1 Arrays类概述</h2><p>​    java.util.Arrays类：该类包含用于操作数组的各种方法（如排序和搜索）</p>
<h2 id="3-2-Arrays类常用方法"><a href="#3-2-Arrays类常用方法" class="headerlink" title="3.2 Arrays类常用方法"></a>3.2 Arrays类常用方法</h2><ul>
<li><p>public static void sort(int[] a)：按照数字顺序排列指定的数组</p>
</li>
<li><p>public static String toString(int[] a)：返回指定数组的内容的字符串表示形式</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr = &#123;<span class="number">432</span>, <span class="number">53</span>, <span class="number">6</span>, <span class="number">323</span>, <span class="number">765</span>, <span class="number">7</span>, <span class="number">254</span>, <span class="number">37</span>, <span class="number">698</span>, <span class="number">97</span>, <span class="number">64</span>, <span class="number">7</span>&#125;;</span><br><span class="line">    <span class="comment">//将数组排序</span></span><br><span class="line">    Arrays.sort(arr);</span><br><span class="line">    <span class="comment">//打印数组</span></span><br><span class="line">    System.out.println(Arrays.toString(arr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">6</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">37</span>, <span class="number">53</span>, <span class="number">64</span>, <span class="number">97</span>, <span class="number">254</span>, <span class="number">323</span>, <span class="number">432</span>, <span class="number">698</span>, <span class="number">765</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="第四章-包装类"><a href="#第四章-包装类" class="headerlink" title="第四章  包装类"></a>第四章  包装类</h1><h2 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h2><p>Java提供了两个类型系统，基本类型与引用类型，使用基本类型在于效率，然而很多情况，会创建对象使用，因为对象可以做更多的功能，如果想要我们的基本类型像对象一样操作，就可以使用基本类型对应的包装类，如下：</p>
<table>
<thead>
<tr>
<th>基本类型</th>
<th>对应的包装类（位于java.lang包中）</th>
</tr>
</thead>
<tbody><tr>
<td>byte</td>
<td>Byte</td>
</tr>
<tr>
<td>short</td>
<td>Short</td>
</tr>
<tr>
<td>int</td>
<td><strong>Integer</strong></td>
</tr>
<tr>
<td>long</td>
<td>Long</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>double</td>
<td>Double</td>
</tr>
<tr>
<td>char</td>
<td><strong>Character</strong></td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
</tr>
</tbody></table>
<h2 id="4-2-Integer类"><a href="#4-2-Integer类" class="headerlink" title="4.2 Integer类"></a>4.2 Integer类</h2><ul>
<li><p>Integer类概述</p>
<p>包装一个对象中的原始类型 int 的值</p>
</li>
<li><p>Integer类构造方法及静态方法</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>public Integer(int   value)</td>
<td>根据 int 值创建 Integer 对象(过时)</td>
</tr>
<tr>
<td>public Integer(String s)</td>
<td>根据 String 值创建 Integer 对象(过时)</td>
</tr>
<tr>
<td>public static Integer valueOf(int i)</td>
<td>返回表示指定的 int 值的 Integer   实例</td>
</tr>
<tr>
<td>public static Integer valueOf(String s)</td>
<td>返回保存指定String值的 Integer 对象</td>
</tr>
</tbody></table>
<ul>
<li>示例代码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//public Integer(int value)：根据 int 值创建 Integer 对象(过时)</span></span><br><span class="line">        Integer i1 = <span class="keyword">new</span> Integer(<span class="number">100</span>);</span><br><span class="line">        System.out.println(i1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//public Integer(String s)：根据 String 值创建 Integer 对象(过时)</span></span><br><span class="line">        Integer i2 = <span class="keyword">new</span> Integer(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">		<span class="comment">//Integer i2 = new Integer(&quot;abc&quot;); //NumberFormatException</span></span><br><span class="line">        System.out.println(i2);</span><br><span class="line">        System.out.println(<span class="string">&quot;--------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//public static Integer valueOf(int i)：返回表示指定的 int 值的 Integer 实例</span></span><br><span class="line">        Integer i3 = Integer.valueOf(<span class="number">100</span>);</span><br><span class="line">        System.out.println(i3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//public static Integer valueOf(String s)：返回保存指定String值的Integer对象 </span></span><br><span class="line">        Integer i4 = Integer.valueOf(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">        System.out.println(i4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-3-装箱与拆箱"><a href="#4-3-装箱与拆箱" class="headerlink" title="4.3 装箱与拆箱"></a>4.3 装箱与拆箱</h2><p>基本类型与对应的包装类对象之间，来回转换的过程称为”装箱“与”拆箱“：</p>
<ul>
<li><strong>装箱</strong>：从基本类型转换为对应的包装类对象。</li>
<li><strong>拆箱</strong>：从包装类对象转换为对应的基本类型。</li>
</ul>
<p>用Integer与 int为例：（看懂代码即可）</p>
<p>基本数值—-&gt;包装对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer i = <span class="keyword">new</span> Integer(<span class="number">4</span>);<span class="comment">//使用构造函数函数</span></span><br><span class="line">Integer iii = Integer.valueOf(<span class="number">4</span>);<span class="comment">//使用包装类中的valueOf方法</span></span><br></pre></td></tr></table></figure>

<p>包装对象—-&gt;基本数值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num = i.intValue();</span><br></pre></td></tr></table></figure>



<h2 id="4-4-自动装箱与自动拆箱"><a href="#4-4-自动装箱与自动拆箱" class="headerlink" title="4.4 自动装箱与自动拆箱"></a>4.4 自动装箱与自动拆箱</h2><p>由于我们经常要做基本类型与包装类之间的转换，从Java 5（JDK 1.5）开始，基本类型与包装类的装箱、拆箱动作可以自动完成。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Integer i = <span class="number">4</span>;<span class="comment">//自动装箱。相当于Integer i = Integer.valueOf(4);</span></span><br><span class="line">i = i + <span class="number">5</span>;<span class="comment">//等号右边：将i对象转成基本数值(自动拆箱) i.intValue() + 5;</span></span><br><span class="line"><span class="comment">//加法运算完成后，再次装箱，把基本数值转成对象。</span></span><br></pre></td></tr></table></figure>



<h2 id="4-5-基本类型与字符串之间的转换"><a href="#4-5-基本类型与字符串之间的转换" class="headerlink" title="4.5 基本类型与字符串之间的转换"></a>4.5 基本类型与字符串之间的转换</h2><h3 id="基本类型转换为String"><a href="#基本类型转换为String" class="headerlink" title="基本类型转换为String"></a>基本类型转换为String</h3><ul>
<li>转换方式</li>
<li>方式一：直接在数字后加一个空字符串</li>
<li>方式二：通过String类静态方法valueOf()</li>
<li>示例代码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//int --- String</span></span><br><span class="line">        <span class="keyword">int</span> number = <span class="number">100</span>;</span><br><span class="line">        <span class="comment">//方式1</span></span><br><span class="line">        String s1 = number + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        <span class="comment">//方式2</span></span><br><span class="line">        <span class="comment">//public static String valueOf(int i)</span></span><br><span class="line">        String s2 = String.valueOf(number);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">        System.out.println(<span class="string">&quot;--------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="String转换成基本类型"><a href="#String转换成基本类型" class="headerlink" title="String转换成基本类型"></a>String转换成基本类型</h3><p>除了Character类之外，其他所有包装类都具有parseXxx静态方法可以将字符串参数转换为对应的基本类型：</p>
<ul>
<li><code>public static byte parseByte(String s)</code>：将字符串参数转换为对应的byte基本类型。</li>
<li><code>public static short parseShort(String s)</code>：将字符串参数转换为对应的short基本类型。</li>
<li><strong><code>public static int parseInt(String s)</code>：将字符串参数转换为对应的int基本类型。</strong></li>
<li><strong><code>public static long parseLong(String s)</code>：将字符串参数转换为对应的long基本类型。</strong></li>
<li><code>public static float parseFloat(String s)</code>：将字符串参数转换为对应的float基本类型。</li>
<li><code>public static double parseDouble(String s)</code>：将字符串参数转换为对应的double基本类型。</li>
<li><code>public static boolean parseBoolean(String s)</code>：将字符串参数转换为对应的boolean基本类型。</li>
</ul>
<p>代码使用（仅以Integer类的静态方法parseXxx为例）如：</p>
<ul>
<li>转换方式<ul>
<li>方式一：先将字符串数字转成Integer，再调用valueOf()方法</li>
<li>方式二：通过Integer静态方法parseInt()进行转换</li>
</ul>
</li>
<li>示例代码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//String --- int</span></span><br><span class="line">        String s = <span class="string">&quot;100&quot;</span>;</span><br><span class="line">        <span class="comment">//方式1：String --- Integer --- int</span></span><br><span class="line">        Integer i = Integer.valueOf(s);</span><br><span class="line">        <span class="comment">//public int intValue()</span></span><br><span class="line">        <span class="keyword">int</span> x = i.intValue();</span><br><span class="line">        System.out.println(x);</span><br><span class="line">        <span class="comment">//方式2</span></span><br><span class="line">        <span class="comment">//public static int parseInt(String s)</span></span><br><span class="line">        <span class="keyword">int</span> y = Integer.parseInt(s);</span><br><span class="line">        System.out.println(y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意:如果字符串参数的内容无法正确转换为对应的基本类型，则会抛出<code>java.lang.NumberFormatException</code>异常。</p>
</blockquote>
<h1 id="第五章-String类常用方法"><a href="#第五章-String类常用方法" class="headerlink" title="第五章 String类常用方法"></a>第五章 String类常用方法</h1><h2 id="5-1-concat"><a href="#5-1-concat" class="headerlink" title="5.1 concat"></a>5.1 concat</h2><ul>
<li><p>方法原型：public String concat (String str)</p>
</li>
<li><p>功能：将当前字符串与参数字符串进行”拼接”，返回一个新字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">String s2 = <span class="string">&quot;World&quot;</span>;</span><br><span class="line">String result = s1.concat(s2);</span><br><span class="line">System.out.println(<span class="string">&quot;result = &quot;</span> + result);</span><br><span class="line">System.out.println(<span class="string">&quot;s1 = &quot;</span> + s1);</span><br><span class="line">System.out.println(<span class="string">&quot;s2 = &quot;</span> + s2);</span><br></pre></td></tr></table></figure>

<p>concat的作用和+符号的不同：</p>
<p>​    1). concat只能拼接String类型，不能拼接其它类型。</p>
<p>​         +符号可以拼接任何类型。</p>
<p>​    2). concat的效率要高于+符号。</p>
</li>
</ul>
<h2 id="5-2-contains"><a href="#5-2-contains" class="headerlink" title="5.2 contains"></a>5.2 contains</h2><ul>
<li><p>方法原型：public boolean contains (CharSequence s)</p>
<p>CharSequence是一个接口，String类是它的实现类。</p>
</li>
<li><p>功能：判断参数字符串在当前字符串中是否存在(区分大小写)。存在，返回true，否则，返回false。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;我爱Java，我爱学习！&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;字符串中是否包含Java：&quot;</span> + s.contains(<span class="string">&quot;Java&quot;</span>));<span class="comment">//true</span></span><br><span class="line">System.out.println(<span class="string">&quot;字符串中是否包含java：&quot;</span> + s.contains(<span class="string">&quot;java&quot;</span>))<span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-3-endsWith"><a href="#5-3-endsWith" class="headerlink" title="5.3 endsWith"></a>5.3 endsWith</h2><ul>
<li><p>方法原型：public boolean endsWith(String suffix)</p>
</li>
<li><p>功能：测试此字符串是否以指定的后缀结尾(区分大小写)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String name = <span class="string">&quot;Test.java&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;判断name是否以java结尾：&quot;</span> + name.endsWith(<span class="string">&quot;java&quot;</span>));<span class="comment">//true</span></span><br><span class="line">System.out.println(<span class="string">&quot;判断name是否以Java结尾：&quot;</span> + name.endsWith(<span class="string">&quot;Java&quot;</span>));<span class="comment">//false</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-4-startsWith"><a href="#5-4-startsWith" class="headerlink" title="5.4 startsWith"></a>5.4 startsWith</h2><ul>
<li><p>方法原型：public boolean startsWith(String prefix)</p>
</li>
<li><p>功能：测试此字符串是否以指定的前缀开始(区分大小写)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String name = <span class="string">&quot;我爱Java&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;字符串是否以‘我’开头：&quot;</span> + name.startsWith(<span class="string">&quot;我&quot;</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-5-indexOf"><a href="#5-5-indexOf" class="headerlink" title="5.5 indexOf"></a>5.5 indexOf</h2><ul>
<li><p>方法原型：public int indexOf(String str)</p>
</li>
<li><p>功能：返回指定子字符串第一次出现的字符串内的索引。如果不包含，则返回-1.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;我爱Java，我爱学习！&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;在字符串中，Java第一次出现的位置：&quot;</span> + str.indexOf(<span class="string">&quot;Java&quot;</span>));<span class="comment">//2</span></span><br><span class="line">System.out.println(<span class="string">&quot;在字符串中，java第一次出现的位置：&quot;</span> + str.indexOf(<span class="string">&quot;java&quot;</span>));<span class="comment">//-1</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-6-lastIndexOf"><a href="#5-6-lastIndexOf" class="headerlink" title="5.6 lastIndexOf"></a>5.6 lastIndexOf</h2><ul>
<li><p>方法原型：public int lastIndexOf(String str)</p>
</li>
<li><p>功能：返回指定子字符串最后一次出现的字符串中的索引。 如果不包含，则返回-1.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;我爱Java，我爱学习！&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;在字符串中，&#x27;我&#x27;最后一次出现的位置：&quot;</span> + str.lastIndexOf(<span class="string">&quot;我&quot;</span>));<span class="comment">//7</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-7-replace"><a href="#5-7-replace" class="headerlink" title="5.7 replace"></a>5.7 replace</h2><ul>
<li><p>方法原型：public String replace(CharSequence target,CharSequence replacement)</p>
</li>
<li><p>功能：将与字面目标序列匹配的字符串的每个子字符串替换为指定的文字替换序列。 替换从字符串开始到结束，例如，在字符串“aaa”中用“b”替换“aa”将导致“ba”而不是“ab”。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;我爱吃红烧鲤鱼，我太想吃红烧鲤鱼了！&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;将&#x27;红烧鲤鱼&#x27;替换为&#x27;咸水鸡&#x27;：&quot;</span> + str.replace(<span class="string">&quot;红烧鲤鱼&quot;</span>,<span class="string">&quot;咸水鸡&quot;</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;原字符串：&quot;</span> + str);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-8-substring"><a href="#5-8-substring" class="headerlink" title="5.8 substring"></a>5.8 substring</h2><ul>
<li><p>方法原型：public String substring(int beginIndex)：将当前字符串从beginIndex开始截取到末尾。</p>
</li>
<li><p>方法原型：public String substring(int beginIndex, int endIndex)：将当前字符串从beginIndex开始截取到endIndex - 1处。</p>
</li>
<li><p>功能：截取字符串，并将截取后的字符串返回。原字符串不变。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;我爱Java&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;截取&#x27;Java&#x27;：&quot;</span> + str.substring(<span class="number">2</span>));<span class="comment">//Java</span></span><br><span class="line">System.out.println(<span class="string">&quot;截取&#x27;我爱&#x27;：&quot;</span> + str.substring(<span class="number">0</span>,<span class="number">2</span>))<span class="comment">//我爱</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-9-toCharArray"><a href="#5-9-toCharArray" class="headerlink" title="5.9 toCharArray"></a>5.9 toCharArray</h2><ul>
<li><p>方法原型：public char[] toCharArray()</p>
</li>
<li><p>功能：将当前字符串转换为char[]数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;身无彩凤双飞翼&quot;</span>;</span><br><span class="line"><span class="keyword">char</span>[] chArray = str.toCharArray();</span><br><span class="line">System.out.println(chArray);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-10-toLowerCase"><a href="#5-10-toLowerCase" class="headerlink" title="5.10 toLowerCase"></a>5.10 toLowerCase</h2><ul>
<li><p>方法原型： public String toLowerCase()</p>
</li>
<li><p>功能：将当前字符串中的所有英文字符转换为小写，并返回一个转换后的新字符串，原字符串不变。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;我爱Java&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;转换为小写：&quot;</span> + str.toLowerCase());<span class="comment">//我爱java</span></span><br><span class="line">System.out.println(<span class="string">&quot;原字符串：&quot;</span> + str);<span class="comment">//我爱Java</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-11-toUpperCase"><a href="#5-11-toUpperCase" class="headerlink" title="5.11 toUpperCase"></a>5.11 toUpperCase</h2><ul>
<li><p>方法原型：public String toUpperCase()</p>
</li>
<li><p>功能：将当前字符串中的所有英文字符转换为大写，并返回一个转换后的新字符串，原字符串不变。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;我爱Java&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;转换为大写：&quot;</span> + str.toUpperCase());<span class="comment">//我爱JAVA</span></span><br><span class="line">System.out.println(<span class="string">&quot;原字符串：&quot;</span> + str);<span class="comment">//我爱Java</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-12-trim"><a href="#5-12-trim" class="headerlink" title="5.12 trim"></a>5.12 trim</h2><ul>
<li><p>方法原型：public String trim()</p>
</li>
<li><p>功能：去掉当前字符串的前后空格，并返回一个新字符串，原字符串不变。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;  ad  min     &quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;去掉前后空格后|&quot;</span> + str.trim() + <span class="string">&quot;|&quot;</span>);<span class="comment">//去掉前后空格后|ad  min|</span></span><br><span class="line">System.out.println(<span class="string">&quot;原字符串|&quot;</span> + str + <span class="string">&quot;|&quot;</span>);<span class="comment">//原字符串|  ad  min     |</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-13-split"><a href="#5-13-split" class="headerlink" title="5.13 split"></a>5.13 split</h2><ul>
<li><p>方法原型：public String[] split(String regex)</p>
</li>
<li><p>功能：切割字符串——将字符串以regex作为分隔符进行切割。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;张三,20,男,13513153355&quot;</span>;</span><br><span class="line">String[] arr = str.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr.length ; i++)&#123;</span><br><span class="line">    System.out.println(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：此方法的参数实际上是一个”正则表达式”，功能很强大，后边学到正则表达式时会再次看到此方法。</p>
</li>
</ul>
<h1 id="第六章-引用类型使用小结"><a href="#第六章-引用类型使用小结" class="headerlink" title="第六章 引用类型使用小结"></a>第六章 引用类型使用小结</h1><p>​        实际的开发中，引用类型的使用非常重要，也是非常普遍的。我们可以在理解基本类型的使用方式基础上，进一步去掌握引用类型的使用方式。基本类型可以作为成员变量、作为方法的参数、作为方法的返回值，那么当然引用类型也是可以的。在这我们使用两个例子 , 来学习一下。</p>
<h2 id="6-1-类名作为方法参数和返回值"><a href="#6-1-类名作为方法参数和返回值" class="headerlink" title="6.1 类名作为方法参数和返回值"></a>6.1 类名作为方法参数和返回值</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;吃饭&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        method(<span class="keyword">new</span> Person());</span><br><span class="line">   		Person p = createPerson();</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">//引用类型作为方法参数,在前面笔记本案例中我们也使用了接口类型作为方法参数</span></span><br><span class="line">  <span class="function">pubic <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(Person p)</span></span>&#123;</span><br><span class="line">       p.eat();</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">//引用类型作为返回值</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Person <span class="title">createPerson</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">new</span> Person();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="6-2-抽象类作为方法参数和返回值"><a href="#6-2-抽象类作为方法参数和返回值" class="headerlink" title="6.2 抽象类作为方法参数和返回值"></a>6.2 抽象类作为方法参数和返回值</h2><ul>
<li>抽象类作为形参：表示可以接收任何此抽象类的”子类对象”作为实参；</li>
<li>抽象类作为返回值：表示”此方法可以返回此抽象类的任何子类对象”；</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 定义一个抽象类 */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃饭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义子类Student*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生的工作是学习...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;老师的工作是教书育人...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*测试类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.调用method1()方法，可以传入一个Student对象，也可以传入一个Teacher对象</span></span><br><span class="line">        method1(<span class="keyword">new</span> Student());<span class="comment">//OK的</span></span><br><span class="line">        method1(<span class="keyword">new</span> Teacher());<span class="comment">//OK的</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.调用method2()方法，接收的可能是Student对象，也可能是Teacher对象</span></span><br><span class="line">        <span class="comment">//所以，这里使用Person类型接收</span></span><br><span class="line">        Person p = method2();</span><br><span class="line">        p.work();<span class="comment">//如果是Student对象，则调用的是Student的work()；如果是Teacher对象，调用的是Teacher的work()。</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//-------------------------------------------------------------------------------//</span></span><br><span class="line">    <span class="comment">//抽象类Person作为形参——可以接收任何它的子类对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">(Person p)</span></span>&#123;</span><br><span class="line">        p.eat();</span><br><span class="line">        p.work();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//抽象类Person作为返回值——此方法可以返回一个Student对象，也可以返回一个Teacher对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Person <span class="title">method2</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="comment">//  return new Student();//OK的</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Teacher();<span class="comment">//OK的</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="6-3-接口作为方法参数和返回值"><a href="#6-3-接口作为方法参数和返回值" class="headerlink" title="6.3 接口作为方法参数和返回值"></a>6.3 接口作为方法参数和返回值</h2><ul>
<li>接口作为方法的形参：【同抽象类】</li>
<li>接口作为方法的返回值：【同抽象类】</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*定义一个接口*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">USB</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义子类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Keyboard</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;使用键盘...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mouse</span> <span class="keyword">implements</span> <span class="title">USB</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;使用鼠标...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义测试类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.调用method1()方法，需要传入USB的任何子类对象都可以</span></span><br><span class="line">        method1(<span class="keyword">new</span> Keyboard());</span><br><span class="line">        method2(<span class="keyword">new</span> Mouse());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.调用method2()方法，此方法可能返回一个Keyboard对象，也可能返回一个Mouse对象</span></span><br><span class="line">        USB usb = method2();</span><br><span class="line">        usb.run();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//接口作为形参</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">(USB usb)</span></span>&#123;</span><br><span class="line">        usb.run();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//接口作为返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> USB <span class="title">method2</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">//      return new Keyboard();//OK的</span></span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">new</span> Mouse();<span class="comment">//OK的    </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="6-4-类名作为成员变量"><a href="#6-4-类名作为成员变量" class="headerlink" title="6.4 类名作为成员变量"></a>6.4 类名作为成员变量</h2><p>​    我们每个人(Person)都有一个身份证(IDCard) , 为了表示这种关系 , 就需要在Person中定义一个IDCard的成员变量。定义Person类时，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;<span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">int</span> age;<span class="comment">//年龄</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    使用<code>String</code> 类型表示姓名 , <code>int</code> 类型表示年龄。其实，<code>String</code>本身就是引用类型，我们往往忽略了它是引用类型。如果我们继续丰富这个类的定义，给<code>Person</code> 增加身份证号 , 身份证签发机关等属性，我们将如何编写呢？这时候就需要编写一个IDCard类了</p>
<p>定义IDCard(身份证)类，添加身份证号 , 签发地等属性：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDCard</span> </span>&#123;</span><br><span class="line">    String idNum;<span class="comment">//身份证号</span></span><br><span class="line">    String authority;<span class="comment">//签发地</span></span><br><span class="line">  </span><br><span class="line">  	<span class="comment">//getter和setter方法</span></span><br><span class="line">  	<span class="comment">//...</span></span><br><span class="line">  	</span><br><span class="line">  	<span class="comment">//toString方法</span></span><br><span class="line">  	<span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改Person类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;<span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">int</span> age;<span class="comment">//年龄</span></span><br><span class="line"></span><br><span class="line">    IDCard idCard;<span class="comment">//表示自己的身份证信息</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//name和age的getter、setter方法</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IDCard <span class="title">getIdCard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> idCard;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIdCard</span><span class="params">(IDCard idCard)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.idCard = idCard;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, idCard=&quot;</span> + idCard +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建IDCard对象</span></span><br><span class="line">        IDCard idCard = <span class="keyword">new</span> IDCard();</span><br><span class="line">        <span class="comment">//设置身份证号</span></span><br><span class="line">        idCard.setIdNum(<span class="string">&quot;110113201606066666&quot;</span>);</span><br><span class="line">        <span class="comment">//设置签发地</span></span><br><span class="line">        idCard.setAuthority(<span class="string">&quot;北京市顺义区公安局&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建Person对象</span></span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="comment">//设置姓名</span></span><br><span class="line">        p.setName(<span class="string">&quot;小顺子&quot;</span>);</span><br><span class="line">        <span class="comment">//设置年龄</span></span><br><span class="line">        p.setAge(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//设置身份证信息</span></span><br><span class="line">        p.setIdCard(idCard);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//打印小顺子的信息</span></span><br><span class="line">        System.out.println(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出结果:</span><br><span class="line">Person&#123;name=<span class="string">&#x27;小顺子&#x27;</span>, age=<span class="number">2</span>, idCard=IDCard&#123;idNum=<span class="string">&#x27;110113201606066666&#x27;</span>, authority=<span class="string">&#x27;北京市顺义区公安局&#x27;</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>类作为成员变量时，对它进行赋值的操作，实际上，是赋给它该类的一个对象。同理 , 接口也是如此 , 例如我们笔记本案例中使用usb设备。在此我们只是通过小例子 , 让大家熟识下引用类型的用法 , 后续在咱们的就业班学习中 , 这种方式会使用的很多。  </p>
</blockquote>
<h2 id="6-5-抽象类作为成员变量"><a href="#6-5-抽象类作为成员变量" class="headerlink" title="6.5 抽象类作为成员变量"></a>6.5 抽象类作为成员变量</h2><ul>
<li>抽象类作为成员变量——为此成员变量赋值时，可以是任何它的子类对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*定义抽象类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义子类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;小猫睡觉...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;一只可爱的小猫&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;小狗睡觉...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;一只可爱的小狗&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义Student类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Animal animal;<span class="comment">//表示学生有一个动物，可以是Cat，也可以是Dog</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,<span class="keyword">int</span> age,Animal animal)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.animal = animal;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAnimal</span><span class="params">(Animal animal)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.animal = animal;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Animal <span class="title">getAnimal</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.animal;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student [name = &quot;</span> + name + </span><br><span class="line">            	<span class="string">&quot; , age = &quot;</span> + age + </span><br><span class="line">            	<span class="string">&quot; , animal = &quot;</span> + animal + </span><br><span class="line">            	<span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义测试类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Student stu = <span class="keyword">new</span> Student();</span><br><span class="line">        stu.setName(<span class="string">&quot;章子怡&quot;</span>);</span><br><span class="line">        stu.setAge(<span class="number">19</span>);</span><br><span class="line">    <span class="comment">//    stu.setAnimal(new Cat());//表示Student有一只猫</span></span><br><span class="line">        stu.setAnimal(<span class="keyword">new</span> Dog());<span class="comment">//表示Student有一只狗</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(stu);<span class="comment">//隐式调用stu.toString()，而stu.toString()中会隐式调用animal的toString().</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="6-6-接口作为成员变量"><a href="#6-6-接口作为成员变量" class="headerlink" title="6.6 接口作为成员变量"></a>6.6 接口作为成员变量</h2><ul>
<li>接口类型作为成员变量——【同抽象类】</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*定义接口*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义子类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">implements</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;小猫睡觉...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;一只可爱的小猫&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;小狗睡觉...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;一只可爱的小狗&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义Student类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Animal animal;<span class="comment">//表示学生有一个动物，可以是Cat，也可以是Dog</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,<span class="keyword">int</span> age,Animal animal)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.animal = animal;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAnimal</span><span class="params">(Animal animal)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.animal = animal;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Animal <span class="title">getAnimal</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.animal;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student [name = &quot;</span> + name + </span><br><span class="line">            	<span class="string">&quot; , age = &quot;</span> + age + </span><br><span class="line">            	<span class="string">&quot; , animal = &quot;</span> + animal + </span><br><span class="line">            	<span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义测试类*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Student stu = <span class="keyword">new</span> Student();</span><br><span class="line">        stu.setName(<span class="string">&quot;章子怡&quot;</span>);</span><br><span class="line">        stu.setAge(<span class="number">19</span>);</span><br><span class="line">    <span class="comment">//    stu.setAnimal(new Cat());//表示Student有一只猫</span></span><br><span class="line">        stu.setAnimal(<span class="keyword">new</span> Dog());<span class="comment">//表示Student有一只狗</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(stu);<span class="comment">//隐式调用stu.toString()，而stu.toString()中会隐式调用animal的toString().</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day04%E5%B8%B8%E7%94%A8API/day04%E3%80%90%E5%B8%B8%E7%94%A8API%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day04%E5%B8%B8%E7%94%A8API/day04%E3%80%90%E5%B8%B8%E7%94%A8API%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:54" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:54+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day04-【常用API】"><a href="#day04-【常用API】" class="headerlink" title="day04 【常用API】"></a>day04 【常用API】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li>Object类</li>
<li>时间日期类</li>
<li>Math类</li>
<li>System类</li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><p><input disabled="" type="checkbox">  能够说出Object类的特点</p>
</li>
<li><p><input disabled="" type="checkbox">  能够重写Object类的toString方法</p>
</li>
<li><p><input disabled="" type="checkbox">  能够重写Object类的equals方法</p>
</li>
<li><p><input disabled="" type="checkbox">  能够使用日期类输出当前日期</p>
</li>
<li><p><input disabled="" type="checkbox">  能够使用将日期格式化为字符串的方法</p>
</li>
<li><p><input disabled="" type="checkbox">  能够使用将字符串转换成日期的方法</p>
</li>
<li><p><input disabled="" type="checkbox">  能够使用Calendar类的get、set、add方法计算日期</p>
</li>
<li><p><input disabled="" type="checkbox">  能够使用Math类对某个浮点数进行四舍五入取整</p>
</li>
<li><p><input disabled="" type="checkbox">  能够使用System类获取当前系统毫秒值</p>
</li>
</ul>
<h1 id="第一章-Object类"><a href="#第一章-Object类" class="headerlink" title="第一章 Object类"></a>第一章 Object类</h1><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p><code>java.lang.Object</code>类是Java语言中的根类，即所有类的父类。它中描述的所有方法子类都可以使用。在对象实例化的时候，最终找的父类就是Object。</p>
<p>如果一个类没有特别指定父类，    那么默认则继承自Object类。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> /*<span class="keyword">extends</span> <span class="title">Object</span>*/ </span>&#123;</span><br><span class="line">  	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>根据JDK源代码及Object类的API文档，Object类当中包含的方法有11个。今天我们主要学习其中的2个：</p>
<ul>
<li><code>public String toString()</code>：返回该对象的字符串表示。</li>
<li><code>public boolean equals(Object obj)</code>：指示其他某个对象是否与此对象“相等”。</li>
</ul>
<h2 id="1-2-toString方法"><a href="#1-2-toString方法" class="headerlink" title="1.2 toString方法"></a>1.2 toString方法</h2><h3 id="方法摘要"><a href="#方法摘要" class="headerlink" title="方法摘要"></a>方法摘要</h3><ul>
<li><code>public String toString()</code>：返回该对象的字符串表示。</li>
</ul>
<p>toString方法返回该对象的字符串表示，其实该字符串内容就是：对象的类型名+@+内存地址值。</p>
<p>由于toString方法返回的结果是内存地址，而在开发中，经常需要按照对象的属性得到相应的字符串表现形式，因此也需要重写它。</p>
<h3 id="覆盖重写"><a href="#覆盖重写" class="headerlink" title="覆盖重写"></a>覆盖重写</h3><p>如果不希望使用toString方法的默认行为，则可以对它进行覆盖重写。例如自定义的Person类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> + <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, age=&quot;</span> + age + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 省略构造器与Getter Setter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在IntelliJ IDEA中，可以点击<code>Code</code>菜单中的<code>Generate...</code>，也可以使用快捷键<code>alt+insert</code>，点击<code>toString()</code>选项。选择需要包含的成员变量并确定。</p>
<blockquote>
<p>小贴士： 在我们直接使用输出语句输出对象名的时候,其实通过该对象调用了其toString()方法。</p>
</blockquote>
<blockquote>
<p>小结：toString方法可以将对象转成字符串。</p>
</blockquote>
<h2 id="1-3-equals方法"><a href="#1-3-equals方法" class="headerlink" title="1.3 equals方法"></a>1.3 equals方法</h2><h3 id="方法摘要-1"><a href="#方法摘要-1" class="headerlink" title="方法摘要"></a>方法摘要</h3><ul>
<li><code>public boolean equals(Object obj)</code>：指示其他某个对象是否与此对象“相等”。</li>
</ul>
<p>调用成员方法equals并指定参数为另一个对象，则可以判断这两个对象是否是相同的。这里的“相同”有默认和自定义两种方式。</p>
<h3 id="默认地址比较"><a href="#默认地址比较" class="headerlink" title="默认地址比较"></a>默认地址比较</h3><p>如果没有覆盖重写equals方法，那么Object类中默认进行<code>==</code>运算符的对象地址比较，只要不是同一个对象，结果必然为false。</p>
<h3 id="对象内容比较"><a href="#对象内容比较" class="headerlink" title="对象内容比较"></a>对象内容比较</h3><p>如果希望进行对象的内容比较，即所有或指定的部分成员变量相同就判定两个对象相同，则可以覆盖重写equals方法。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 如果对象地址一样，则认为相同</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// 如果参数为空，或者类型信息不一样，则认为不同</span></span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass())</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">// 转换为当前类型</span></span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="comment">// 要求基本类型相等，并且将引用类型交给java.util.Objects类的equals静态方法取用结果</span></span><br><span class="line">        <span class="keyword">return</span> age == person.age &amp;&amp; Objects.equals(name, person.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码充分考虑了对象为空、类型一致等问题，但方法内容并不唯一。大多数IDE都可以自动生成equals方法的代码内容。在IntelliJ IDEA中，可以使用<code>Code</code>菜单中的<code>Generate…</code>选项，也可以使用快捷键<code>alt+insert</code>，并选择<code>equals() and hashCode()</code>进行自动代码生成。</p>
<blockquote>
<p>tips：Object类当中的hashCode等其他方法，今后学习。</p>
</blockquote>
<blockquote>
<p>小结：equals方法可以判断两个对象是否相同，如果要定义自己的比较规则，需要进行重写。</p>
</blockquote>
<h2 id="1-4-native本地方法"><a href="#1-4-native本地方法" class="headerlink" title="1.4 native本地方法"></a>1.4 native本地方法</h2><p>在Object类的源码中定义了 <strong>native</strong> 修饰的方法， native 修饰的方法称为本地方法。</p>
<ul>
<li><p>本地方法的作用： 就是Java调用非<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Java/85979">Java</a>代码的接口。方法的实现由非Java语言实现，比如C或C++。 </p>
</li>
<li><p>当我们需要访问C或C++的代码时，或者访问操作系统的底层类库时，可以使用本地方法实现。</p>
<p>也就意味着Java可以和其它的编程语言进行交互。</p>
</li>
</ul>
<blockquote>
<p>Object类源码(部分)：</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Class &#123;<span class="doctag">@code</span> Object&#125; is the root of the class hierarchy.</span></span><br><span class="line"><span class="comment"> * Every class has &#123;<span class="doctag">@code</span> Object&#125; as a superclass. All objects,</span></span><br><span class="line"><span class="comment"> * including arrays, implement the methods of this class.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>  unascribed</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span>     java.lang.Class</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span>   JDK1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Object</span> </span>&#123;</span><br><span class="line">	<span class="comment">//本地方法</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">registerNatives</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//静态代码块</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        registerNatives();</span><br><span class="line">    &#125;</span><br><span class="line">    ......</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-5-Objects类"><a href="#1-5-Objects类" class="headerlink" title="1.5 Objects类"></a>1.5 Objects类</h2><p>在刚才IDEA自动重写equals代码中，使用到了<code>java.util.Objects</code>类，那么这个类是什么呢？</p>
<p>在<strong>JDK7</strong>添加了一个Objects工具类，它提供了一些方法来操作对象，它由一些静态的实用方法组成，这些方法是null-save（空指针安全的）或null-tolerant（容忍空指针的），用于计算对象的hashCode、返回对象的字符串表示形式、比较两个对象。</p>
<p>在比较两个对象的时候，Object的equals方法容易抛出空指针异常，而Objects类中的equals方法就优化了这个问题。方法如下：</p>
<ul>
<li><code>public static boolean equals(Object a, Object b)</code>:判断两个对象是否相等。</li>
</ul>
<p>我们可以查看一下源码，学习一下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object a, Object b)</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> (a == b) || (a != <span class="keyword">null</span> &amp;&amp; a.equals(b));  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第二章-Date类"><a href="#第二章-Date类" class="headerlink" title="第二章 Date类"></a>第二章 Date类</h1><h2 id="2-1概述"><a href="#2-1概述" class="headerlink" title="2.1概述"></a>2.1概述</h2><p><code> java.util.Date</code>类 表示特定的瞬间，精确到毫秒。</p>
<p>继续查阅Date类的描述，发现Date拥有多个构造函数，只是部分已经过时，我们重点看以下两个构造函数</p>
<ul>
<li><code>public Date()</code>：从运行程序的此时此刻到时间原点经历的毫秒值,转换成Date对象，分配Date对象并初始化此对象，以表示分配它的时间（精确到毫秒）。</li>
<li><code>public Date(long date)</code>：将指定参数的毫秒值date,转换成Date对象，分配Date对象并初始化此对象，以表示自从标准基准时间（称为“历元（epoch）”，即1970年1月1日00:00:00 GMT）以来的指定毫秒数。</li>
</ul>
<blockquote>
<p>tips: 由于中国处于东八区（GMT+08:00）是比世界协调时间/格林尼治时间（GMT）快8小时的时区，当格林尼治标准时间为0:00时，东八区的标准时间为08:00。</p>
</blockquote>
<p>简单来说：使用无参构造，可以自动设置当前系统时间的毫秒时刻；指定long类型的构造参数，可以自定义毫秒时刻。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01Date</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建日期对象，把当前的时间</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> Date()); <span class="comment">// Tue Jan 16 14:37:35 CST 2020</span></span><br><span class="line">        <span class="comment">// 创建日期对象，把当前的毫秒值转成日期对象</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> Date(<span class="number">0L</span>)); <span class="comment">// Thu Jan 01 08:00:00 CST 1970</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>tips:在使用println方法时，会自动调用Date类中的toString方法。Date类对Object类中的toString方法进行了覆盖重写，所以结果为指定格式的字符串。</p>
</blockquote>
<h2 id="2-2-常用方法"><a href="#2-2-常用方法" class="headerlink" title="2.2 常用方法"></a>2.2 常用方法</h2><p>Date类中的多数方法已经过时，常用的方法有：</p>
<ul>
<li><code>public long getTime()</code> 把日期对象转换成对应的时间毫秒值。</li>
<li><code>public void setTime(long time)</code> 把方法参数给定的毫秒值设置给日期对象</li>
</ul>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建日期对象</span></span><br><span class="line">        Date d = <span class="keyword">new</span> Date();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//public long getTime():获取的是日期对象从1970年1月1日 00:00:00到现在的毫秒值</span></span><br><span class="line">        <span class="comment">//System.out.println(d.getTime());</span></span><br><span class="line">        <span class="comment">//System.out.println(d.getTime() * 1.0 / 1000 / 60 / 60 / 24 / 365 + &quot;年&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//public void setTime(long time):设置时间，给的是毫秒值</span></span><br><span class="line">        <span class="comment">//long time = 1000*60*60;</span></span><br><span class="line">        <span class="keyword">long</span> time = System.currentTimeMillis();</span><br><span class="line">        d.setTime(time);</span><br><span class="line"></span><br><span class="line">        System.out.println(d);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结：Date表示特定的时间瞬间，我们可以使用Date对象对时间进行操作。</p>
</blockquote>
<h1 id="第三章-DateFormat类"><a href="#第三章-DateFormat类" class="headerlink" title="第三章 DateFormat类"></a>第三章 DateFormat类</h1><h2 id="3-1概述"><a href="#3-1概述" class="headerlink" title="3.1概述"></a>3.1概述</h2><p><code>java.text.DateFormat</code> 是日期/时间格式化子类的抽象类，我们通过这个类可以帮我们完成日期和文本之间的转换,也就是可以在Date对象与String对象之间进行来回转换。</p>
<ul>
<li><strong>格式化</strong>：按照指定的格式，把Date对象转换为String对象。</li>
<li><strong>解析</strong>：按照指定的格式，把String对象转换为Date对象。</li>
</ul>
<h2 id="3-2-构造方法"><a href="#3-2-构造方法" class="headerlink" title="3.2 构造方法"></a>3.2 构造方法</h2><p>由于DateFormat为抽象类，不能直接使用，所以需要常用的子类<code>java.text.SimpleDateFormat</code>。这个类需要一个模式（格式）来指定格式化或解析的标准。构造方法为：</p>
<ul>
<li><code>public SimpleDateFormat(String pattern)</code>：用给定的模式和默认语言环境的日期格式符号构造SimpleDateFormat。参数pattern是一个字符串，代表日期时间的自定义格式。</li>
</ul>
<h2 id="3-3-格式规则"><a href="#3-3-格式规则" class="headerlink" title="3.3 格式规则"></a>3.3 格式规则</h2><p>常用的格式规则为：</p>
<table>
<thead>
<tr>
<th>标识字母（区分大小写）</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>y</td>
<td>年</td>
</tr>
<tr>
<td>M</td>
<td>月</td>
</tr>
<tr>
<td>d</td>
<td>日</td>
</tr>
<tr>
<td>H</td>
<td>时</td>
</tr>
<tr>
<td>m</td>
<td>分</td>
</tr>
<tr>
<td>s</td>
<td>秒</td>
</tr>
</tbody></table>
<blockquote>
<p>备注：更详细的格式规则，可以参考SimpleDateFormat类的API文档。</p>
</blockquote>
<h2 id="3-4-常用方法"><a href="#3-4-常用方法" class="headerlink" title="3.4 常用方法"></a>3.4 常用方法</h2><p>DateFormat类的常用方法有：</p>
<ul>
<li><p><code>public String format(Date date)</code>：将Date对象格式化为字符串。</p>
</li>
<li><p><code>public Date parse(String source)</code>：将字符串解析为Date对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleDateFormatDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">        <span class="comment">//格式化：从 Date 到 String</span></span><br><span class="line">        Date d = <span class="keyword">new</span> Date();</span><br><span class="line">        SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy年MM月dd日 HH:mm:ss&quot;</span>);</span><br><span class="line">        String s = sdf.format(d);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">        System.out.println(<span class="string">&quot;--------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//从 String 到 Date</span></span><br><span class="line">        String ss = <span class="string">&quot;2048-08-09 11:11:11&quot;</span>;</span><br><span class="line">        <span class="comment">//ParseException</span></span><br><span class="line">        SimpleDateFormat sdf2 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        Date dd = sdf2.parse(ss);</span><br><span class="line">        System.out.println(dd);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>小结：DateFormat可以将Date对象和字符串相互转换。</p>
</blockquote>
<h1 id="第四章-Calendar类"><a href="#第四章-Calendar类" class="headerlink" title="第四章 Calendar类"></a>第四章 Calendar类</h1><h2 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h2><ul>
<li>java.util.Calendar类表示一个“日历类”，可以进行日期运算。它是一个抽象类，不能创建对象，我们可以使用它的子类：java.util.GregorianCalendar类。</li>
<li>有两种方式可以获取GregorianCalendar对象：<ul>
<li>直接创建GregorianCalendar对象；</li>
<li>通过Calendar的静态方法getInstance()方法获取GregorianCalendar对象【本次课使用】</li>
</ul>
</li>
</ul>
<h2 id="4-2-常用方法"><a href="#4-2-常用方法" class="headerlink" title="4.2 常用方法"></a>4.2 常用方法</h2><table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>public static Calendar getInstance()</td>
<td>获取一个它的子类GregorianCalendar对象。</td>
</tr>
<tr>
<td>public int get(int field)</td>
<td>获取某个字段的值。field参数表示获取哪个字段的值，<br />可以使用Calender中定义的常量来表示：<br />Calendar.YEAR : 年<br />Calendar.MONTH ：月<br />Calendar.DAY_OF_MONTH：月中的日期<br />Calendar.HOUR：小时<br />Calendar.MINUTE：分钟<br />Calendar.SECOND：秒<br />Calendar.DAY_OF_WEEK：星期</td>
</tr>
<tr>
<td>public void set(int field,int value)</td>
<td>设置某个字段的值</td>
</tr>
<tr>
<td>public void add(int field,int amount)</td>
<td>为某个字段增加/减少指定的值</td>
</tr>
</tbody></table>
<h2 id="4-3-get方法示例"><a href="#4-3-get方法示例" class="headerlink" title="4.3 get方法示例"></a>4.3 get方法示例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.获取一个GregorianCalendar对象</span></span><br><span class="line">        Calendar instance = Calendar.getInstance();<span class="comment">//获取子类对象</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.打印子类对象</span></span><br><span class="line">        System.out.println(instance);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.获取属性</span></span><br><span class="line">        <span class="keyword">int</span> year = instance.get(Calendar.YEAR);</span><br><span class="line">        <span class="keyword">int</span> month = instance.get(Calendar.MONTH) + <span class="number">1</span>;<span class="comment">//Calendar的月份值是0-11</span></span><br><span class="line">        <span class="keyword">int</span> day = instance.get(Calendar.DAY_OF_MONTH);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> hour = instance.get(Calendar.HOUR);</span><br><span class="line">        <span class="keyword">int</span> minute = instance.get(Calendar.MINUTE);</span><br><span class="line">        <span class="keyword">int</span> second = instance.get(Calendar.SECOND);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> week = instance.get(Calendar.DAY_OF_WEEK);<span class="comment">//返回值范围：1--7，分别表示：&quot;星期日&quot;,&quot;星期一&quot;,&quot;星期二&quot;,...,&quot;星期六&quot;</span></span><br><span class="line"></span><br><span class="line">        System.out.println(year + <span class="string">&quot;年&quot;</span> + month + <span class="string">&quot;月&quot;</span> + day + <span class="string">&quot;日&quot;</span> + </span><br><span class="line">                           	hour + <span class="string">&quot;:&quot;</span> + minute + <span class="string">&quot;:&quot;</span> + second);</span><br><span class="line">        System.out.println(getWeek(week));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查表法，查询星期几</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getWeek</span><span class="params">(<span class="keyword">int</span> w)</span> </span>&#123;<span class="comment">//w = 1 --- 7</span></span><br><span class="line">        <span class="comment">//做一个表(数组)</span></span><br><span class="line">        String[] weekArray = &#123;<span class="string">&quot;星期日&quot;</span>, <span class="string">&quot;星期一&quot;</span>, <span class="string">&quot;星期二&quot;</span>, <span class="string">&quot;星期三&quot;</span>, <span class="string">&quot;星期四&quot;</span>, <span class="string">&quot;星期五&quot;</span>, <span class="string">&quot;星期六&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">//            索引      [0]      [1]       [2]      [3]       [4]      [5]      [6]</span></span><br><span class="line">        <span class="comment">//查表</span></span><br><span class="line">        <span class="keyword">return</span> weekArray[w - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="4-4-set方法示例"><a href="#4-4-set方法示例" class="headerlink" title="4.4 set方法示例"></a>4.4 set方法示例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//设置属性——set(int field,int value):</span></span><br><span class="line">		Calendar c1 = Calendar.getInstance();<span class="comment">//获取当前日期</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//计算班长出生那天是星期几(假如班长出生日期为：1998年3月18日)</span></span><br><span class="line">		c1.set(Calendar.YEAR, <span class="number">1998</span>);</span><br><span class="line">		c1.set(Calendar.MONTH, <span class="number">3</span> - <span class="number">1</span>);<span class="comment">//转换为Calendar内部的月份值</span></span><br><span class="line">		c1.set(Calendar.DAY_OF_MONTH, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> w = c1.get(Calendar.DAY_OF_WEEK);</span><br><span class="line">		System.out.println(<span class="string">&quot;班长出生那天是：&quot;</span> + getWeek(w));</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查表法，查询星期几</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getWeek</span><span class="params">(<span class="keyword">int</span> w)</span> </span>&#123;<span class="comment">//w = 1 --- 7</span></span><br><span class="line">        <span class="comment">//做一个表(数组)</span></span><br><span class="line">        String[] weekArray = &#123;<span class="string">&quot;星期日&quot;</span>, <span class="string">&quot;星期一&quot;</span>, <span class="string">&quot;星期二&quot;</span>, <span class="string">&quot;星期三&quot;</span>, <span class="string">&quot;星期四&quot;</span>, <span class="string">&quot;星期五&quot;</span>, <span class="string">&quot;星期六&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">//            索引      [0]      [1]       [2]      [3]       [4]      [5]      [6]</span></span><br><span class="line">        <span class="comment">//查表</span></span><br><span class="line">        <span class="keyword">return</span> weekArray[w - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-5-add方法示例"><a href="#4-5-add方法示例" class="headerlink" title="4.5 add方法示例"></a>4.5 add方法示例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//计算200天以后是哪年哪月哪日，星期几？</span></span><br><span class="line">		Calendar c2 = Calendar.getInstance();<span class="comment">//获取当前日期</span></span><br><span class="line">        c2.add(Calendar.DAY_OF_MONTH, <span class="number">200</span>);<span class="comment">//日期加200</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> y = c2.get(Calendar.YEAR);</span><br><span class="line">        <span class="keyword">int</span> m = c2.get(Calendar.MONTH) + <span class="number">1</span>;<span class="comment">//转换为实际的月份</span></span><br><span class="line">        <span class="keyword">int</span> d = c2.get(Calendar.DAY_OF_MONTH);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> wk = c2.get(Calendar.DAY_OF_WEEK);</span><br><span class="line">        System.out.println(<span class="string">&quot;200天后是：&quot;</span> + y + <span class="string">&quot;年&quot;</span> + m + <span class="string">&quot;月&quot;</span> + d + <span class="string">&quot;日&quot;</span> + getWeek(wk));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查表法，查询星期几</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getWeek</span><span class="params">(<span class="keyword">int</span> w)</span> </span>&#123;<span class="comment">//w = 1 --- 7</span></span><br><span class="line">        <span class="comment">//做一个表(数组)</span></span><br><span class="line">        String[] weekArray = &#123;<span class="string">&quot;星期日&quot;</span>, <span class="string">&quot;星期一&quot;</span>, <span class="string">&quot;星期二&quot;</span>, <span class="string">&quot;星期三&quot;</span>, <span class="string">&quot;星期四&quot;</span>, <span class="string">&quot;星期五&quot;</span>, <span class="string">&quot;星期六&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">//            索引      [0]      [1]       [2]      [3]       [4]      [5]      [6]</span></span><br><span class="line">        <span class="comment">//查表</span></span><br><span class="line">        <span class="keyword">return</span> weekArray[w - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第五章-Math类"><a href="#第五章-Math类" class="headerlink" title="第五章 Math类"></a>第五章 Math类</h1><h2 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1 概述"></a>5.1 概述</h2><ul>
<li>java.lang.Math(类): Math包含执行基本数字运算的方法。</li>
<li>它不能创建对象，它的构造方法被“私有”了。因为他内部都是“静态方法”，通过“类名”直接调用即可。</li>
</ul>
<h2 id="5-2-常用方法"><a href="#5-2-常用方法" class="headerlink" title="5.2 常用方法"></a>5.2 常用方法</h2><table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>public static int abs(int a)</td>
<td>获取参数a的绝对值：</td>
</tr>
<tr>
<td>public static double ceil(double a)</td>
<td>向上取整</td>
</tr>
<tr>
<td>public static double floor(double a)</td>
<td>向下取整</td>
</tr>
<tr>
<td>public static double pow(double a, double b)</td>
<td>获取a的b次幂</td>
</tr>
<tr>
<td>public static long round(double a)</td>
<td>四舍五入取整</td>
</tr>
</tbody></table>
<h2 id="5-3-示例代码"><a href="#5-3-示例代码" class="headerlink" title="5.3 示例代码"></a>5.3 示例代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-5的绝对值：&quot;</span> + Math.abs(-<span class="number">5</span>));<span class="comment">//5</span></span><br><span class="line">    	System.out.println(<span class="string">&quot;3.4向上取整：&quot;</span> + Math.ceil(<span class="number">3.4</span>));<span class="comment">//4.0</span></span><br><span class="line">    	System.out.println(<span class="string">&quot;3.4向下取整：&quot;</span> + Math.floor(<span class="number">3.4</span>));<span class="comment">//3.0</span></span><br><span class="line">    	System.out.println(<span class="string">&quot;2的8次幂：&quot;</span> + Math.pow(<span class="number">2</span>, <span class="number">8</span>));<span class="comment">//256.0</span></span><br><span class="line">    	System.out.println(<span class="string">&quot;3.2四舍五入：&quot;</span> + Math.round(<span class="number">3.2</span>));<span class="comment">//3</span></span><br><span class="line">    	System.out.println(<span class="string">&quot;3.5四舍五入：&quot;</span> + Math.round(<span class="number">3.5</span>));<span class="comment">//4</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第六章-System"><a href="#第六章-System" class="headerlink" title="第六章 System"></a>第六章 System</h1><h2 id="6-1-概述"><a href="#6-1-概述" class="headerlink" title="6.1 概述"></a>6.1 概述</h2><p><code>java.lang.System</code>类中提供了大量的静态方法，可以获取与系统相关的信息或系统级操作。</p>
<h2 id="6-2-常用方法"><a href="#6-2-常用方法" class="headerlink" title="6.2 常用方法"></a>6.2 常用方法</h2><table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>public   static void exit(int status)</td>
<td>终止当前运行的   Java   虚拟机，非零表示异常终止</td>
</tr>
<tr>
<td>public   static long currentTimeMillis()</td>
<td>返回当前时间(以毫秒为单位)</td>
</tr>
</tbody></table>
<h2 id="6-3-练习"><a href="#6-3-练习" class="headerlink" title="6.3 练习"></a>6.3 练习</h2><p>在控制台输出1-10000，计算这段代码执行了多少毫秒 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="comment">//验证for循环打印数字1-9999所需要使用的时间（毫秒）</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SystemDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       	<span class="comment">//获取当前时间毫秒值</span></span><br><span class="line">       System.out.println(System.currentTimeMillis()); </span><br><span class="line">      <span class="comment">//计算程序运行时间</span></span><br><span class="line">       <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;共耗时毫秒：&quot;</span> + (end - start));</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day03%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-3/day03%E3%80%90%E5%A4%9A%E6%80%81%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%E3%80%81%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6%E3%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day03%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-3/day03%E3%80%90%E5%A4%9A%E6%80%81%E3%80%81%E5%86%85%E9%83%A8%E7%B1%BB%E3%80%81%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6%E3%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:54" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:54+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day03-【多态、内部类、权限修饰符、代码块】"><a href="#day03-【多态、内部类、权限修饰符、代码块】" class="headerlink" title="day03 【多态、内部类、权限修饰符、代码块】"></a>day03 【多态、内部类、权限修饰符、代码块】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li><p>多态</p>
</li>
<li><p>内部类</p>
</li>
<li><p>权限修饰符 </p>
</li>
<li><p>代码块</p>
</li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><p><input disabled="" type="checkbox">  能够说出多态的前提</p>
</li>
<li><p><input disabled="" type="checkbox">  能够写出多态的格式</p>
</li>
<li><p><input disabled="" type="checkbox">  能够理解多态向上转型和向下转型</p>
</li>
<li><p><input disabled="" type="checkbox">  能够说出内部类概念</p>
</li>
<li><p><input disabled="" type="checkbox">  能够理解匿名内部类的编写格式</p>
</li>
<li><p><input disabled="" type="checkbox">  能够说出每种权限修饰符的作用</p>
</li>
</ul>
<h1 id="第一章-多态"><a href="#第一章-多态" class="headerlink" title="第一章 多态"></a>第一章 多态</h1><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><h3 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h3><p>多态是继封装、继承之后，面向对象的第三大特性。</p>
<p>生活中，比如跑的动作，小猫、小狗和大象，跑起来是不一样的。再比如飞的动作，昆虫、鸟类和飞机，飞起来也是不一样的。可见，同一行为，通过不同的事物，可以体现出来的不同的形态。多态，描述的就是这样的状态。</p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><ul>
<li><strong>多态</strong>： 是指同一行为，具有多个不同表现形式。</li>
</ul>
<h3 id="前提【重点】"><a href="#前提【重点】" class="headerlink" title="前提【重点】"></a>前提【重点】</h3><ol>
<li>继承或者实现【二选一】</li>
<li>方法的重写【意义体现：不重写，无意义】</li>
<li>父类引用指向子类对象【格式体现】</li>
</ol>
<h2 id="1-2-多态的体现"><a href="#1-2-多态的体现" class="headerlink" title="1.2 多态的体现"></a>1.2 多态的体现</h2><p>多态体现的格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">父类类型 变量名 = <span class="keyword">new</span> 子类对象；</span><br><span class="line">变量名.方法名();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>父类类型：指子类对象继承的父类类型，或者实现的父接口类型。</p>
</blockquote>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Fu f = <span class="keyword">new</span> Zi();</span><br><span class="line">f.method();</span><br></pre></td></tr></table></figure>

<p><strong>当使用多态方式调用方法时，首先检查父类中是否有该方法，如果没有，则编译错误；如果有，执行的是子类重写后方法。</strong></p>
<p>代码如下：</p>
<p>定义父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>定义子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;吃鱼&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;吃骨头&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 多态形式，创建对象</span></span><br><span class="line">        Animal a1 = <span class="keyword">new</span> Cat();  </span><br><span class="line">        <span class="comment">// 调用的是 Cat 的 eat</span></span><br><span class="line">        a1.eat();          </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 多态形式，创建对象</span></span><br><span class="line">        Animal a2 = <span class="keyword">new</span> Dog(); </span><br><span class="line">        <span class="comment">// 调用的是 Dog 的 eat</span></span><br><span class="line">        a2.eat();               </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>多态在代码中的体现为父类引用指向子类对象。</p>
</blockquote>
<h2 id="1-3-多态的好处"><a href="#1-3-多态的好处" class="headerlink" title="1.3 多态的好处"></a>1.3 多态的好处</h2><p>实际开发的过程中，父类类型作为方法形式参数，传递子类对象给方法，进行方法的调用，更能体现出多态的扩展性与便利。代码如下：</p>
<p>定义父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>定义子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;吃鱼&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;吃骨头&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 多态形式，创建对象</span></span><br><span class="line">        Cat c = <span class="keyword">new</span> Cat();  </span><br><span class="line">        Dog d = <span class="keyword">new</span> Dog(); </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用showCatEat </span></span><br><span class="line">        showCatEat(c);</span><br><span class="line">        <span class="comment">// 调用showDogEat </span></span><br><span class="line">        showDogEat(d); </span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        以上两个方法, 均可以被showAnimalEat(Animal a)方法所替代</span></span><br><span class="line"><span class="comment">        而执行效果一致</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        showAnimalEat(c);</span><br><span class="line">        showAnimalEat(d); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showCatEat</span> <span class="params">(Cat c)</span></span>&#123;</span><br><span class="line">        c.eat(); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showDogEat</span> <span class="params">(Dog d)</span></span>&#123;</span><br><span class="line">        d.eat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showAnimalEat</span> <span class="params">(Animal a)</span></span>&#123;</span><br><span class="line">        a.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于多态特性的支持，showAnimalEat方法的Animal类型，是Cat和Dog的父类类型，父类类型接收子类对象，当然可以把Cat对象和Dog对象，传递给方法。</p>
<p>当eat方法执行时，多态规定，执行的是子类重写的方法，那么效果自然与showCatEat、showDogEat方法一致，所以showAnimalEat完全可以替代以上两方法。</p>
<p>不仅仅是替代，在扩展性方面，无论之后再多的子类出现，我们都不需要编写showXxxEat方法了，直接使用showAnimalEat都可以完成。</p>
<p>所以，多态的好处，体现在，可以使程序编写的更简单，并有良好的扩展。</p>
<blockquote>
<p>小结：多态的好处是提高程序的灵活性，扩展性</p>
</blockquote>
<h2 id="1-4-引用类型转换"><a href="#1-4-引用类型转换" class="headerlink" title="1.4 引用类型转换"></a>1.4 引用类型转换</h2><p>多态的转型分为向上转型与向下转型两种：</p>
<h3 id="向上转型"><a href="#向上转型" class="headerlink" title="向上转型"></a>向上转型</h3><ul>
<li><strong>向上转型</strong>：多态本身是子类类型向父类类型向上转换的过程，这个过程是默认的。</li>
</ul>
<p>当父类引用指向一个子类对象时，便是向上转型。</p>
<p>使用格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">父类类型  变量名 = <span class="keyword">new</span> 子类类型();</span><br><span class="line">如：Animal a = <span class="keyword">new</span> Cat();</span><br></pre></td></tr></table></figure>

<h3 id="向下转型"><a href="#向下转型" class="headerlink" title="向下转型"></a>向下转型</h3><ul>
<li><strong>向下转型</strong>：父类类型向子类类型向下转换的过程，这个过程是强制的。</li>
</ul>
<p>一个已经向上转型的子类对象，将父类引用转为子类引用，可以使用强制类型转换的格式，便是向下转型。</p>
<p>使用格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">子类类型 变量名 = (子类类型) 父类变量名;</span><br><span class="line">如:Cat c =(Cat) a;  </span><br></pre></td></tr></table></figure>

<h3 id="为什么要转型"><a href="#为什么要转型" class="headerlink" title="为什么要转型"></a>为什么要转型</h3><p>当使用多态方式调用方法时，首先检查父类中是否有该方法，如果没有，则编译错误。也就是说，<strong>不能调用</strong>子类有而父类没有的方法。编译都错误，更别说运行了。这也是多态给我们带来的一点”小麻烦”。所以，想要调用子类特有的方法，必须做向下转型。</p>
<p>转型演示，代码如下：</p>
<p>定义类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;吃鱼&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">catchMouse</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;抓老鼠&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;吃骨头&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">watchHouse</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;看家&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 向上转型  </span></span><br><span class="line">        Animal a = <span class="keyword">new</span> Cat();  </span><br><span class="line">        a.eat(); 				<span class="comment">// 调用的是 Cat 的 eat</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 向下转型  </span></span><br><span class="line">        Cat c = (Cat)a;       </span><br><span class="line">        c.catchMouse(); 		<span class="comment">// 调用的是 Cat 的 catchMouse</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="转型的异常"><a href="#转型的异常" class="headerlink" title="转型的异常"></a>转型的异常</h3><p>转型的过程中，一不小心就会遇到这样的问题，请看如下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 向上转型  </span></span><br><span class="line">        Animal a = <span class="keyword">new</span> Cat();  </span><br><span class="line">        a.eat();               <span class="comment">// 调用的是 Cat 的 eat</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 向下转型  </span></span><br><span class="line">        Dog d = (Dog)a;       </span><br><span class="line">        d.watchHouse();        <span class="comment">// 调用的是 Dog 的 watchHouse 【运行报错】</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码可以通过编译，但是运行时，却报出了 <code>ClassCastException</code> ，类型转换异常！这是因为，明明创建了Cat类型对象，运行时，当然不能转换成Dog对象的。这两个类型并没有任何继承关系，不符合类型转换的定义。</p>
<p>为了避免ClassCastException的发生，Java提供了 <code>instanceof</code> 关键字，给引用变量做类型的校验，格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">变量名 <span class="keyword">instanceof</span> 数据类型 </span><br><span class="line">如果变量属于该数据类型，返回<span class="keyword">true</span>。</span><br><span class="line">如果变量不属于该数据类型，返回<span class="keyword">false</span>。</span><br></pre></td></tr></table></figure>

<p>所以，转换前，我们最好先做一个判断，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 向上转型  </span></span><br><span class="line">        Animal a = <span class="keyword">new</span> Cat();  </span><br><span class="line">        a.eat();               <span class="comment">// 调用的是 Cat 的 eat</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 向下转型  </span></span><br><span class="line">        <span class="keyword">if</span> (a <span class="keyword">instanceof</span> Cat)&#123;</span><br><span class="line">            Cat c = (Cat)a;       </span><br><span class="line">            c.catchMouse();        <span class="comment">// 调用的是 Cat 的 catchMouse</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a <span class="keyword">instanceof</span> Dog)&#123;</span><br><span class="line">            Dog d = (Dog)a;       </span><br><span class="line">            d.watchHouse();       <span class="comment">// 调用的是 Dog 的 watchHouse</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结：多态向上转型是将子类类型转成父类类型，多态向下转型是将父类类型转成子类类型。</p>
</blockquote>
<h1 id="第二章-内部类"><a href="#第二章-内部类" class="headerlink" title="第二章 内部类"></a>第二章 内部类</h1><h2 id="2-1-概述"><a href="#2-1-概述" class="headerlink" title="2.1 概述"></a>2.1 概述</h2><h3 id="什么是内部类"><a href="#什么是内部类" class="headerlink" title="什么是内部类"></a>什么是内部类</h3><p>将一个类A定义在另一个类B里面，里面的那个类A就称为<strong>内部类</strong>，B则称为<strong>外部类</strong>。</p>
<h2 id="2-2-成员内部类"><a href="#2-2-成员内部类" class="headerlink" title="2.2 成员内部类"></a>2.2 成员内部类</h2><ul>
<li><strong>成员内部类</strong> ：定义在<strong>类中方法外</strong>的类。</li>
</ul>
<p>定义格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 外部类 </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> 内部类</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在描述事物时，若一个事物内部还包含其他事物，就可以使用内部类这种结构。比如，汽车类<code>Car</code> 中包含发动机类<code>Engine</code> ，这时，<code>Engine </code>就可以使用内部类来描述，定义在成员位置。</p>
<p>代码举例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123; <span class="comment">//外部类</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Engine</span> </span>&#123; <span class="comment">//内部类</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="访问特点"><a href="#访问特点" class="headerlink" title="访问特点"></a>访问特点</h3><ul>
<li>内部类可以直接访问外部类的成员，包括私有成员。</li>
<li>外部类要访问内部类的成员，必须要建立内部类的对象。</li>
</ul>
<p>创建内部类对象格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">外部类名.内部类名 对象名 = <span class="keyword">new</span> 外部类型().new 内部类型()；</span><br></pre></td></tr></table></figure>

<p>访问演示，代码如下：</p>
<p>定义类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">boolean</span> live = <span class="keyword">true</span>;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Heart</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jump</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="comment">// 直接访问外部类成员</span></span><br><span class="line">            <span class="keyword">if</span> (live) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;心脏在跳动&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;心脏不跳了&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isLive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> live;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLive</span><span class="params">(<span class="keyword">boolean</span> live)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.live = live;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建外部类对象 </span></span><br><span class="line">        Person p  = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="comment">// 创建内部类对象</span></span><br><span class="line">        Person.Heart heart = p.<span class="function">new <span class="title">Heart</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="comment">// 调用内部类方法</span></span><br><span class="line">        heart.jump();</span><br><span class="line">        <span class="comment">// 调用外部类方法</span></span><br><span class="line">        p.setLive(<span class="keyword">false</span>);</span><br><span class="line">        <span class="comment">// 调用内部类方法</span></span><br><span class="line">        heart.jump();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出结果:</span><br><span class="line">心脏在跳动</span><br><span class="line">心脏不跳了</span><br></pre></td></tr></table></figure>

<blockquote>
<p>内部类仍然是一个独立的类，在编译之后会内部类会被编译成独立的.class文件，但是前面冠以外部类的类名和$符号 。</p>
<p>比如，Person$Heart.class  </p>
</blockquote>
<blockquote>
<p>小结：内部类是定义在一个类中的类。</p>
</blockquote>
<h2 id="2-3-匿名内部类"><a href="#2-3-匿名内部类" class="headerlink" title="2.3 匿名内部类"></a>2.3 匿名内部类</h2><ul>
<li><strong>匿名内部类</strong> ：是内部类的简化写法。它的本质是一个<code>带具体实现的</code> <code>父类或者父接口的</code> <code>匿名的</code> <strong>子类对象</strong>。</li>
</ul>
<p>开发中，最常用到的内部类就是匿名内部类了。以接口举例，当你使用一个接口时，似乎得做如下几步操作，</p>
<ol>
<li>定义子类</li>
<li>重写接口中的方法</li>
<li>创建子类对象</li>
<li>调用重写后的方法</li>
</ol>
<p>我们的目的，最终只是为了调用方法，那么能不能简化一下，把以上四步合成一步呢？匿名内部类就是做这样的快捷方式。</p>
<h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><p>存在一个<strong>类或者接口</strong>，这里的<strong>类可以是具体类也可以是抽象类</strong>。</p>
<h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 父类名或者接口名()&#123;</span><br><span class="line">    <span class="comment">// 方法重写</span></span><br><span class="line">    <span class="meta">@Override</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 执行语句</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><p>以接口为例，匿名内部类的使用，代码如下：</p>
<p>定义接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">FlyAble</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>匿名内部类可以通过多态的形式接受</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerDemo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        	1.等号右边:定义并创建该接口的子类对象</span></span><br><span class="line"><span class="comment">        	2.等号左边:是多态,接口类型引用指向子类对象</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">        FlyAble  f = <span class="keyword">new</span> FlyAble()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;我飞了~~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>匿名内部类直接调用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        	1.等号右边:定义并创建该接口的子类对象</span></span><br><span class="line"><span class="comment">        	2.等号左边:是多态,接口类型引用指向子类对象</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">       	<span class="keyword">new</span> FlyAble()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;我飞了~~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.fly();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法的形式参数是接口或者抽象类时，也可以将匿名内部类作为参数传递</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerDemo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1.等号右边:定义并创建该接口的子类对象</span></span><br><span class="line"><span class="comment">        2.等号左边:是多态,接口类型引用指向子类对象</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">        FlyAble  f = <span class="keyword">new</span> FlyAble()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;我飞了~~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// 将f传递给showFly方法中</span></span><br><span class="line">        showFly(f);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showFly</span><span class="params">(FlyAble f)</span> </span>&#123;</span><br><span class="line">        f.fly();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上可以简化，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;     	  </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">       	创建匿名内部类,直接传递给showFly(FlyAble f)</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        showFly( <span class="keyword">new</span> FlyAble()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;我飞了~~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showFly</span><span class="params">(FlyAble f)</span> </span>&#123;</span><br><span class="line">        f.fly();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结：匿名内部类做的事情是创建一个类的子类对象</p>
</blockquote>
<h1 id="第三章-权限修饰符"><a href="#第三章-权限修饰符" class="headerlink" title="第三章 权限修饰符"></a>第三章 权限修饰符</h1><h2 id="3-1-概述"><a href="#3-1-概述" class="headerlink" title="3.1 概述"></a>3.1 概述</h2><p>在Java中提供了四种访问权限，使用不同的访问权限修饰符修饰时，被修饰的内容会有不同的访问权限，</p>
<ul>
<li>public：公共的</li>
<li>protected：受保护的</li>
<li>(空的)：默认的</li>
<li>private：私有的</li>
</ul>
<h2 id="3-2-不同权限的访问能力"><a href="#3-2-不同权限的访问能力" class="headerlink" title="3.2 不同权限的访问能力"></a>3.2 不同权限的访问能力</h2><table>
<thead>
<tr>
<th></th>
<th>public</th>
<th>protected</th>
<th>（空的）</th>
<th>private</th>
</tr>
</thead>
<tbody><tr>
<td>同一类中</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>同一包中(子类与无关类)</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td></td>
</tr>
<tr>
<td>不同包的子类</td>
<td>√</td>
<td>√</td>
<td></td>
<td></td>
</tr>
<tr>
<td>不同包中的无关类</td>
<td>√</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>可见，public具有最大权限。private则是最小权限。</p>
<p>编写代码时，如果没有特殊的考虑，建议这样使用权限：</p>
<ul>
<li><p>成员变量使用<code>private</code> ，隐藏细节。</p>
</li>
<li><p>构造方法使用<code> public</code> ，方便创建对象。</p>
</li>
<li><p>成员方法使用<code>public</code> ，方便调用方法。</p>
</li>
</ul>
<h1 id="第四章-代码块"><a href="#第四章-代码块" class="headerlink" title="第四章 代码块"></a>第四章 代码块</h1><h2 id="4-1-构造代码块"><a href="#4-1-构造代码块" class="headerlink" title="4.1 构造代码块"></a>4.1 构造代码块</h2><ul>
<li>构造代码块：定义在成员位置的代码块{}<ul>
<li>执行：每次创建对象都会执行构造代码块</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        构造代码块执行了</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-2-静态代码块"><a href="#4-2-静态代码块" class="headerlink" title="4.2 静态代码块"></a>4.2 静态代码块</h2><ul>
<li><strong>静态代码块</strong>：定义在成员位置，使用static修饰的代码块{ }。<ul>
<li>位置：类中方法外。</li>
<li>执行：随着类的加载而执行且执行一次，优先构造方法的执行。</li>
</ul>
</li>
</ul>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"> <span class="comment">//静态代码块</span></span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;静态代码块执行了&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day02%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-2/day02%E3%80%90final%E3%80%81static%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day02%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-2/day02%E3%80%90final%E3%80%81static%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:54" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:54+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day02【final、static、接口】"><a href="#day02【final、static、接口】" class="headerlink" title="day02【final、static、接口】"></a>day02【final、static、接口】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li><p>final关键字</p>
</li>
<li><p>static</p>
</li>
<li><p>接口</p>
</li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><p><input disabled="" type="checkbox">  描述final修饰的类的特点</p>
</li>
<li><p><input disabled="" type="checkbox">  描述final修饰的方法的特点</p>
</li>
<li><p><input disabled="" type="checkbox">  描述final修饰的变量的特点</p>
</li>
<li><p><input disabled="" type="checkbox">  能够掌握static关键字修饰的变量调用方式</p>
</li>
<li><p><input disabled="" type="checkbox">  能够掌握static关键字修饰的方法调用方式</p>
</li>
<li><p><input disabled="" type="checkbox">  能够写出接口的定义格式</p>
</li>
<li><p><input disabled="" type="checkbox">  能够写出接口的实现格式</p>
</li>
<li><p><input disabled="" type="checkbox">  能够说出接口中的成员特点</p>
</li>
</ul>
<h1 id="第一章-final关键字"><a href="#第一章-final关键字" class="headerlink" title="第一章 final关键字"></a>第一章 final关键字</h1><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p>学习了继承后，我们知道，子类可以在父类的基础上改写父类内容，比如，方法重写。那么我们能不能随意的继承API中提供的类，改写其内容呢？显然这是不合适的。为了避免这种随意改写的情况，Java提供了<code>final</code> 关键字，用于修饰<strong>不可改变</strong>内容。</p>
<ul>
<li><strong>final</strong>：  不可改变。可以用于修饰类、方法和变量。<ul>
<li>类：被修饰的类，不能被继承。</li>
<li>方法：被修饰的方法，不能被重写。</li>
<li>变量：被修饰的变量，不能被重新赋值。</li>
</ul>
</li>
</ul>
<h2 id="1-2-使用方式"><a href="#1-2-使用方式" class="headerlink" title="1.2 使用方式"></a>1.2 使用方式</h2><h3 id="修饰类"><a href="#修饰类" class="headerlink" title="修饰类"></a>修饰类</h3><p>格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> 类名 </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查询API发现像 <code>public final class String</code> 、<code>public final class Math</code> 、<code>public final class Scanner</code> 等，很多我们学习过的类，都是被final修饰的，目的就是供我们使用，而不让我们所以改变其内容。</p>
<h3 id="修饰方法"><a href="#修饰方法" class="headerlink" title="修饰方法"></a>修饰方法</h3><p>格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修饰符 <span class="keyword">final</span> 返回值类型 方法名(参数列表)&#123;</span><br><span class="line">    <span class="comment">//方法体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重写被 <code>final</code>修饰的方法，编译时就会报错。</p>
<h3 id="修饰变量"><a href="#修饰变量" class="headerlink" title="修饰变量"></a>修饰变量</h3><ul>
<li><strong>局部变量——基本类型</strong></li>
</ul>
<p>基本类型的局部变量，被final修饰后，只能赋值一次，不能再更改。代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FinalDemo1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 声明变量，使用final修饰</span></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> a;</span><br><span class="line">        <span class="comment">// 第一次赋值 </span></span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        <span class="comment">// 第二次赋值</span></span><br><span class="line">        a = <span class="number">20</span>; <span class="comment">// 报错,不可重新赋值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思考，如下两种写法，哪种可以通过编译？</p>
<p>写法1：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    c = i;</span><br><span class="line">    System.out.println(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写法2：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> c = i;</span><br><span class="line">    System.out.println(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>根据 <code>final</code> 的定义，写法1报错！写法2，为什么通过编译呢？因为每次循环，都是一次新的变量c。这也是大家需要注意的地方。</p>
<ul>
<li><strong>局部变量——引用类型</strong></li>
</ul>
<p>引用类型的局部变量，被final修饰后，只能指向一个对象，地址不能再更改。但是不影响对象内部的成员变量值的修改，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FinalDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建 User 对象</span></span><br><span class="line">        <span class="keyword">final</span>   User u = <span class="keyword">new</span> User();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 创建 另一个 User对象</span></span><br><span class="line">        <span class="comment">// u = new User(); // 报错，指向了新的对象，地址值改变。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用setName方法</span></span><br><span class="line">        u.setName(<span class="string">&quot;张三&quot;</span>); <span class="comment">// 可以修改</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>成员变量</strong></li>
</ul>
<p>成员变量涉及到初始化的问题，初始化方式有两种，只能二选一：</p>
<ol>
<li><p>显示初始化；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> String USERNAME = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>构造方法初始化。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> String USERNAME ;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String username, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.USERNAME = username;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>被final修饰的常量名称，一般都有书写规范，所有字母都<strong>大写</strong>。</p>
</blockquote>
<blockquote>
<p>小结：final修饰类，类不能被继承。 final修饰方法，方法不能被重写。final修饰变量，变量不能被改值。</p>
</blockquote>
<h1 id="第二章-static关键字"><a href="#第二章-static关键字" class="headerlink" title="第二章 static关键字"></a>第二章 static关键字</h1><h2 id="2-1-概述"><a href="#2-1-概述" class="headerlink" title="2.1 概述"></a>2.1 概述</h2><p>static是静态修饰符，一般修饰成员。被static修饰的成员属于类，不属于单个这个类的某个对象。static修饰的成员被多个对象共享。static修饰的成员属于类，但是会影响每一个对象。被static修饰的成员又叫类成员，不叫对象的成员。</p>
<h2 id="2-2-定义和使用格式"><a href="#2-2-定义和使用格式" class="headerlink" title="2.2 定义和使用格式"></a>2.2 定义和使用格式</h2><h3 id="类变量"><a href="#类变量" class="headerlink" title="类变量"></a>类变量</h3><p>当 <code>static</code> 修饰成员变量时，该变量称为<strong>类变量</strong>。该类的每个对象都<strong>共享</strong>同一个类变量的值。任何对象都可以更改该类变量的值，但也可以在不创建该类的对象的情况下对类变量进行操作。</p>
<ul>
<li><strong>类变量</strong>：使用 static关键字修饰的成员变量。</li>
</ul>
<p>定义格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> 数据类型 变量名； </span><br></pre></td></tr></table></figure>

<p>举例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> String room；</span><br></pre></td></tr></table></figure>

<p>比如说，同学们来黑马程序员学校学习,那么我们所有同学的学校都是黑马程序员, 不因每个同学不同而不同。</p>
<p>所以，我们可以这样定义一个静态变量school，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">  <span class="comment">// 类变量，记录学生学习的学校</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> String school = <span class="string">&quot;黑马程序员学校&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;     </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 打印属性值</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;name=&quot;</span> + name + <span class="string">&quot;, age=&quot;</span> + age + <span class="string">&quot;, shool=&quot;</span> + shool );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StuDemo</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Student s1 = <span class="keyword">new</span> Student(<span class="string">&quot;张三&quot;</span>, <span class="number">23</span>);</span><br><span class="line">    Student s2 = <span class="keyword">new</span> Student(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>);</span><br><span class="line">    Student s3 = <span class="keyword">new</span> Student(<span class="string">&quot;王五&quot;</span>, <span class="number">25</span>);</span><br><span class="line">    Student s4 = <span class="keyword">new</span> Student(<span class="string">&quot;赵六&quot;</span>, <span class="number">26</span>);</span><br><span class="line"></span><br><span class="line">    s1.show(); <span class="comment">// Student : name=张三, age=23, shool=黑马程序员学校</span></span><br><span class="line">    s2.show(); <span class="comment">// Student : name=李四, age=24, shool=黑马程序员学校</span></span><br><span class="line">    s3.show(); <span class="comment">// Student : name=王五, age=25, shool=黑马程序员学校</span></span><br><span class="line">    s4.show(); <span class="comment">// Student : name=赵六, age=26, shool=黑马程序员学校</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><p>当<code>static</code> 修饰成员方法时，该方法称为<strong>类方法</strong> 。静态方法在声明中有<code>static</code> ，建议使用类名来调用，而不需要创建类的对象。调用方式非常简单。</p>
<ul>
<li><strong>类方法</strong>：使用 static关键字修饰的成员方法，习惯称为<strong>静态方法</strong>。</li>
</ul>
<p>定义格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修饰符 <span class="keyword">static</span> 返回值类型 方法名 (参数列表)&#123; </span><br><span class="line">	<span class="comment">// 执行语句 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>举例：在Student类中定义静态方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showNum</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;num:&quot;</span> +  numberOfStudent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>静态方法调用的注意事项：</strong><ul>
<li>静态方法可以直接访问类变量和静态方法。</li>
<li>静态方法<strong>不能直接访问</strong>普通成员变量或成员方法。成员方法可以直接访问类变量或静态方法。</li>
<li>静态方法中，不能使用<strong>this</strong>关键字。</li>
</ul>
</li>
</ul>
<blockquote>
<p>小贴士：静态方法只能访问静态成员。</p>
</blockquote>
<h3 id="调用格式"><a href="#调用格式" class="headerlink" title="调用格式"></a>调用格式</h3><p>被static修饰的成员可以并且建议通过<strong>类名直接访问</strong>。虽然也可以通过对象名访问静态成员，原因即多个对象均属于一个类，共享使用同一个静态成员，但是不建议，会出现警告信息。</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 访问类变量</span></span><br><span class="line">类名.类变量名；</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用静态方法</span></span><br><span class="line">类名.静态方法名(参数)； </span><br></pre></td></tr></table></figure>

<p>调用演示，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StuDemo2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;      </span><br><span class="line">    <span class="comment">// 访问类变量</span></span><br><span class="line">    System.out.println(Student.numberOfStudent);</span><br><span class="line">    <span class="comment">// 调用静态方法</span></span><br><span class="line">    Student.showNum();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结：static修饰的内容是属于类的，可以通过类名直接访问</p>
</blockquote>
<h1 id="第三章-接口"><a href="#第三章-接口" class="headerlink" title="第三章 接口"></a>第三章 接口</h1><h2 id="3-1-概述"><a href="#3-1-概述" class="headerlink" title="3.1 概述"></a>3.1 概述</h2><p>接口，是Java语言中一种引用类型，是方法的集合，如果说类的内部封装了成员变量、构造方法和成员方法，那么接口的内部主要就是<strong>封装了方法</strong>，包含抽象方法（JDK 7及以前），默认方法和静态方法（JDK 8）。</p>
<p>接口的定义，它与定义类方式相似，但是使用 <code>interface</code> 关键字。它也会被编译成.class文件，但一定要明确它并不是类，而是另外一种引用数据类型。</p>
<p>public class 类名.java–&gt;.class</p>
<p>public interface 接口名.java–&gt;.class</p>
<blockquote>
<p>引用数据类型：数组，类，接口。</p>
</blockquote>
<p>接口的使用，它不能创建对象，但是可以被实现（<code>implements</code> ，类似于被继承）。一个实现接口的类（可以看做是接口的子类），需要实现接口中所有的抽象方法，创建该类对象，就可以调用方法了，否则它必须是一个抽象类。</p>
<h2 id="3-2-定义格式"><a href="#3-2-定义格式" class="headerlink" title="3.2 定义格式"></a>3.2 定义格式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> 接口名称 </span>&#123;</span><br><span class="line">    <span class="comment">// 抽象方法</span></span><br><span class="line">    <span class="comment">// 默认方法</span></span><br><span class="line">    <span class="comment">// 静态方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="含有抽象方法"><a href="#含有抽象方法" class="headerlink" title="含有抽象方法"></a>含有抽象方法</h3><p>抽象方法：使用<code>abstract</code> 关键字修饰，可以省略，没有方法体。该方法供子类实现使用。</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">InterFaceName</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="含有默认方法和静态方法"><a href="#含有默认方法和静态方法" class="headerlink" title="含有默认方法和静态方法"></a>含有默认方法和静态方法</h3><p>默认方法：使用 <code>default</code> 修饰，不可省略，供子类调用或者子类重写。</p>
<p>静态方法：使用 <code>static</code> 修饰，供接口直接调用。</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">InterFaceName</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 执行语句</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 执行语句    </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结：定义接口时就是将定义类的class改成了interface，并且接口中的内容也有了一些变化。</p>
</blockquote>
<h2 id="3-3-基本的实现"><a href="#3-3-基本的实现" class="headerlink" title="3.3 基本的实现"></a>3.3 基本的实现</h2><h3 id="实现的概述"><a href="#实现的概述" class="headerlink" title="实现的概述"></a>实现的概述</h3><p>类与接口的关系为实现关系，即<strong>类实现接口</strong>，该类可以称为接口的实现类，也可以称为接口的子类。实现的动作类似继承，格式相仿，只是关键字不同，实现使用 <code> implements</code>关键字。</p>
<p>非抽象子类实现接口：</p>
<ol>
<li>必须重写接口中所有抽象方法。</li>
<li>继承了接口的默认方法，即可以直接调用，也可以重写。</li>
</ol>
<p>实现格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名 <span class="keyword">implements</span> 接口名 </span>&#123;</span><br><span class="line">    <span class="comment">// 重写接口中抽象方法【必须】</span></span><br><span class="line">  	<span class="comment">// 重写接口中默认方法【可选】</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="抽象方法的使用"><a href="#抽象方法的使用" class="headerlink" title="抽象方法的使用"></a>抽象方法的使用</h3><p>必须全部实现，代码如下：</p>
<p>定义接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 定义抽象方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> <span class="keyword">implements</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃东西&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;晚上睡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建子类对象  </span></span><br><span class="line">        Animal a = <span class="keyword">new</span> Animal();</span><br><span class="line">        <span class="comment">// 调用实现后的方法</span></span><br><span class="line">        a.eat();</span><br><span class="line">        a.sleep();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出结果：</span><br><span class="line">吃东西</span><br><span class="line">晚上睡</span><br></pre></td></tr></table></figure>

<h3 id="默认方法的使用"><a href="#默认方法的使用" class="headerlink" title="默认方法的使用"></a>默认方法的使用</h3><p>可以继承，可以重写，二选一，但是只能通过实现类的对象来调用。</p>
<ol>
<li>继承默认方法，代码如下：</li>
</ol>
<p>定义接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;天上飞&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> <span class="keyword">implements</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 继承，什么都不用写，直接调用</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建子类对象  </span></span><br><span class="line">        Animal a = <span class="keyword">new</span> Animal();</span><br><span class="line">        <span class="comment">// 调用默认方法</span></span><br><span class="line">        a.fly();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出结果：</span><br><span class="line">天上飞</span><br></pre></td></tr></table></figure>

<ol>
<li>重写默认方法，代码如下：</li>
</ol>
<p>定义接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;天上飞&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> <span class="keyword">implements</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;自由自在的飞&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建子类对象  </span></span><br><span class="line">        Animal a = <span class="keyword">new</span> Animal();</span><br><span class="line">        <span class="comment">// 调用重写方法</span></span><br><span class="line">        a.fly();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出结果：</span><br><span class="line">自由自在的飞</span><br></pre></td></tr></table></figure>

<h3 id="静态方法的使用"><a href="#静态方法的使用" class="headerlink" title="静态方法的使用"></a>静态方法的使用</h3><p>静态与.class 文件相关，只能使用接口名调用，不可以通过实现类的类名或者实现类的对象调用，代码如下：</p>
<p>定义接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;跑起来~~~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> <span class="keyword">implements</span> <span class="title">LiveAble</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 无法重写静态方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Animal.run(); // 【错误】无法继承方法,也无法调用</span></span><br><span class="line">        LiveAble.run(); <span class="comment">// </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出结果：</span><br><span class="line">跑起来~~~</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结： 类实现接口使用的是implements关键字，并且一个普通类实现接口，必须要重写接口中的所有的抽象方法</p>
</blockquote>
<h2 id="3-4-接口的多实现"><a href="#3-4-接口的多实现" class="headerlink" title="3.4 接口的多实现"></a>3.4 接口的多实现</h2><p>之前学过，在继承体系中，一个类只能继承一个父类。而对于接口而言，一个类是可以实现多个接口的，这叫做接口的<strong>多实现</strong>。并且，一个类能继承一个父类，同时实现多个接口。</p>
<p>实现格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class 类名 [extends 父类名] implements 接口名1,接口名2,接口名3... &#123;</span><br><span class="line">    <span class="comment">// 重写接口中抽象方法【必须】</span></span><br><span class="line">  	<span class="comment">// 重写接口中默认方法【不重名时可选】</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<blockquote>
<p>[ ]： 表示可选操作。</p>
</blockquote>
<h3 id="抽象方法"><a href="#抽象方法" class="headerlink" title="抽象方法"></a>抽象方法</h3><p>接口中，有多个抽象方法时，实现类必须重写所有抽象方法<strong>。如果抽象方法有重名的，只需要重写一次。</strong>代码如下：</p>
<p>定义多个接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">showA</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">showB</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">A</span>,<span class="title">B</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;showA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;showB&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;show&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="默认方法"><a href="#默认方法" class="headerlink" title="默认方法"></a>默认方法</h3><p>接口中，有多个默认方法时，实现类都可继承使用。<strong>如果默认方法有重名的，必须重写一次。</strong>代码如下：</p>
<p>定义多个接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">methodA</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">methodB</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">implements</span> <span class="title">A</span>,<span class="title">B</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;method&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="静态方法-1"><a href="#静态方法-1" class="headerlink" title="静态方法"></a>静态方法</h3><p>接口中，存在同名的静态方法并不会冲突，原因是只能通过各自接口名访问静态方法。</p>
<h3 id="优先级的问题"><a href="#优先级的问题" class="headerlink" title="优先级的问题"></a>优先级的问题</h3><p>当一个类，既继承一个父类，又实现若干个接口时，父类中的成员方法与接口中的默认方法重名，子类就近选择执行父类的成员方法。代码如下：</p>
<p>定义接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">methodA</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AAAAAAAAAAAA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methodA</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;DDDDDDDDDDDD&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">D</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  	<span class="comment">// 未重写methodA方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义测试类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        C c = <span class="keyword">new</span> C();</span><br><span class="line">        c.methodA(); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出结果:</span><br><span class="line">DDDDDDDDDDDD</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小结： 一个类可以实现多个接口，多个接口之间使用逗号隔开即可。</p>
</blockquote>
<h2 id="3-5-接口的多继承【了解】"><a href="#3-5-接口的多继承【了解】" class="headerlink" title="3.5 接口的多继承【了解】"></a>3.5 接口的多继承【了解】</h2><p>一个接口能继承另一个或者多个接口，这和类之间的继承比较相似。接口的继承使用 <code>extends</code> 关键字，子接口继承父接口的方法。<strong>如果父接口中的默认方法有重名的，那么子接口需要重写一次。</strong>代码如下：</p>
<p>定义父接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AAAAAAAAAAAAAAAAAAA&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;BBBBBBBBBBBBBBBBBBB&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义子接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">D</span> <span class="keyword">extends</span> <span class="title">A</span>,<span class="title">B</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;DDDDDDDDDDDDDD&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小贴士：</p>
<p>子接口重写默认方法时，default关键字可以保留。</p>
<p>子类重写默认方法时，default关键字不可以保留。</p>
</blockquote>
<blockquote>
<p>小结：接口和接口之间是继承的关系，而不是实现。一个接口可以继承多个接口。</p>
</blockquote>
<h2 id="3-6-其他成员特点"><a href="#3-6-其他成员特点" class="headerlink" title="3.6 其他成员特点"></a>3.6 其他成员特点</h2><ul>
<li>接口中，无法定义成员变量，但是可以定义常量，其值不可以改变，默认使用public static final修饰。</li>
<li>接口中，没有构造方法，不能创建对象。</li>
<li>接口中，没有静态代码块。</li>
</ul>
<h2 id="3-7-抽象类和接口的练习"><a href="#3-7-抽象类和接口的练习" class="headerlink" title="3.7 抽象类和接口的练习"></a>3.7 抽象类和接口的练习</h2><p>通过实例进行分析和代码演示抽象类和接口的用法。</p>
<p>1、举例：</p>
<p>​    犬：</p>
<p>​        行为：</p>
<p>​            吼叫；</p>
<p>​            吃饭；</p>
<p>​    缉毒犬：</p>
<p>​        行为：</p>
<p>​            吼叫；</p>
<p>​            吃饭；</p>
<p>​            缉毒；</p>
<p>2、思考：</p>
<p>​    由于犬分为很多种类，他们吼叫和吃饭的方式不一样，在描述的时候不能具体化，也就是吼叫和吃饭的行为不能明确。当描述行为时，行为的具体动作不能明确，这时，可以将这个行为写为抽象行为，那么这个类也就是抽象类。</p>
<p>​    可是有的犬还有其他额外功能，而这个功能并不在这个事物的体系中 , 例如 : 缉毒犬。缉毒的这个功能有好多种动物都有 , 例如 : 缉毒猪 , 缉毒鼠。我们可以将这个额外功能定义接口中 ,让缉毒犬继承犬且实现缉毒接口 , 这样缉毒犬既具备犬科自身特点也有缉毒功能。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义缉毒接口 缉毒的词组(anti-Narcotics)比较长,在此使用拼音替代</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">JiDu</span></span>&#123;</span><br><span class="line">    <span class="comment">//缉毒</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">jiDu</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义犬科,存放共性功能</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">    <span class="comment">//吃饭</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//吼叫</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">roar</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//缉毒犬属于犬科一种，让其继承犬科，获取的犬科的特性，</span></span><br><span class="line"><span class="comment">//由于缉毒犬具有缉毒功能，那么它只要实现缉毒接口即可，这样即保证缉毒犬具备犬科的特性，也拥有了缉毒的功能</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JiDuQuan</span> <span class="keyword">extends</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">JiDu</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jiDu</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">roar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//缉毒猪</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JiDuZhu</span> <span class="keyword">implements</span> <span class="title">JiDu</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jiDu</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>​    讲完抽象类和接口后,相信有许多同学会存有疑惑,两者的共性那么多,只留其中一种不就行了,这里就得知道抽象类和接口从根本上解决了哪些问题.</p>
<p>​    一个类只能继承一个直接父类(可能是抽象类),却可以实现多个接口, 接口弥补了Java的单继承</p>
<p>​    抽象类为继承体系中的共性内容, 接口为继承体系中的扩展功能</p>
<p>​    接口还是后面一个知识点的基础(lambada)</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day24%E6%9E%9A%E4%B8%BE&%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/day24%E3%80%90%E6%9E%9A%E4%B8%BE&%E6%96%B0%E7%89%B9%E6%80%A7&%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day24%E6%9E%9A%E4%B8%BE&%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/day24%E3%80%90%E6%9E%9A%E4%B8%BE&%E6%96%B0%E7%89%B9%E6%80%A7&%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:53" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:53+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day24-【枚举、新特性、正则表达式】"><a href="#day24-【枚举、新特性、正则表达式】" class="headerlink" title="day24 【枚举、新特性、正则表达式】"></a>day24 【枚举、新特性、正则表达式】</h1><h2 id="今日目标"><a href="#今日目标" class="headerlink" title="今日目标"></a>今日目标</h2><ul>
<li>枚举</li>
<li>新特性</li>
<li>正则表达式</li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><input disabled="" type="checkbox"> 能够定义枚举</li>
<li><input disabled="" type="checkbox"> 能够使用四种方法的引用</li>
<li><input disabled="" type="checkbox"> 能够使用Base64对基本数据、URL和MIME类型进行编解码</li>
<li><input disabled="" type="checkbox"> 能够理解正则表达式的作用</li>
<li><input disabled="" type="checkbox"> 能够使用正则表达式的字符类</li>
<li><input disabled="" type="checkbox"> 能够使用正则表达式的逻辑运算符</li>
<li><input disabled="" type="checkbox"> 能够使用正则表达式的预定义字符类</li>
<li><input disabled="" type="checkbox"> 能够使用正则表达式的限定符</li>
<li><input disabled="" type="checkbox"> 能够使用正则表达式的分组</li>
<li><input disabled="" type="checkbox"> 能够在String的split方法中使用正则表达式</li>
</ul>
<h1 id="第一章-枚举"><a href="#第一章-枚举" class="headerlink" title="第一章 枚举"></a>第一章 枚举</h1><h2 id="1-1-不使用枚举存在的问题"><a href="#1-1-不使用枚举存在的问题" class="headerlink" title="1.1 不使用枚举存在的问题"></a>1.1 不使用枚举存在的问题</h2><p>假设我们要定义一个人类，人类中包含姓名和性别。通常会将性别定义成字符串类型，效果如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, String sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// 省略get/set/toString方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, <span class="string">&quot;男&quot;</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, <span class="string">&quot;abc&quot;</span>); <span class="comment">// 因为性别是字符串,所以我们可以传入任意字符串</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不使用枚举存在的问题：可以给性别传入任意的字符串，导致性别是非法的数据，不安全。</p>
<h2 id="1-2-作用"><a href="#1-2-作用" class="headerlink" title="1.2 作用"></a>1.2 作用</h2><p>枚举的作用：一个方法接收的参数是固定范围之内的时候，那么即可使用枚举。</p>
<h2 id="1-3-基本语法"><a href="#1-3-基本语法" class="headerlink" title="1.3 基本语法"></a>1.3 基本语法</h2><h3 id="1-3-1-枚举的概念"><a href="#1-3-1-枚举的概念" class="headerlink" title="1.3.1 枚举的概念"></a>1.3.1 枚举的概念</h3><p>枚举是一种特殊类。枚举是有固定实例个数的类型，我们可以把枚举理解成有固定个数实例的多例模式。</p>
<h3 id="1-3-2-定义枚举的格式"><a href="#1-3-2-定义枚举的格式" class="headerlink" title="1.3.2 定义枚举的格式"></a>1.3.2 定义枚举的格式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> 枚举名 </span>&#123;</span><br><span class="line">    第一行都是罗列枚举实例,这些枚举实例直接写大写名字即可。</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-3-入门案例"><a href="#1-3-3-入门案例" class="headerlink" title="1.3.3 入门案例"></a>1.3.3 入门案例</h3><ol>
<li>定义枚举：BOY表示男，GIRL表示女</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Sex</span> </span>&#123;</span><br><span class="line">    BOY, GIRL; <span class="comment">// 男，女</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Perosn中的性别有String类型改为Sex枚举类型</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Sex sex;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, Sex sex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 省略get/set/toString方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>使用是只能传入枚举中的固定值</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, Sex.BOY);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, Sex.GIRL);</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-4-枚举的其他内容"><a href="#1-3-4-枚举的其他内容" class="headerlink" title="1.3.4 枚举的其他内容"></a>1.3.4 枚举的其他内容</h3><p>枚举的本质是一个类，我们刚才定义的Sex枚举最终效果如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Sex</span> </span>&#123;</span><br><span class="line">    BOY, GIRL; <span class="comment">// 男，女</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 枚举的本质是一个类，我们刚才定义的Sex枚举相当于下面的类</span></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">SEX</span> <span class="keyword">extends</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">Enum</span>&lt;<span class="title">SEX</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> SEX BOY = <span class="keyword">new</span> SEX();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> SEX GIRL = <span class="keyword">new</span> SEX();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SEX[] values();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SEX <span class="title">valueOf</span><span class="params">(java.lang.String)</span></span>;</span><br><span class="line">    <span class="keyword">static</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>枚举的本质是一个类，所以枚举中还可以有成员变量，成员方法等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Sex</span> </span>&#123;</span><br><span class="line">    BOY(<span class="number">18</span>), GIRL(<span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    Sex(<span class="keyword">int</span> age) &#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;年龄是: &quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, Sex.BOY);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, Sex.GIRL);</span><br><span class="line"></span><br><span class="line">        Sex.BOY.showAge();</span><br><span class="line">        Sex.GIRL.showAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行效果：</p>
<p><img src="imgs/1566701678583.png" alt="1566701678583"></p>
<h2 id="1-4-使用场景"><a href="#1-4-使用场景" class="headerlink" title="1.4 使用场景"></a>1.4 使用场景</h2><p><strong>枚举的应用：枚举通常可以用于做信息的分类，如性别，方向，季度等。</strong></p>
<p>枚举表示性别：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Sex</span> </span>&#123;</span><br><span class="line">    MAIL, FEMAIL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>枚举表示方向：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Orientation</span> </span>&#123;</span><br><span class="line">    UP, RIGHT, DOWN, LEFT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>枚举表示季度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Season</span> </span>&#123;</span><br><span class="line">    SPRING, SUMMER, AUTUMN, WINTER;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-5-小结"><a href="#1-5-小结" class="headerlink" title="1.5 小结"></a>1.5 小结</h2><ul>
<li><p>枚举类在第一行罗列若干个枚举对象。（多例）</p>
</li>
<li><p>第一行都是常量，存储的是枚举类的对象。</p>
</li>
<li><p>枚举是不能在外部创建对象的，枚举的构造器默认是私有的。</p>
</li>
<li><p>枚举通常用于做信息的标志和分类。</p>
</li>
</ul>
<h1 id="第二章JDK8新特性"><a href="#第二章JDK8新特性" class="headerlink" title="第二章JDK8新特性"></a>第二章JDK8新特性</h1><blockquote>
<p>JDK新特性：</p>
<p><strong>Lambda 表达式</strong>【已学习过】</p>
<p><strong>默认方法</strong>【已学习过】</p>
<p><strong>Stream API</strong> 【已学习过】</p>
<p><strong>方法引用</strong></p>
<p><strong>Base64</strong></p>
</blockquote>
<h2 id="2-1-方法引用"><a href="#2-1-方法引用" class="headerlink" title="2.1 方法引用"></a>2.1 方法引用</h2><h3 id="2-1-1-方法引用概述"><a href="#2-1-1-方法引用概述" class="headerlink" title="2.1.1 方法引用概述"></a>2.1.1 方法引用概述</h3><p>方法引用使得开发者可以直接引用现存的方法、Java类的构造方法或者实例对象。方法引用和Lambda表达式配合使用，使得java类的构造方法看起来紧凑而简洁，没有很多复杂的模板代码。</p>
<h3 id="2-1-2-方法引用基本使用"><a href="#2-1-2-方法引用基本使用" class="headerlink" title="2.1.2 方法引用基本使用"></a>2.1.2 方法引用基本使用</h3><p>方法引用使用一对冒号 <strong>::</strong> 。</p>
<p>下面，我们在 Car 类中定义了 4 个方法作为例子来区分 Java 中 4 种不同方法的引用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Car <span class="title">create</span><span class="params">( <span class="keyword">final</span> Supplier&lt; Car &gt; supplier )</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> supplier.get();</span><br><span class="line">    &#125;              </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">collide</span><span class="params">( <span class="keyword">final</span> Car car )</span> </span>&#123;</span><br><span class="line">        System.out.println( <span class="string">&quot;Collided &quot;</span> + car.toString() );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">follow</span><span class="params">( <span class="keyword">final</span> Car another )</span> </span>&#123;</span><br><span class="line">        System.out.println( <span class="string">&quot;Following the &quot;</span> + another.toString() );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">repair</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">        System.out.println( <span class="string">&quot;Repaired &quot;</span> + <span class="keyword">this</span>.toString() );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第一种方法引用的类型是<strong>构造器引用</strong>，语法是<strong>Class::new</strong>，或者更一般的形式：<strong>Class<T>::new</strong>。注意：这个构造器没有参数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Car car = Car.create( Car::<span class="keyword">new</span> );</span><br><span class="line"><span class="keyword">final</span> List&lt; Car &gt; cars = Arrays.asList( car );</span><br></pre></td></tr></table></figure>

<p>第二种方法引用的类型是<strong>静态方法引用</strong>，语法是<strong>Class::static_method</strong>。注意：这个方法接受一个Car类型的参数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cars.forEach( Car::collide );</span><br></pre></td></tr></table></figure>

<p>第三种方法引用的类型是<strong>某个类的成员方法的引用</strong>，语法是<strong>Class::method</strong>，注意，这个方法没有定义入参：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cars.forEach( Car::repair );</span><br></pre></td></tr></table></figure>

<p>第四种方法引用的类型是<strong>某个实例对象的成员方法的引用</strong>，语法是<strong>instance::method</strong>。注意：这个方法接受一个Car类型的参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Car police = Car.create( Car::<span class="keyword">new</span> );</span><br><span class="line">cars.forEach( police::follow );</span><br></pre></td></tr></table></figure>

<h3 id="2-1-3-基于静态方法引用的代码演示"><a href="#2-1-3-基于静态方法引用的代码演示" class="headerlink" title="2.1.3 基于静态方法引用的代码演示"></a>2.1.3 基于静态方法引用的代码演示</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">    List names = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">    names.add(<span class="string">&quot;大明&quot;</span>);</span><br><span class="line">    names.add(<span class="string">&quot;二明&quot;</span>);</span><br><span class="line">    names.add(<span class="string">&quot;小明&quot;</span>);</span><br><span class="line"></span><br><span class="line">    names.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的代码，我们将 System.out::println 方法作为静态方法来引用。</p>
<p>测试结果为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">大明</span><br><span class="line">二明</span><br><span class="line">小明</span><br></pre></td></tr></table></figure>



<h2 id="2-2-Base64"><a href="#2-2-Base64" class="headerlink" title="2.2 Base64"></a>2.2 Base64</h2><h3 id="2-2-1-Base64概述"><a href="#2-2-1-Base64概述" class="headerlink" title="2.2.1 Base64概述"></a>2.2.1 Base64概述</h3><p>Base64是网络上最常见的用于传输8Bit字节码的编码方式之一，Base64就是一种基于64个可打印字符来表示二进制数据的方法。</p>
<p>在Java 8中，Base64编码已经成为Java类库的标准。</p>
<p>Java 8 内置了 Base64 编码的编码器和解码器。</p>
<p>Base64工具类提供了一套静态方法获取下面三种BASE64编解码器：</p>
<ul>
<li><strong>基本：</strong>输出被映射到一组字符A-Za-z0-9+/，编码不添加任何行标，输出的解码仅支持A-Za-z0-9+/。</li>
<li><strong>URL：</strong>输出映射到一组字符A-Za-z0-9+_，输出是URL和文件。</li>
<li><strong>MIME：</strong>输出隐射到MIME友好格式。输出每行不超过76字符，并且使用’\r’并跟随’\n’作为分割。编码输出最后没有行分割。</li>
</ul>
<h3 id="2-2-2-Base64内嵌类和方法描述"><a href="#2-2-2-Base64内嵌类和方法描述" class="headerlink" title="2.2.2 Base64内嵌类和方法描述"></a>2.2.2 Base64内嵌类和方法描述</h3><p><strong>内嵌类</strong></p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">内嵌类 &amp; 描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>static class Base64.Decoder</strong>该类实现一个解码器用于，使用 Base64 编码来解码字节数据。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>static class Base64.Encoder</strong>该类实现一个编码器，使用 Base64 编码来编码字节数据</td>
</tr>
</tbody></table>
<p><strong>方法</strong></p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">方法名 &amp; 描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">**static Base64.Decoder getDecoder()**返回一个 Base64.Decoder ，解码使用基本型 base64 编码方案。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">**static Base64.Encoder getEncoder()**返回一个 Base64.Encoder ，编码使用基本型 base64 编码方案。</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">**static Base64.Decoder getMimeDecoder()**返回一个 Base64.Decoder ，解码使用 MIME 型 base64 编码方案。</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">**static Base64.Encoder getMimeEncoder()**返回一个 Base64.Encoder ，编码使用 MIME 型 base64 编码方案。</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">**static Base64.Encoder getMimeEncoder(int lineLength, byte[] lineSeparator)**返回一个 Base64.Encoder ，编码使用 MIME 型 base64 编码方案，可以通过参数指定每行的长度及行的分隔符。</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">**static Base64.Decoder getUrlDecoder()**返回一个 Base64.Decoder ，解码使用 URL 和文件名安全型 base64 编码方案。</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">**static Base64.Encoder getUrlEncoder()**返回一个 Base64.Encoder ，编码使用 URL 和文件名安全型 base64 编码方案。</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>注意：</strong>Base64 类的很多方法从 <strong>java.lang.Object</strong> 类继承。</p>
</blockquote>
<h3 id="2-2-3-Base64代码演示"><a href="#2-2-3-Base64代码演示" class="headerlink" title="2.2.3 Base64代码演示"></a>2.2.3 Base64代码演示</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 使用基本编码</span></span><br><span class="line">            String base64encodedString = Base64.getEncoder().encodeToString(<span class="string">&quot;itheima?java8&quot;</span>.getBytes(<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;Base64 编码字符串 (基本) :&quot;</span> + base64encodedString);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 解码</span></span><br><span class="line">            <span class="keyword">byte</span>[] base64decodedBytes = Base64.getDecoder().decode(base64encodedString);</span><br><span class="line">            System.out.println(<span class="string">&quot;原始字符串: &quot;</span> + <span class="keyword">new</span> String(base64decodedBytes, <span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// URL</span></span><br><span class="line">            base64encodedString = Base64.getUrlEncoder().encodeToString(<span class="string">&quot;itheima?java8&quot;</span>.getBytes(<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;Base64 编码字符串 (URL) :&quot;</span> + base64encodedString);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// MIME</span></span><br><span class="line">            StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">                stringBuilder.append(UUID.randomUUID().toString());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">byte</span>[] mimeBytes = stringBuilder.toString().getBytes(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">            String mimeEncodedString = Base64.getMimeEncoder().encodeToString(mimeBytes);</span><br><span class="line">            System.out.println(<span class="string">&quot;Base64 编码字符串 (MIME) :&quot;</span> + mimeEncodedString);</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">catch</span>(UnsupportedEncodingException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Error :&quot;</span> + e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Base64 编码字符串 (基本) :aXRoZWltYT9qYXZhOA==</span><br><span class="line">原始字符串: itheima?java8</span><br><span class="line">Base64 编码字符串 (URL) :aXRoZWltYT9qYXZhOA==</span><br><span class="line">Base64 编码字符串 (MIME) :ODM1MWI4MzMtZGZmZi00MDAwLTkwNTAtZjUxMjkzODMwY2E2YTVjZmMwN2QtYzM0My00ZjdhLTll</span><br><span class="line">MDktMDFkMWZmZjA0MWRkOTE5Nzk0YzMtNTkyOC00Yjk0LThhYWEtMmIyNmFhN2Y3YzFmY2I2NDNl</span><br><span class="line">ZmEtY2ZmNC00NTU4LWIzZDktZjAzMmE1M2FiOWM1ZDAyMzAyYzktZTM3MS00MDk3LWI2YWEtZTMz</span><br><span class="line">MzZlMjE4NDdkZmEzYTA0NjktYWFhZC00M2ZiLTkzYTQtYTA0ZDIzMjIxY2RiMTMxYTU1MzgtZjZi</span><br><span class="line">OS00NDcyLWJjOTYtZjViODVkNzdkNjMyODNhZTJhNDktZmU0Ni00ZDI5LWI0MDUtZWRkZGFmYjM2</span><br><span class="line">MDliZTcyNWMxY2ItMWE3Ny00NmM4LTk2ZWUtZjBhYjY4YzgwMzU3N2Q3YWFiMTYtNzBjYi00MzNh</span><br><span class="line">LTkxN2UtNzJmNWE0MjQzMGUx</span><br></pre></td></tr></table></figure>



<h1 id="第三章-正则表达式"><a href="#第三章-正则表达式" class="headerlink" title="第三章 正则表达式"></a>第三章 正则表达式</h1><h2 id="3-1-概念及演示"><a href="#3-1-概念及演示" class="headerlink" title="3.1 概念及演示"></a>3.1 概念及演示</h2><ul>
<li>在Java中，我们经常需要验证一些字符串，例如：年龄必须是2位的数字、用户名必须是8位长度而且只能包含大小写字母、数字等。正则表达式就是用来验证各种字符串的规则。它内部描述了一些规则，我们可以验证用户输入的字符串是否匹配这个规则。</li>
<li>先看一个不使用正则表达式验证的例子：下面的程序让用户输入一个QQ号码，我们要验证：<ul>
<li>QQ号码必须是5–15位长度</li>
<li>而且必须全部是数字</li>
<li>而且首位不能为0</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;请输入你的QQ号码：&quot;</span>);</span><br><span class="line">		String qq = sc.next();</span><br><span class="line">		</span><br><span class="line">		System.out.println(checkQQ(qq));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//我们自己编写代码，验证QQ号码</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">checkQQ</span><span class="params">(String qq)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//1.验证5--15位</span></span><br><span class="line">		<span class="keyword">if</span>(qq.length() &lt; <span class="number">5</span> || qq.length() &gt; <span class="number">15</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//2.必须都是数字；</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; qq.length() ; i++)&#123;</span><br><span class="line">			<span class="keyword">char</span> c = qq.charAt(i);</span><br><span class="line">			<span class="keyword">if</span>(c &lt; <span class="string">&#x27;0&#x27;</span> || c &gt; <span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//3.首位不能是0；</span></span><br><span class="line">		<span class="keyword">char</span> c = qq.charAt(<span class="number">0</span>);</span><br><span class="line">		<span class="keyword">if</span>(c == <span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;<span class="comment">//验证通过</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用正则表达式验证：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;请输入你的QQ号码：&quot;</span>);</span><br><span class="line">		String qq = sc.next();</span><br><span class="line">		</span><br><span class="line">		System.out.println(checkQQ2(qq));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//使用正则表达式验证</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">checkQQ2</span><span class="params">(String qq)</span></span>&#123;</span><br><span class="line">		String regex = <span class="string">&quot;[1-9]\\d&#123;4,14&#125;&quot;</span>;<span class="comment">//正则表达式</span></span><br><span class="line">		<span class="keyword">return</span> qq.matches(regex);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面程序checkQQ2()方法中String类型的变量regex就存储了一个”正则表达式 “，而这个正则表达式就描述了我们需要的三个规则。matches()方法是String类的一个方法，用于接收一个正则表达式，并将”本对象”与参数”正则表达式”进行匹配，如果本对象符合正则表达式的规则，则返回true，否则返回false。</p>
<p><strong>我们接下来就重点学习怎样写正则表达式</strong></p>
<h2 id="3-2-字符类"><a href="#3-2-字符类" class="headerlink" title="3.2 字符类"></a>3.2 字符类</h2><ul>
<li><p>语法示例：</p>
<ol>
<li>[abc]：代表a或者b，或者c字符中的一个。</li>
<li>[^abc]：代表除a,b,c以外的任何字符。</li>
<li>[a-z]：代表a-z的所有小写字符中的一个。</li>
<li>[A-Z]：代表A-Z的所有大写字符中的一个。</li>
<li>[0-9]：代表0-9之间的某一个数字字符。</li>
<li>[a-zA-Z0-9]：代表a-z或者A-Z或者0-9之间的任意一个字符。</li>
<li>[a-dm-p]：a 到 d 或 m 到 p之间的任意一个字符。 </li>
</ol>
</li>
<li><p>代码示例：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">&quot;ead&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1.验证str是否以h开头，以d结尾，中间是a,e,i,o,u中某个字符</span></span><br><span class="line">		String regex = <span class="string">&quot;h[aeiou]d&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;1.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2.验证str是否以h开头，以d结尾，中间不是a,e,i,o,u中的某个字符</span></span><br><span class="line">		regex = <span class="string">&quot;h[^aeiou]d&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;2.&quot;</span> +  str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3.验证str是否a-z的任何一个小写字符开头，后跟ad</span></span><br><span class="line">		regex = <span class="string">&quot;[a-z]ad&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;3.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4.验证str是否以a-d或者m-p之间某个字符开头，后跟ad</span></span><br><span class="line">		regex = <span class="string">&quot;[[a-d][m-p]]ad&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;4.&quot;</span> + str.matches(regex));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-3-逻辑运算符"><a href="#3-3-逻辑运算符" class="headerlink" title="3.3 逻辑运算符"></a>3.3 逻辑运算符</h2><ul>
<li><p>语法示例：</p>
<ol>
<li>&amp;&amp;：并且</li>
<li>|    ：或者</li>
</ol>
</li>
<li><p>代码示例：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">&quot;had&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1.要求字符串是否是除a、e、i、o、u外的其它小写字符开头，后跟ad</span></span><br><span class="line">		String regex = <span class="string">&quot;[a-z&amp;&amp;[^aeiou]]ad&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;1.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2.要求字符串是aeiou中的某个字符开头，后跟ad</span></span><br><span class="line">		regex = <span class="string">&quot;[a|e|i|o|u]ad&quot;</span>;<span class="comment">//这种写法相当于：regex = &quot;[aeiou]ad&quot;;</span></span><br><span class="line">		System.out.println(<span class="string">&quot;2.&quot;</span> + str.matches(regex));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-4-预定义字符"><a href="#3-4-预定义字符" class="headerlink" title="3.4 预定义字符"></a>3.4 预定义字符</h2><ul>
<li><p>语法示例：</p>
<ol>
<li>“.” ： 匹配任何字符。</li>
<li>“\d”：任何数字[0-9]的简写；</li>
<li>“\D”：任何非数字[^0-9]的简写；</li>
<li>“\s”： 空白字符：[ \t\n\x0B\f\r] 的简写</li>
<li>“\S”： 非空白字符：[^\s] 的简写</li>
<li>“\w”：单词字符：[a-zA-Z_0-9]的简写</li>
<li>“\W”：非单词字符：[^\w]</li>
</ol>
</li>
<li><p>代码示例：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">&quot;258&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1.验证str是否3位数字</span></span><br><span class="line">		String regex = <span class="string">&quot;\\d\\d\\d&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;1.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2.验证手机号：1开头，第二位：3/5/8，剩下9位都是0-9的数字</span></span><br><span class="line">        str = <span class="string">&quot;13513153355&quot;</span>;<span class="comment">//要验证的字符串</span></span><br><span class="line">		regex = <span class="string">&quot;1[358]\\d\\d\\d\\d\\d\\d\\d\\d\\d&quot;</span>;<span class="comment">//正则表达式</span></span><br><span class="line">		System.out.println(<span class="string">&quot;2.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3.验证字符串是否以h开头，以d结尾，中间是任何字符</span></span><br><span class="line">		str = <span class="string">&quot;had&quot;</span>;<span class="comment">//要验证的字符串</span></span><br><span class="line">		regex = <span class="string">&quot;h.d&quot;</span>;<span class="comment">//正则表达式</span></span><br><span class="line">		System.out.println(<span class="string">&quot;3.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4.验证str是否是：had.</span></span><br><span class="line">        str = <span class="string">&quot;had.&quot;</span>;<span class="comment">//要验证的字符串</span></span><br><span class="line">		regex = <span class="string">&quot;had\\.&quot;</span>;<span class="comment">//\\.代表&#x27;.&#x27;符号，因为.在正则中被预定义为&quot;任意字符&quot;，不能直接使用</span></span><br><span class="line">		System.out.println(<span class="string">&quot;4.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-5-数量词"><a href="#3-5-数量词" class="headerlink" title="3.5 数量词"></a>3.5 数量词</h2><ul>
<li><p>语法示例：</p>
<ol>
<li>X? : 0次或1次</li>
<li>X* : 0次到多次</li>
<li>X+ : 1次或多次</li>
<li>X{n} : 恰好n次</li>
<li>X{n,} : 至少n次</li>
<li>X{n,m}: n到m次(n和m都是包含的)</li>
</ol>
</li>
<li><p>代码示例：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1.验证str是否是三位数字</span></span><br><span class="line">        str = <span class="string">&quot;012&quot;</span>;</span><br><span class="line">		String regex = <span class="string">&quot;\\d&#123;3&#125;&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;1.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2.验证str是否是多位数字</span></span><br><span class="line">        str = <span class="string">&quot;88932054782342&quot;</span>;</span><br><span class="line">		regex = <span class="string">&quot;\\d+&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;2.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3.验证str是否是手机号：</span></span><br><span class="line">        str = <span class="string">&quot;13813183388&quot;</span>;</span><br><span class="line">		regex = <span class="string">&quot;1[358]\\d&#123;9&#125;&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;3.&quot;</span> + str.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4.验证小数:必须出现小数点，但是只能出现1次</span></span><br><span class="line">		String s2 = <span class="string">&quot;3.1&quot;</span>;</span><br><span class="line">		regex = <span class="string">&quot;\\d*\\.&#123;1&#125;\\d+&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;4.&quot;</span> + s2.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//5.验证小数：小数点可以不出现，也可以出现1次</span></span><br><span class="line">		regex = <span class="string">&quot;\\d+\\.?\\d+&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;5.&quot;</span> + s2.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//6.验证小数：要求匹配：3、3.、3.14、+3.14、-3.</span></span><br><span class="line">        s2 = <span class="string">&quot;-3.&quot;</span>;</span><br><span class="line">		regex = <span class="string">&quot;[+-]\\d+\\.?\\d*&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;6.&quot;</span> + s2.matches(regex));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//7.验证qq号码：1).5--15位；2).全部是数字;3).第一位不是0</span></span><br><span class="line">        s2 = <span class="string">&quot;1695827736&quot;</span>;</span><br><span class="line">		regex = <span class="string">&quot;[1-9]\\d&#123;4,14&#125;&quot;</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;7.&quot;</span> + s2.matches(regex));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-6-分组括号"><a href="#3-6-分组括号" class="headerlink" title="3.6 分组括号( )"></a>3.6 分组括号( )</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">&quot;DG8FV-B9TKY-FRT9J-99899-XPQ4G&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//验证这个序列号：分为5组，每组之间使用-隔开，每组由5位A-Z或者0-9的字符组成</span></span><br><span class="line">		String regex = <span class="string">&quot;([A-Z0-9]&#123;5&#125;-)&#123;4&#125;[A-Z0-9]&#123;5&#125;&quot;</span>;</span><br><span class="line">		System.out.println(str.matches(regex));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-7-String的split方法中使用正则表达式"><a href="#3-7-String的split方法中使用正则表达式" class="headerlink" title="3.7 String的split方法中使用正则表达式"></a>3.7 String的split方法中使用正则表达式</h2><ul>
<li><p>String类的split()方法原型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] split(String regex)<span class="comment">//参数regex就是一个正则表达式。可以将当前字符串中匹配regex正则表达式的符号作为&quot;分隔符&quot;来切割字符串。</span></span><br></pre></td></tr></table></figure></li>
<li><p>代码示例：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">&quot;18  4 567       99     56&quot;</span>;</span><br><span class="line">		String[] strArray = str.split(<span class="string">&quot; +&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; strArray.length; i++) &#123;</span><br><span class="line">			System.out.println(strArray[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-8-String类的replaceAll方法中使用正则表达式"><a href="#3-8-String类的replaceAll方法中使用正则表达式" class="headerlink" title="3.8 String类的replaceAll方法中使用正则表达式"></a>3.8 String类的replaceAll方法中使用正则表达式</h2><ul>
<li>String类的replaceAll()方法原型：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replaceAll</span><span class="params">(String regex,String newStr)</span><span class="comment">//参数regex就是一个正则表达式。可以将当前字符串中匹配regex正则表达式的字符串替换为newStr。</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>代码示例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//将下面字符串中的&quot;数字&quot;替换为&quot;*&quot;</span></span><br><span class="line">        String str = <span class="string">&quot;jfdk432jfdk2jk24354j47jk5l31324&quot;</span>;</span><br><span class="line">        System.out.println(str.replaceAll(<span class="string">&quot;\\d+&quot;</span>, <span class="string">&quot;*&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day23%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/day23%E3%80%90%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day23%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/day23%E3%80%90%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:53" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:53+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day23-【设计模式】"><a href="#day23-【设计模式】" class="headerlink" title="day23 【设计模式】"></a>day23 【设计模式】</h1><h2 id="今日目标"><a href="#今日目标" class="headerlink" title="今日目标"></a>今日目标</h2><ul>
<li>单例设计模式</li>
<li>多例设计模式</li>
<li>工厂设计模式</li>
<li>动态代理</li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><input disabled="" type="checkbox"> 能够说出单例设计模式的好处</li>
<li><input disabled="" type="checkbox"> 能够说出多例模式的好处</li>
<li><input disabled="" type="checkbox"> 能够说出动态代理模式的作用</li>
<li><input disabled="" type="checkbox"> 能够使用Proxy的方法生成代理对象</li>
<li><input disabled="" type="checkbox"> 能够使用工厂模式编写java程序</li>
</ul>
<h1 id="第一章-单例设计模式"><a href="#第一章-单例设计模式" class="headerlink" title="第一章 单例设计模式"></a>第一章 单例设计模式</h1><p>正常情况下一个类可以创建多个对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 正常情况下一个类可以创建多个对象</span></span><br><span class="line">	Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">	Person p2 = <span class="keyword">new</span> Person();</span><br><span class="line">	Person p3 = <span class="keyword">new</span> Person();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-1-单例设计模式的作用"><a href="#1-1-单例设计模式的作用" class="headerlink" title="1.1 单例设计模式的作用"></a>1.1 单例设计模式的作用</h2><p>单例模式，是一种常用的软件设计模式。通过单例模式可以保证系统中，应用该模式的这个类只有一个实例。即一个类只有一个对象实例。</p>
<h2 id="1-2-单例设计模式实现步骤"><a href="#1-2-单例设计模式实现步骤" class="headerlink" title="1.2 单例设计模式实现步骤"></a>1.2 单例设计模式实现步骤</h2><ol>
<li>将构造方法私有化，使其不能在类的外部通过new关键字实例化该类对象。</li>
<li>在该类内部产生一个唯一的实例化对象，并且将其封装为private static类型的成员变量。</li>
<li>定义一个静态方法返回这个唯一对象。</li>
</ol>
<h2 id="1-3-单例设计模式的类型"><a href="#1-3-单例设计模式的类型" class="headerlink" title="1.3 单例设计模式的类型"></a>1.3 单例设计模式的类型</h2><p>根据实例化对象的时机单例设计模式又分为以下两种:</p>
<ol>
<li>饿汉单例设计模式</li>
<li>懒汉单例设计模式</li>
</ol>
<h2 id="1-4-饿汉单例设计模式"><a href="#1-4-饿汉单例设计模式" class="headerlink" title="1.4 饿汉单例设计模式"></a>1.4 饿汉单例设计模式</h2><p>饿汉单例设计模式就是使用类的时候已经将对象创建完毕，不管以后会不会使用到该实例化对象，先创建了再说。很着急的样子，故被称为“饿汉模式”。</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 1.将构造方法私有化，使其不能在类的外部通过new关键字实例化该类对象。</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.在该类内部产生一个唯一的实例化对象，并且将其封装为private static类型的成员变量。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3.定义一个静态方法返回这个唯一对象。</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-5-懒汉单例设计模式"><a href="#1-5-懒汉单例设计模式" class="headerlink" title="1.5 懒汉单例设计模式"></a>1.5 懒汉单例设计模式</h2><p>懒汉单例设计模式就是调用getInstance()方法时实例才被创建，先不急着实例化出对象，等要用的时候才实例化出对象。不着急，故称为“懒汉模式”。</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.在该类内部产生一个唯一的实例化对象，并且将其封装为private static类型的成员变量。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1.将构造方法私有化，使其不能在类的外部通过new关键字实例化该类对象。</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3.定义一个静态方法返回这个唯一对象。要用的时候才例化出对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：懒汉单例设计模式在多线程环境下可能会实例化出多个对象，不能保证单例的状态，所以加上关键字：synchronized，保证其同步安全。</p>
</blockquote>
<h2 id="1-6-小结"><a href="#1-6-小结" class="headerlink" title="1.6 小结"></a>1.6 小结</h2><p>单例模式可以保证系统中一个类只有一个对象实例。</p>
<p>实现单例模式的步骤：</p>
<ol>
<li>将构造方法私有化，使其不能在类的外部通过new关键字实例化该类对象。</li>
<li>在该类内部产生一个唯一的实例化对象，并且将其封装为private static类型的成员变量。</li>
<li>定义一个静态方法返回这个唯一对象。</li>
</ol>
<h1 id="第二章-多例设计模式"><a href="#第二章-多例设计模式" class="headerlink" title="第二章 多例设计模式"></a>第二章 多例设计模式</h1><p>一般情况下一个类可以创建多个对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 正常情况下一个类可以创建多个对象</span></span><br><span class="line">	Person p1 = <span class="keyword">new</span> User();</span><br><span class="line">	Person p2 = <span class="keyword">new</span> User();</span><br><span class="line">	Person p3 = <span class="keyword">new</span> User();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-1-多例设计模式的作用"><a href="#2-1-多例设计模式的作用" class="headerlink" title="2.1.多例设计模式的作用"></a>2.1.多例设计模式的作用</h2><p>多例模式，是一种常用的软件设计模式。通过多例模式可以保证系统中，应用该模式的类有固定数量的实例。多例类要自我创建并管理自己的实例，还要向外界提供获取本类实例的方法。</p>
<h2 id="2-2-实现步骤"><a href="#2-2-实现步骤" class="headerlink" title="2.2.实现步骤"></a>2.2.实现步骤</h2><p>​    1.创建一个类,  将构造方法私有化，使其不能在类的外部通过new关键字实例化该类对象。</p>
<p>​    2.在类中定义该类被创建的总数量</p>
<p>​    3.在类中定义存放类实例的list集合</p>
<p>​    4.在类中提供静态代码块,在静态代码块中创建类的实例</p>
<p>​    5.提供获取类实例的静态方法</p>
<h2 id="2-3-实现代码"><a href="#2-3-实现代码" class="headerlink" title="2.3.实现代码"></a>2.3.实现代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Multition</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 定义该类被创建的总数量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> maxCount = <span class="number">3</span>;</span><br><span class="line">    <span class="comment">// 定义存放类实例的list集合</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List instanceList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">// 构造方法私有化,不允许外界创建本类对象</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Multition</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// 创建本类的多个实例,并存放到list集合中</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxCount; i++) &#123;</span><br><span class="line">            Multition multition = <span class="keyword">new</span> Multition();</span><br><span class="line">            instanceList.add(multition);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 给外界提供一个获取类对象的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Multition <span class="title">getMultition</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="comment">// 生成一个随机数</span></span><br><span class="line">        <span class="keyword">int</span> i = random.nextInt(maxCount);</span><br><span class="line">        <span class="comment">// 从list集合中随机取出一个进行使用</span></span><br><span class="line">        <span class="keyword">return</span> (Multition)instanceList.get(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-4-测试结果"><a href="#2-4-测试结果" class="headerlink" title="2.4.测试结果"></a>2.4.测试结果</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 编写一个循环从中获取类对象</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        Multition multition = Multition.getMultition();</span><br><span class="line">        System.out.println(multition);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="C:/Users/jin/Desktop/javaSE25%E5%A4%A9%E8%AE%B2%E4%B9%89/MD%E7%89%88%E6%9C%AC/day23%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/imgs/1565598708749.png" alt="1565598708749"></p>
<h2 id="2-5-小结"><a href="#2-5-小结" class="headerlink" title="2.5.小结"></a>2.5.小结</h2><p>多例模式可以保证系统中一个类有固定个数的实例, 在实现需求的基础上, 能够提高实例的复用性.</p>
<p>实现多例模式的步骤：</p>
<ol>
<li>创建一个类,  将构造方法私有化，使其不能在类的外部通过new关键字实例化该类对象。</li>
<li>在类中定义该类被创建的总数量</li>
<li>在类中定义存放类实例的list集合</li>
<li>在类中提供静态代码块,在静态代码块中创建类的实例</li>
<li>提供获取类实例的静态方法</li>
</ol>
<h1 id="第三章-动态代理"><a href="#第三章-动态代理" class="headerlink" title="第三章 动态代理"></a>第三章 动态代理</h1><h2 id="3-1-代理模式【Proxy-Pattern】"><a href="#3-1-代理模式【Proxy-Pattern】" class="headerlink" title="3.1 代理模式【Proxy Pattern】"></a>3.1 代理模式【Proxy Pattern】</h2><p>​        为什么要有“代理”？生活中就有很多例子，例如委托业务等等，<strong>代理就是被代理者没有能力或者不愿意去完成某件事情，需要找个人代替自己去完成这件事</strong>，这才是“代理”存在的原因。例如，我现在需要出国，但是我不愿意自己去办签证、预定机票和酒店（觉得麻烦 ，那么就可以找旅行社去帮我办，这时候旅行社就是代理，而我自己就是被代理了。</p>
<p>​        在我们的代码中，假如有以下业务情景：</p>
<p>​        用户登录到我们的系统后，我们的系统会为其产生一个ArrayList<String>集合对象，内部存储了一些用户信息，而后，这个对象需要被传给后面的很多其它对象，但要求其它对象不能对这个ArrayList<String>对象执行添加、删除、修改操作，只能get()获取元素。那么为了防止后面的对象对集合对象进行添加、修改、删除操作，我们应该怎样办呢？</p>
<p>​        要想实现这种要求，方案有很多种。”代理模式”就是其中的一种，而且是非常合适的一种。我们看一下用代理模式怎样实现这种需求：</p>
<blockquote>
<ol>
<li>为ArrayList定义一个代理类：ArrayListProxy</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListProxy</span> <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//被代理的List集合</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过构造方法将被代理的集合传入</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayListProxy</span><span class="params">(List&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.list = list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        以下方法都是List接口中的方法：</span></span><br><span class="line"><span class="comment">        	允许被使用的方法：调用被代理对象的原方法</span></span><br><span class="line"><span class="comment">        	不允许被使用的方法：抛出异常</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.size();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.contains(o);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;String&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object[] toArray() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.toArray();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T[] toArray(T[] a) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.toArray(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(String s)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsAll</span><span class="params">(Collection&lt;?&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.containsAll(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends String&gt; c)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(<span class="keyword">int</span> index, Collection&lt;? extends String&gt; c)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; c)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">retainAll</span><span class="params">(Collection&lt;?&gt; c)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.get(index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, String element)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, String element)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.indexOf(o);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.list.lastIndexOf(o);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListIterator&lt;String&gt; <span class="title">listIterator</span><span class="params">()</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListIterator&lt;String&gt; <span class="title">listIterator</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">subList</span><span class="params">(<span class="keyword">int</span> fromIndex, <span class="keyword">int</span> toIndex)</span> </span>&#123;<span class="comment">//不允许使用</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li>在测试类中定义一个方法，接收一个ArrayList<String>对象，然后返回这个代理对象，并在main()方法中测试：</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定义一个集合对象</span></span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list.add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        </span><br><span class="line">		<span class="comment">//调用getList()方法，根据这个集合获取一个它的&quot;不可变&quot;对象</span></span><br><span class="line">        List&lt;String&gt; listProxy = getList(list);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listProxy.size(); i++) &#123;<span class="comment">//OK的</span></span><br><span class="line">            System.out.println(listProxy.get(i));<span class="comment">//OK的</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">		<span class="comment">//其它方法都会抛出异常</span></span><br><span class="line"><span class="comment">//        listProxy.add(&quot;赵六&quot;);//UnsupportedOperationException</span></span><br><span class="line"><span class="comment">//        listProxy.remove(0);//UnsupportedOperationException</span></span><br><span class="line"><span class="comment">//        listProxy.set(0, &quot;张老三&quot;);//UnsupportedOperationException</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//此方法接收一个List&lt;String&gt;对象，返回一个不可变的&quot;代理对象&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getList</span><span class="params">(List&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">        ArrayListProxy proxy = <span class="keyword">new</span> ArrayListProxy(list);</span><br><span class="line">        <span class="keyword">return</span> proxy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-2-动态代理概述"><a href="#3-2-动态代理概述" class="headerlink" title="3.2  动态代理概述"></a>3.2  动态代理概述</h2><p>​        动态代理简单来说是：<strong>拦截对真实对象方法的直接访问，增强真实对象方法的功能</strong></p>
<p>​        动态代理详细来说是：代理类在程序运行时创建的代理对象被称为动态代理，也就是说，这种情况下，代理类并不是在Java代码中定义的，而是在运行时根据我们在Java代码中的“指示”动态生成的。也就是说你想获取哪个对象的代理，动态代理就会动态的为你生成这个对象的代理对象。<strong>动态代理可以对被代理对象的方法进行增强</strong>，<strong>可以在不修改方法源码的情况下，增强被代理对象方法的功能</strong>，<strong>在方法执行前后做任何你想做的事情</strong>。动态代理技术都是在框架中使用居多，例如：Struts1、Struts2、Spring和Hibernate等后期学的一些主流框架技术中都使用了动态代理技术。</p>
<h2 id="3-3-案例引出"><a href="#3-3-案例引出" class="headerlink" title="3.3 案例引出"></a>3.3 案例引出</h2><p><strong>演示Java已经实现的动态代理</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">java.util.Collections:操作集合的工具类</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function">List&lt;T&gt; <span class="title">unmodifiableList</span><span class="params">(List&lt;? extends T&gt; list)</span></span></span><br><span class="line"><span class="function">		返回指定列表的不可修改视图。</span></span><br><span class="line"><span class="function">		此方法允许模块为用户提供对内部列表的“只读”访问。</span></span><br><span class="line"><span class="function">		在返回的列表上执行的查询操作将“读完”指定的列表。</span></span><br><span class="line"><span class="function">		试图修改返回的列表（不管是直接修改还是通过其迭代器进行修改）将导致抛出 		</span></span><br><span class="line"><span class="function">		UnsupportedOperationException:不支持操作异常</span></span><br><span class="line"><span class="function">unmodifiableList作用:传递List接口,方法内部对List接口进行代理,返回一个被代理后的List接口</span></span><br><span class="line"><span class="function">		对List进行代理之后,调用List接口的方法会被拦截</span></span><br><span class="line"><span class="function">		如果使用的size,get方法,没有对集合进行修改,则允许执行</span></span><br><span class="line"><span class="function">		如果使用的add,remove,set方法,对集合进行了修改,则抛出运行时异常</span></span><br></pre></td></tr></table></figure>

<p><strong>代码实现:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01Proxy</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//使用多态创建List集合,并添加元素</span></span><br><span class="line">		List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">		list.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">		<span class="comment">//调用Collections中的方法unmodifiableList对List集合进行代理</span></span><br><span class="line">		list = Collections.unmodifiableList(list);</span><br><span class="line">		<span class="comment">//如果使用的size,get方法,没有对集合进行修改,则允许执行</span></span><br><span class="line">		System.out.println(list.size());</span><br><span class="line">		System.out.println(list.get(<span class="number">1</span>));</span><br><span class="line">		<span class="comment">//如果使用的add,remove,set方法,对集合进行了修改,则抛出运行时异常</span></span><br><span class="line">		<span class="comment">//list.add(&quot;d&quot;);//UnsupportedOperationException</span></span><br><span class="line">		<span class="comment">//list.remove(0);//UnsupportedOperationException</span></span><br><span class="line">		list.set(<span class="number">1</span>, <span class="string">&quot;www&quot;</span>);<span class="comment">//UnsupportedOperationException</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-4-重点类和方法"><a href="#3-4-重点类和方法" class="headerlink" title="3.4 重点类和方法"></a>3.4 重点类和方法</h2><p>java.lang.reflect.Proxy：这是 Java 动态代理机制的主类，它提供了一个静态方法来为一组接口的实现类动态地生成代理类及其对象。</p>
<ul>
<li><strong>newProxyInstance方法的三个参数的详解:</strong></li>
</ul>
<p>该方法用于为指定类装载器、一组接口及调用处理器生成动态代理类实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">newProxyInstance</span><span class="params">(ClassLoader loader, Class[] interfaces, InvocationHandler h)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">1、obj.<span class="title">getClass</span><span class="params">()</span>.<span class="title">getClassLoader</span><span class="params">()</span>目标对象通过getClass方法获取类的所有信息后，调用<span class="title">getClassLoader</span><span class="params">()</span> 方法来获取类加载器。获取类加载器后，可以通过这个类型的加载器，在程序运行时，将生成的代理类加载到JVM即Java虚拟机中，以便运行时需要！ </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">2、obj.<span class="title">getClass</span><span class="params">()</span>.<span class="title">getInterfaces</span><span class="params">()</span>获取被代理类的所有接口信息，以便于生成的代理类可以具有代理类接口中的所有方法。 </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">3、InvocationHandler 这是调用处理器接口，它自定义了一个 invoke 方法，用于集中处理在动态代理类对象上的方法调用，通常在该方法中实现对委托类方法的处理以及访问.</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>InvocationHandler接口的invoke方法及参数详解</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span></span></span><br><span class="line"><span class="function">1、Object proxy: 方法内部创建的代理人对象。 </span></span><br><span class="line"><span class="function">2、Method method：方法内部会使用反射技术,自动被代理人使用的方法。</span></span><br><span class="line"><span class="function">3、Object[] args：被代理方法中的参数。这里因为参数个数不定，所以用一个对象数组来表示。</span></span><br></pre></td></tr></table></figure>



<h2 id="3-5-动态代理综合案例"><a href="#3-5-动态代理综合案例" class="headerlink" title="3.5 动态代理综合案例"></a>3.5 动态代理综合案例</h2><p><strong>需求:</strong><br>​    模拟unmodifiableList方法,对List接口进行代理<br>​        调用List接口的方法会被拦截<br>​        如果使用的size,get方法,没有对集合进行修改,则允许执行<br>​        如果使用的add,remove,set方法,对集合进行了修改,则抛出运行时异常</p>
<p><strong>分析:</strong><br>​    1.定义一个代理方法proxyList<br>​        参数:传递List集合<br>​        返回值:被代理之后的List集合<br>​    2.方法内部可以使用Proxy类中的方法实现动态代理</p>
<p><strong>代码实现:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02Proxy</span> </span>&#123;</span><br><span class="line">	<span class="comment">//1.定义一个代理方法proxyList</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> List <span class="title">proxyList</span><span class="params">(List&lt;String&gt; list)</span></span>&#123;</span><br><span class="line">		<span class="comment">//2.方法内部可以使用Proxy类中的方法实现动态代理</span></span><br><span class="line">		List&lt;String&gt; pList = (List&lt;String&gt;) Proxy.newProxyInstance(Demo02Proxy.class.getClassLoader(),</span><br><span class="line">				list.getClass().getInterfaces(),</span><br><span class="line">				<span class="keyword">new</span> InvocationHandlerImpl(list));</span><br><span class="line">		<span class="keyword">return</span> pList;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//使用多态创建List集合,并添加元素</span></span><br><span class="line">		List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">		list.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">		<span class="comment">//调用Collections中的方法unmodifiableList对List集合进行代理</span></span><br><span class="line">		list = proxyList(list);</span><br><span class="line">		<span class="comment">//如果使用的size,get方法,没有对集合进行修改,则允许执行</span></span><br><span class="line">		System.out.println(list.size());</span><br><span class="line">		System.out.println(list.get(<span class="number">1</span>));</span><br><span class="line">		<span class="comment">//如果使用的add,remove,set方法,对集合进行了修改,则抛出运行时异常</span></span><br><span class="line">		<span class="comment">//list.add(&quot;d&quot;);//UnsupportedOperationException</span></span><br><span class="line">		<span class="comment">//list.remove(0);//UnsupportedOperationException</span></span><br><span class="line">		<span class="comment">//list.set(1, &quot;www&quot;);//UnsupportedOperationException</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InvocationHandlerImpl</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span></span>&#123;</span><br><span class="line">	<span class="comment">//定义一个List集合变量</span></span><br><span class="line">	<span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//给List集合赋值</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">InvocationHandlerImpl</span><span class="params">(List&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.list = list;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">		<span class="comment">//invoke方法会获取List集合的方法,在invoke方法内部对List集合的方法进行拦截</span></span><br><span class="line">		<span class="comment">//获取List集合方法的名字</span></span><br><span class="line">		String listMethodName = method.getName();</span><br><span class="line">		<span class="comment">//对获取的名字进行判断</span></span><br><span class="line">		<span class="comment">//如果使用的add,remove,set方法,对集合进行了修改,则抛出运行时异常</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="string">&quot;add&quot;</span>.equals(listMethodName))&#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;add no run&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="string">&quot;remove&quot;</span>.equals(listMethodName))&#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;remove no run&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="string">&quot;set&quot;</span>.equals(listMethodName))&#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;set no run&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//如果使用的size,get方法,没有对集合进行修改,则允许执行</span></span><br><span class="line">		Object v = method.invoke(list,args);</span><br><span class="line">		<span class="keyword">return</span> v;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>动态代理案例流程图</strong></p>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/MD%E7%89%88%E6%9C%AC/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%A1%88%E4%BE%8B%E6%B5%81%E7%A8%8B%E5%9B%BE.png"></p>
<h2 id="3-6-总结"><a href="#3-6-总结" class="headerlink" title="3.6 总结"></a>3.6 总结</h2><p>动态代理非常的灵活，可以为任意的接口实现类对象做代理</p>
<p>动态代理可以为被代理对象的所有接口的所有方法做代理，动态代理可以在不改变方法源码的情况下，实现对方法功能的增强，</p>
<p>动态代理类的字节码在程序运行时由Java反射机制动态生成，无需程序员手工编写它的源代码。<br>动态代理类不仅简化了编程工作，而且提高了软件系统的可扩展性，因为Java 反射机制可以生成任意类型的动态代理类。</p>
<p>动态代理同时也提高了开发效率。</p>
<p>缺点：只能针对接口的实现类做代理对象，普通类是不能做代理对象的。</p>
<h1 id="第四章-Lombok【自学扩展】"><a href="#第四章-Lombok【自学扩展】" class="headerlink" title="第四章 Lombok【自学扩展】"></a>第四章 Lombok【自学扩展】</h1><h2 id="4-1-lombok介绍"><a href="#4-1-lombok介绍" class="headerlink" title="4.1 lombok介绍"></a>4.1 lombok介绍</h2><p>Lombok通过增加一些“处理程序”，可以让java变得简洁、快速。</p>
<p>Lombok能以注解形式来简化java代码，提高开发效率。开发中经常需要写的javabean，都需要花时间去添加相应的getter/setter，也许还要去写构造器、equals等方法，而且需要维护。</p>
<p>Lombok能通过注解的方式，在编译时自动为属性生成构造器、getter/setter、equals、hashcode、toString方法。出现的神奇就是在源码中没有getter和setter方法，但是在编译生成的字节码文件中有getter和setter方法。这样就省去了手动重建这些代码的麻烦，使代码看起来更简洁些。</p>
<h2 id="4-2-lombok使用"><a href="#4-2-lombok使用" class="headerlink" title="4.2 lombok使用"></a>4.2 lombok使用</h2><p>​    1. 添加lombox的jar包：</p>
<p>​        将lombok.jar(本例使用版本：1.18.10)，添加到模块目录下，并添加到ClassPath</p>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/05.lombok.png"></p>
<p>​    2. 为IDEA添加lombok插件（连接网络使用）</p>
<ul>
<li>第一步</li>
</ul>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/MD%E7%89%88%E6%9C%AC/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/01.png"></p>
<ul>
<li>第二步：</li>
</ul>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/MD%E7%89%88%E6%9C%AC/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/02.png"></p>
<ul>
<li>第三步：</li>
</ul>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/MD%E7%89%88%E6%9C%AC/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/03.png"></p>
<ul>
<li>第四步：</li>
</ul>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/05.png"></p>
<ol>
<li><p>安装完毕后，重启IDEA。</p>
</li>
<li><p>新建一个类：Student</p>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/06.png"></p>
</li>
</ol>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day14-%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/img/07.png"></p>
<h2 id="4-3-lombok常用注解"><a href="#4-3-lombok常用注解" class="headerlink" title="4.3 lombok常用注解"></a>4.3 lombok常用注解</h2><ul>
<li><p>@Getter和@Setter</p>
<ul>
<li>作用：生成成员变量的get和set方法。</li>
<li>写在成员变量上，指对当前成员变量有效。</li>
<li>写在类上，对所有成员变量有效。</li>
<li>注意：静态成员变量无效。</li>
</ul>
</li>
<li><p>@ToString：</p>
<ul>
<li>作用：生成toString()方法。</li>
<li>该注解只能写在类上。</li>
</ul>
</li>
<li><p>@NoArgsConstructor和@AllArgsConstructor</p>
<ul>
<li>@NoArgsConstructor：无参数构造方法。</li>
<li>@AllArgsConstructor：满参数构造方法。</li>
<li>注解只能写在类上。</li>
</ul>
</li>
<li><p>@EqualsAndHashCode</p>
<ul>
<li>作用：生成hashCode()和equals()方法。</li>
<li>注解只能写在类上。</li>
</ul>
</li>
<li><p>@Data</p>
<ul>
<li><p>作用： 生成setter/getter、equals、canEqual、hashCode、toString方法，如为final属性，则不会为该属性生成setter方法。 </p>
</li>
<li><p>注解只能写在类上。</p>
</li>
</ul>
</li>
</ul>
<h1 id="第五章-工厂设计模式"><a href="#第五章-工厂设计模式" class="headerlink" title="第五章 工厂设计模式"></a>第五章 工厂设计模式</h1><h2 id="5-1概述"><a href="#5-1概述" class="headerlink" title="5.1概述"></a>5.1概述</h2><p>​    工厂模式（Factory Pattern）是 Java 中最常用的设计模式之一。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。之前我们创建类对象时, 都是使用new 对象的形式创建, 除new 对象方式以外, 工厂模式也可以创建对象.</p>
<h2 id="5-2作用"><a href="#5-2作用" class="headerlink" title="5.2作用"></a>5.2作用</h2><p>​    解决类与类之间的耦合问题</p>
<h2 id="5-3实现步骤"><a href="#5-3实现步骤" class="headerlink" title="5.3实现步骤"></a>5.3实现步骤</h2><ol>
<li>编写一个Car接口, 提供run方法</li>
<li>编写一个Falali类实现Car接口,重写run方法</li>
<li>编写一个Benchi类实现Car接口</li>
<li>提供一个CarFactory(汽车工厂),用于生产汽车对象</li>
<li>定义CarFactoryTest测试汽车工厂</li>
</ol>
<h2 id="5-4实现代码"><a href="#5-4实现代码" class="headerlink" title="5.4实现代码"></a>5.4实现代码</h2><p>1.编写一个Car接口, 提供run方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.编写一个Falali类实现Car接口,重写run方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Falali</span> <span class="keyword">implements</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;法拉利以每小时500公里的速度在奔跑.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.编写一个Benchi类实现Car接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Benchi</span> <span class="keyword">implements</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;奔驰汽车以每秒1米的速度在挪动.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.提供一个CarFactory(汽车工厂),用于生产汽车对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarFactory</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id : 车的标识</span></span><br><span class="line"><span class="comment">     *           benchi : 代表需要创建Benchi类对象</span></span><br><span class="line"><span class="comment">     *           falali : 代表需要创建Falali类对象</span></span><br><span class="line"><span class="comment">     *           如果传入的车标识不正确,代表当前工厂生成不了当前车对象,则返回null</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Car <span class="title">createCar</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;falali&quot;</span>.equals(id))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Falali();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;benchi&quot;</span>.equals(id))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Benchi();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.定义CarFactoryTest测试汽车工厂</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CarFactoryTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        CarFactory carFactory = <span class="keyword">new</span> CarFactory();</span><br><span class="line">        Car benchi = carFactory.createCar(<span class="string">&quot;benchi&quot;</span>);</span><br><span class="line">        benchi.run();</span><br><span class="line">        Car falali = carFactory.createCar(<span class="string">&quot;falali&quot;</span>);</span><br><span class="line">        falali.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-5小结"><a href="#5-5小结" class="headerlink" title="5.5小结"></a>5.5小结</h2><p>工厂模式的存在可以改变创建类的方式,解决类与类之间的耦合.</p>
<p>实现步骤:</p>
<ol>
<li>编写一个Car接口, 提供run方法</li>
<li>编写一个Falali类实现Car接口,重写run方法</li>
<li>编写一个Benchi类实现Car接口</li>
<li>提供一个CarFactory(汽车工厂),用于生产汽车对象</li>
<li>定义CarFactoryTest测试汽车工厂</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day22XML/day22%E3%80%90XML%E3%80%81dom4j%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day22XML/day22%E3%80%90XML%E3%80%81dom4j%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:53" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:53+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day22-【XML、Dom4j】"><a href="#day22-【XML、Dom4j】" class="headerlink" title="day22 【XML、Dom4j】"></a>day22 【XML、Dom4j】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li><p>XML</p>
</li>
<li><p>Dom4j</p>
</li>
</ul>
<h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><ul>
<li><input disabled="" type="checkbox"> 能够说出XML的作用</li>
<li><input disabled="" type="checkbox"> 了解XML的组成元素</li>
<li><input disabled="" type="checkbox"> 能够说出有哪些XML约束技术</li>
<li><input disabled="" type="checkbox"> 能够说出解析XML文档DOM方式原理</li>
<li><input disabled="" type="checkbox"> 能够使用dom4j解析XML文档</li>
<li><input disabled="" type="checkbox"> 能够使用xpath解析XML或HTML文档</li>
</ul>
<h1 id="第一章-XML"><a href="#第一章-XML" class="headerlink" title="第一章 XML"></a>第一章 XML</h1><h2 id="1-1-XML介绍"><a href="#1-1-XML介绍" class="headerlink" title="1.1 XML介绍"></a>1.1 XML介绍</h2><h3 id="1-1-1-什么是XML"><a href="#1-1-1-什么是XML" class="headerlink" title="1.1.1 什么是XML"></a>1.1.1 什么是XML</h3><ul>
<li><p>XML 指可扩展标记语言（<strong>EXtensible Markup Language</strong>）</p>
</li>
<li><p>XML 是一种<strong>标记语言</strong>，很类似 HTML，HTML文件也是XML文档</p>
</li>
<li><p>XML 的设计宗旨是<strong>传输数据</strong>，而非显示数据</p>
</li>
<li><p>XML 标签没有被预定义。您需要<strong>自行定义标签</strong>。</p>
</li>
<li><p>XML 被设计为具有**自我描述性(就是易于阅读)**。</p>
</li>
<li><p>XML 是 <strong>W3C 的推荐标准</strong></p>
<p>W3C在1988年2月发布1.0版本，2004年2月又发布1.1版本，但因为1.1版本不能向下兼容1.0版本，所以1.1没有人用。同时，在2004年2月W3C又发布了1.0版本的第三版。我们要学习的还是1.0版本。</p>
</li>
</ul>
<h3 id="1-1-2-XML-与-HTML-的主要差异"><a href="#1-1-2-XML-与-HTML-的主要差异" class="headerlink" title="1.1.2 XML 与 HTML 的主要差异"></a>1.1.2 XML 与 HTML 的主要差异</h3><ul>
<li>XML 不是 HTML 的替代。</li>
<li>XML 和 HTML 为不同的目的而设计。</li>
<li>XML 被设计为传输和存储数据，其焦点是数据的内容。</li>
<li>HTML 被设计用来显示数据，其焦点是数据的外观。</li>
<li>HTML 旨在显示信息，而 XML 旨在传输信息。</li>
</ul>
<h3 id="1-1-3-XML文件案例编写person-xml文件"><a href="#1-1-3-XML文件案例编写person-xml文件" class="headerlink" title="1.1.3 XML文件案例编写person.xml文件"></a>1.1.3 XML文件案例编写person.xml文件</h3><h4 id="1-1-3-1-需求"><a href="#1-1-3-1-需求" class="headerlink" title="1.1.3.1 需求"></a>1.1.3.1 需求</h4><p>​    编写xml文档，用于描述人员信息，person代表一个人员，id是人员的属性代表人员编号。人员信息包括age年龄、name姓名、sex性别信息。</p>
<h4 id="1-1-3-2-效果"><a href="#1-1-3-2-效果" class="headerlink" title="1.1.3.2 效果"></a>1.1.3.2 效果</h4><p>使用浏览器运行person.xml文件效果如下</p>
<p><img src="img/06.png"></p>
<h4 id="1-1-3-3-实现步骤"><a href="#1-1-3-3-实现步骤" class="headerlink" title="1.1.3.3 实现步骤"></a>1.1.3.3 实现步骤</h4><p>步骤1：使用idea开发工具，选择当前项目鼠标右键新建“”，如图</p>
<p><img src="img/03.png"></p>
<p><img src="img/04.png"></p>
<p>步骤2：编写文件person.xml文件，内容如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">person</span> <span class="attr">id</span>=<span class="string">&quot;110&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">age</span>&gt;</span>18<span class="tag">&lt;/<span class="name">age</span>&gt;</span>		<span class="comment">&lt;!--年龄--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">name</span>&gt;</span>	  <span class="comment">&lt;!--姓名--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">sex</span>/&gt;</span>				<span class="comment">&lt;!--性别--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">person</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>步骤3：如图点击浏览器运行</p>
<p><img src="img/05.png"></p>
<p>步骤4：浏览器运行效果如下</p>
<p><img src="img/06.png"></p>
<h2 id="1-2-XML作用"><a href="#1-2-XML作用" class="headerlink" title="1.2 XML作用"></a>1.2 XML作用</h2><p>XML在企业开发中主要有两种应用场景：</p>
<p>1）XML可以存储数据 , 作为数据交换的载体(使用XML格式进行数据的传输)。</p>
<p>2）XML也可以作为配置文件，例如后面框架阶段我们学习的Spring框架的配置(applicationContext.xml)都是通过XML进行配置的（企业开发中经常使用的）</p>
<h2 id="1-3-XML的组成元素"><a href="#1-3-XML的组成元素" class="headerlink" title="1.3 XML的组成元素"></a>1.3 XML的组成元素</h2><p>XML文件中常见的组成元素有:文档声明、元素、属性、注释、转义字符、字符区。</p>
<h3 id="1-3-1-文档声明"><a href="#1-3-1-文档声明" class="headerlink" title="1.3.1 文档声明"></a>1.3.1 文档声明</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>使用IDE创建xml文件时就带有文档声明.</li>
<li>文档声明必须为&lt;?xml开头，以？&gt;结束</li>
<li>文档声明必须从文档的0行0列位置开始</li>
<li>文档声明中常见的两个属性：<ul>
<li>version：指定XML文档版本。必须属性，这里一般选择1.0；</li>
<li>encoding：指定当前文档的编码，可选属性，默认值是utf-8；</li>
</ul>
</li>
</ol>
<h3 id="1-3-2-元素element"><a href="#1-3-2-元素element" class="headerlink" title="1.3.2 元素element"></a>1.3.2 元素element</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式1:<span class="tag">&lt;<span class="name">person</span>&gt;</span><span class="tag">&lt;/<span class="name">person</span>&gt;</span></span><br><span class="line">格式2:<span class="tag">&lt;<span class="name">person</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>元素是XML文档中最重要的组成部分；</li>
<li>普通元素的结构由开始标签、元素体、结束标签组成。</li>
<li>元素体：元素体可以是元素，也可以是文本，例如：<code>&lt;person&gt;&lt;name&gt;张三&lt;/name&gt;&lt;/person&gt;</code></li>
<li>空元素：空元素只有标签，而没有结束标签，但元素必须自己闭合，例如：<code>&lt;sex/&gt;</code></li>
<li>元素命名<ul>
<li>区分大小写</li>
<li>不能使用空格，不能使用冒号</li>
<li>不建议以XML、xml、Xml开头</li>
</ul>
</li>
<li>格式化良好的XML文档，有且仅有一个根元素。</li>
</ol>
<h3 id="1-3-3-属性"><a href="#1-3-3-属性" class="headerlink" title="1.3.3 属性"></a>1.3.3 属性</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">person</span> <span class="attr">id</span>=<span class="string">&quot;110&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>属性是元素的一部分，它必须出现在元素的开始标签中</li>
<li>属性的定义格式：属性名=“属性值”，其中属性值必须使用单引或双引号括起来</li>
<li>一个元素可以有0~N个属性，但一个元素中不能出现同名属性</li>
<li>属性名不能使用空格 , 不要使用冒号等特殊字符，且必须以字母开头</li>
</ol>
<h3 id="1-3-4-注释"><a href="#1-3-4-注释" class="headerlink" title="1.3.4 注释"></a>1.3.4 注释</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注释内容--&gt;</span></span><br></pre></td></tr></table></figure>

<p>XML的注释与HTML相同，既以<code>&lt;!--</code>开始，<code>--&gt;</code>结束。</p>
<h3 id="1-3-5-转义字符"><a href="#1-3-5-转义字符" class="headerlink" title="1.3.5 转义字符"></a>1.3.5 转义字符</h3><p>​    XML中的转义字符与HTML一样。因为很多符号已经被文档结构所使用，所以在元素体或属性值中想使用这些符号就必须使用转义字符（也叫实体字符），例如：”&gt;”、”&lt;”、”‘“、”””、”&amp;”。</p>
<table>
<thead>
<tr>
<th align="center">字符</th>
<th align="center">预定义的转义字符</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&lt;</td>
<td align="center"><code>&amp;lt;</code></td>
<td align="center">小于</td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center"><code> &amp;gt;</code></td>
<td align="center">大于</td>
</tr>
<tr>
<td align="center">“</td>
<td align="center"><code> &amp;quot;</code></td>
<td align="center">双引号</td>
</tr>
<tr>
<td align="center">‘</td>
<td align="center"><code> &amp;apos;</code></td>
<td align="center">单引号</td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center"><code> &amp;amp;</code></td>
<td align="center">和号</td>
</tr>
</tbody></table>
<p><em>注意：严格地讲，在 XML 中仅有字符 “&lt;”和”&amp;” 是非法的。省略号、引号和大于号是合法的，但是把它们替换为实体引用是个好的习惯。</em></p>
<p>转义字符应用示例：</p>
<p>​    假如您在 XML 文档中放置了一个类似 “&lt;” 字符，那么这个文档会产生一个错误，这是因为解析器会把它解释为新元素的开始。因此你不能这样写：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">message</span>&gt;</span>if salary &lt; 1000 then<span class="tag">&lt;/<span class="name">message</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>为了避免此类错误，需要把字符 “&lt;” 替换为实体引用，就像这样：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">message</span>&gt;</span>if salary <span class="symbol">&amp;lt;</span> 1000 then<span class="tag">&lt;/<span class="name">message</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="1-3-6-字符区-了解"><a href="#1-3-6-字符区-了解" class="headerlink" title="1.3.6 字符区(了解)"></a>1.3.6 字符区(了解)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;![CDATA[</span><br><span class="line">	文本数据</span><br><span class="line">]]&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li> CDATA 指的是不应由 XML 解析器进行解析的文本数据（Unparsed Character Data）</li>
<li> CDATA 部分由 “<![CDATA[" 开始，由 "]]>“ 结束；</li>
<li> 当大量的转义字符出现在xml文档中时，会使XML文档的可读性大幅度降低。这时如果使用CDATA段就会好一些。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;![CDATA[</span><br><span class="line">    <span class="keyword">if</span> salary &lt; <span class="number">1000</span> then</span><br><span class="line">]]</span><br></pre></td></tr></table></figure>



<p><em>注意：</em></p>
<p>​    CDATA 部分不能包含字符串 “]]&gt;”。也不允许嵌套的 CDATA 部分。</p>
<p>​    标记 CDATA 部分结尾的 “]]&gt;” 不能包含空格或折行。</p>
<h2 id="1-4-XML文件的约束"><a href="#1-4-XML文件的约束" class="headerlink" title="1.4 XML文件的约束"></a>1.4 XML文件的约束</h2><p>在XML技术里，可以编写一个文档来约束一个XML文档的书写规范，这称之为XML约束。</p>
<p>常见的xml约束：DTD、Schema</p>
<blockquote>
<p>注意:我们对于约束的要求是能通过已写好的约束文件编写xml文档.</p>
</blockquote>
<h3 id="1-4-1-DTD约束"><a href="#1-4-1-DTD约束" class="headerlink" title="1.4.1 DTD约束"></a>1.4.1 DTD约束</h3><h4 id="1-4-1-1-概念"><a href="#1-4-1-1-概念" class="headerlink" title="1.4.1.1 概念"></a>1.4.1.1 概念</h4><p>​    DTD是文档类型定义（Document Type Definition）。DTD 可以定义在 XML 文档中出现的元素、这些元素出现的次序、它们如何相互嵌套以及XML文档结构的其它详细信息。</p>
<h4 id="1-4-1-2-约束体验"><a href="#1-4-1-2-约束体验" class="headerlink" title="1.4.1.2 约束体验"></a>1.4.1.2 约束体验</h4><p>体验效果说明：当编写xml文档时不符合指定dtd约束时，进行提示xml编写错误，如下图：</p>
<p><img src="img/07.png"></p>
<p>体验步骤:</p>
<p>步骤1：复制bookshelf.dtd文件</p>
<p>步骤2：bookshelf.dtd文件内容如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ELEMENT 书架 (书+)&gt;</span><br><span class="line">&lt;!ELEMENT 书 (书名,作者,售价)&gt;&lt;!--约束元素书的子元素必须为书名、作者、售价--&gt;</span><br><span class="line">&lt;!ELEMENT 书名 (#PCDATA)&gt;</span><br><span class="line">&lt;!ELEMENT 作者 (#PCDATA)&gt;</span><br><span class="line">&lt;!ELEMENT 售价 (#PCDATA)&gt;</span><br></pre></td></tr></table></figure>

<p>步骤三：新建books.xml，代码如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE 书架 <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;bookshelf.dtd&quot;</span>&gt;</span><span class="comment">&lt;!--指定使用bookshelf.dtd文件约束当前xml文档--&gt;</span></span><br><span class="line">&lt;书架&gt;</span><br><span class="line">    &lt;书&gt;</span><br><span class="line">        &lt;书名&gt;JavaWeb开发教程&lt;/书名&gt;</span><br><span class="line">        &lt;作者&gt;张孝祥&lt;/作者&gt;</span><br><span class="line">        &lt;售价&gt;100.00元&lt;/售价&gt;</span><br><span class="line">    &lt;/书&gt;</span><br><span class="line">    &lt;书&gt;</span><br><span class="line">        &lt;书名&gt;三国演义&lt;/书名&gt;</span><br><span class="line">        &lt;作者&gt;罗贯中&lt;/作者&gt;</span><br><span class="line">        &lt;售价&gt;100.00元&lt;/售价&gt;</span><br><span class="line">        &lt;测试&gt;hello&lt;/测试&gt;<span class="comment">&lt;!--不符合约束，书的子元素必须为书名、作者、售价--&gt;</span></span><br><span class="line">    &lt;/书&gt;</span><br><span class="line">&lt;/书架&gt;</span><br></pre></td></tr></table></figure>

<p>步骤四：idea开发工具books.xml的dtd约束验证不通过的效果如下</p>
<p><img src="img/09.png"></p>
<h4 id="1-4-1-3-dtd学习要求"><a href="#1-4-1-3-dtd学习要求" class="headerlink" title="1.4.1.3 dtd学习要求"></a>1.4.1.3 dtd学习要求</h4><p>​    在企业实际开发中，我们很少自己编写DTD约束文档，通常情况下通过框架提供的DTD约束文档编写对应的XML文档。所以这一知识点的要求是可以根据DTD约束文档内容编写XML文档。</p>
<h4 id="1-4-1-4-语法-了解"><a href="#1-4-1-4-语法-了解" class="headerlink" title="1.4.1.4 语法(了解)"></a>1.4.1.4 语法(了解)</h4><p>#####文档声明(了解)</p>
<ol>
<li><p>内部DTD，在XML文档内部嵌入DTD，只对当前XML有效。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE 根元素 [...//具体语法]&gt;</span><span class="comment">&lt;!--内部DTD--&gt;</span></span><br><span class="line">&lt;根元素&gt;</span><br><span class="line">&lt;/根元素&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>外部DTD—本地DTD，DTD文档在本地系统上，企业内部自己项目使用。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE 根元素 <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;bookshelf.dtd&quot;</span>&gt;</span><span class="comment">&lt;!--外部本地DTD--&gt;</span></span><br><span class="line">&lt;根元素&gt;</span><br><span class="line">&lt;/根元素&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>外部DTD—公共DTD，DTD文档在网络上，一般都有框架提供 , 也是我们使用最多的.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">web-app</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span> <span class="meta-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="元素声明-了解"><a href="#元素声明-了解" class="headerlink" title="元素声明(了解)"></a>元素声明(了解)</h5><ol>
<li><p>约束元素的嵌套层级</p>
<p>语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ELEMENT 父标签 （子标签1，子标签2，…）&gt;</span><br></pre></td></tr></table></figure>

<p>代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ELEMENT 书架 (书+)&gt;  &lt;!--约束根元素是&quot;书架&quot;，&quot;书架&quot;子元素为&quot;书&quot;，“+”为数量词，请看下面介绍--&gt;</span><br><span class="line">&lt;!ELEMENT 书 (书名,作者,售价)&gt;&lt;!--约束&quot;书&quot;子元素依次为“书名”、“作者”、“售价”，“+”书元素至少1次--&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>约束元素体里面的数据</p>
<p>语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ELEMENT 标签名字 标签类型&gt;</span><br></pre></td></tr></table></figure>

<p>标签类型</p>
<table>
<thead>
<tr>
<th>标签类型</th>
<th>代码写法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>PCDATA</td>
<td>(#PCDATA)</td>
<td>被解释的字符串数据</td>
</tr>
<tr>
<td>EMPTY</td>
<td>EMPTY</td>
<td>即空元素，例如&lt;hr/&gt;</td>
</tr>
<tr>
<td>ANY</td>
<td>ANY</td>
<td>即任意类型</td>
</tr>
</tbody></table>
<p>代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ELEMENT 书名 (#PCDATA)&gt;  	&lt;!--&quot;书名&quot;元素体为字符串数据--&gt;</span><br><span class="line">&lt;!ELEMENT 作者 (#PCDATA)&gt;		&lt;!--&quot;作者&quot;元素体为字符串数据--&gt;</span><br><span class="line">&lt;!ELEMENT 售价 (#PCDATA)&gt;		&lt;!--&quot;售价&quot;元素体为字符串数据--&gt;</span><br><span class="line">&lt;!ELEMENT 出版日期 ANY&gt;		   &lt;!--&quot;出版日期&quot;元素体为任意类型--&gt;</span><br><span class="line">&lt;!ELEMENT 版本号 EMPTY&gt;		&lt;!--&quot;版本号&quot;元素体为空元素--&gt;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>数量词(掌握)</strong></p>
<table>
<thead>
<tr>
<th>数量词符号</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>表示元素可以出现0到多个</td>
</tr>
<tr>
<td>+</td>
<td>表示元素可以出现至少1个</td>
</tr>
<tr>
<td>?</td>
<td>表示元素可以是0或1个</td>
</tr>
<tr>
<td>,</td>
<td>表示元素需要按照顺序显示</td>
</tr>
<tr>
<td>|</td>
<td>表示元素需要选择其中的某一个</td>
</tr>
</tbody></table>
</li>
</ol>
<h5 id="属性声明-了解"><a href="#属性声明-了解" class="headerlink" title="属性声明(了解)"></a>属性声明(了解)</h5><p>语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ATTLIST 标签名称 </span><br><span class="line">		属性名称1 属性类型1 属性说明1</span><br><span class="line">		属性名称2 属性类型2 属性说明2</span><br><span class="line">		…</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<p>属性类型</p>
<table>
<thead>
<tr>
<th>属性类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>CDATA</td>
<td>代表属性是文本字符串， eg:<!ATTLIST 属性名 CDATA 属性说明></td>
</tr>
<tr>
<td>ID</td>
<td>代码该属性值唯一，不能以数字开头， eg:<!ATTLIST 属性名 ID 属性说明></td>
</tr>
<tr>
<td>ENUMERATED</td>
<td>代表属性值在指定范围内进行枚举 Eg:&lt;!ATTLIST属性名 (社科类|工程类|教育类) “社科类”&gt; “社科类”是默认值，属性如果不设置默认值就是”社科类”</td>
</tr>
</tbody></table>
<p>属性说明</p>
<table>
<thead>
<tr>
<th>属性说明</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>#REQUIRED</td>
<td>代表属性是必须有的</td>
</tr>
<tr>
<td>#IMPLIED</td>
<td>代表属性可有可无</td>
</tr>
<tr>
<td>#FIXED</td>
<td>代表属性为固定值，实现方式：book_info CDATA #FIXED “固定值”</td>
</tr>
</tbody></table>
<p>代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ATTLIST 书									&lt;!--设置&quot;书&quot;元素的的属性列表--&gt;</span><br><span class="line">		id ID #REQUIRED						 &lt;!--&quot;id&quot;属性值为必须有--&gt;</span><br><span class="line">		编号 CDATA #IMPLIED				    &lt;!--&quot;编号&quot;属性可有可无--&gt;</span><br><span class="line">		出版社 (清华|北大|传智播客) &quot;传智播客&quot;   &lt;!--&quot;出版社&quot;属性值是枚举值，默认为“传智播客”--&gt;</span><br><span class="line">		type CDATA #FIXED &quot;IT&quot;                &lt;!--&quot;type&quot;属性为文本字符串并且固定值为&quot;IT&quot;--&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-2-schema约束"><a href="#1-4-2-schema约束" class="headerlink" title="1.4.2 schema约束"></a>1.4.2 schema约束</h3><h4 id="1-4-2-1-概念"><a href="#1-4-2-1-概念" class="headerlink" title="1.4.2.1 概念"></a>1.4.2.1 概念</h4><p>Schema 语言也可作为 XSD（XML Schema Definition）。</p>
<p>Schema 比DTD强大，是DTD代替者。</p>
<p>Schema 本身也是XML文档，单Schema文档扩展名为xsd，而不是xml。</p>
<p>Schema 功能更强大，数据类型约束更完善。</p>
<h4 id="1-4-2-1-约束体验"><a href="#1-4-2-1-约束体验" class="headerlink" title="1.4.2.1 约束体验"></a>1.4.2.1 约束体验</h4><p>体验效果说明：体验schema约束XML文档中对元素体数据类型的约束。效果如下：</p>
<p><img src="img/12.png"></p>
<p>DTD约束无法对具体数据类型进行约束,所以开发工具没有任何错误提示，如下效果：</p>
<p><img src="img/11.png"></p>
<p>实现步骤</p>
<p>步骤1：复制schema约束文件bookshelf.xsd，其中已对售价约束了数据类型，代码如下</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">	传智播客DTD教学实例文档.将注释中的以下内容复制到要编写的xml的声明下面</span><br><span class="line">	复制内容如下:</span><br><span class="line">	&lt;书架 xmlns=&quot;http://www.itcast.cn&quot;</span><br><span class="line">		  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">		  xsi:schemaLocation=&quot;http://www.itcast.cn bookshelf.xsd&quot;</span><br><span class="line">    &gt;</span><br><span class="line"> --&gt;</span><br><span class="line">&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;</span><br><span class="line">           targetNamespace=&quot;http://www.itcast.cn&quot;</span><br><span class="line">           elementFormDefault=&quot;qualified&quot;&gt;</span><br><span class="line">        &lt;xs:element name=&#x27;书架&#x27; &gt;</span><br><span class="line">                &lt;xs:complexType&gt;</span><br><span class="line">                        &lt;xs:sequence maxOccurs=&#x27;unbounded&#x27; &gt;</span><br><span class="line">                                &lt;xs:element name=&#x27;书&#x27; &gt;</span><br><span class="line">                                        &lt;xs:complexType&gt;</span><br><span class="line">                                                &lt;xs:sequence&gt;</span><br><span class="line">                                                     &lt;xs:element name=&#x27;书名&#x27; type=&#x27;xs:string&#x27; /&gt;</span><br><span class="line">                                                     &lt;xs:element name=&#x27;作者&#x27; type=&#x27;xs:string&#x27; /&gt;</span><br><span class="line">                                                     &lt;xs:element name=&#x27;售价&#x27; type=&#x27;xs:double&#x27; /&gt;</span><br><span class="line">                                                &lt;/xs:sequence&gt;</span><br><span class="line">                                        &lt;/xs:complexType&gt;</span><br><span class="line">                                &lt;/xs:element&gt;</span><br><span class="line">                        &lt;/xs:sequence&gt;</span><br><span class="line">                &lt;/xs:complexType&gt;</span><br><span class="line">        &lt;/xs:element&gt;</span><br><span class="line">&lt;/xs:schema&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>步骤2：新建books2.xml使用schema约束文件bookshelf.xsd，代码如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line">&lt;书架</span><br><span class="line">xmlns=&quot;http://www.itcast.cn&quot;</span><br><span class="line">xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">xsi:schemaLocation=&quot;http://www.itcast.cn bookshelf.xsd&quot;</span><br><span class="line">&gt;<span class="comment">&lt;!--指定schema文档约束当前XML文档--&gt;</span></span><br><span class="line">    &lt;书&gt;</span><br><span class="line">        &lt;书名&gt;JavaScript网页开发&lt;/书名&gt;</span><br><span class="line">        &lt;作者&gt;张孝祥&lt;/作者&gt;</span><br><span class="line">        &lt;售价&gt;abc&lt;/售价&gt;</span><br><span class="line">    &lt;/书&gt;</span><br><span class="line">&lt;/书架&gt;</span><br></pre></td></tr></table></figure>

<p>步骤3：开发工具提示效果</p>
<p><img src="img/12.png"></p>
<h4 id="1-4-2-2-名称空间"><a href="#1-4-2-2-名称空间" class="headerlink" title="1.4.2.2 名称空间"></a>1.4.2.2 名称空间</h4><p>​    一个XML文档最多可以使用一个DTD文件,但一个XML文档中使用多个Schema文件，若这些Schema文件中定义了相同名称的元素时,使用的时候就会出现名字冲突。这就像一个Java文件中使用了<code>import java.util.*</code>和<code>import java.sql.*</code>时，在使用Date类时，那么就不明确Date是哪个包下的Date了。同理 , 在XML文档中就需要通过名称空间(namespace)来区分元素和属性是来源于哪个约束中的。名称空间就在在根元素后面的内容 , 使用xmlns到引入约束 。</p>
<p>​    当一个XML文档中需要使用多个Schema文件的时候 , 有且仅有一个使用缺省的 , 其他的名称空间都需要起别名 。参考资料中的 applicationContext.xml文件(spring框架的配置文件)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.itcast.cn&quot;    </span><br><span class="line">	&lt;!-- 缺省的名称空间.使用此约束中的元素的时候只需要写元素名即可 例如:&lt;书&gt;&lt;&#x2F;书&gt; --&gt;</span><br><span class="line"></span><br><span class="line">xmlns:aa&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&quot;</span><br><span class="line">	&lt;!-- aa就是此约束的别名,使用此约束中的元素的时候就需要加上别名 例如:&lt;aa:书&gt;&lt;&#x2F;aa:书&gt; --&gt;</span><br></pre></td></tr></table></figure>

<p>​    总之名称空间就是用来处理元素和属性的名称冲突问题，与Java中的包是同一用途。如果每个元素和属性都有自己的名称空间，那么就不会出现名字冲突问题，就像是每个类都有自己所在的包一样，那么类名就不会出现冲突。</p>
<h4 id="1-4-2-3-schema学习要求"><a href="#1-4-2-3-schema学习要求" class="headerlink" title="1.4.2.3 schema学习要求"></a>1.4.2.3 schema学习要求</h4><p>​    虽然schema功能比dtd强大，但是编写要比DTD复杂，同样以后我们在企业开发中也很少会自己编写schema文件。</p>
<p>​    xml编写与约束内容已经完成了，根据xml的作用我们了解到，无论是xml作为配置文件还是数据传输，我们的程序都要获取xml文档中的数据以便我们进行具体的业务操作，接下来我们就要学习XML解析技术Dom4j。</p>
<h1 id="第二章-Dom4j"><a href="#第二章-Dom4j" class="headerlink" title="第二章 Dom4j"></a>第二章 Dom4j</h1><h2 id="2-1-XML解析"><a href="#2-1-XML解析" class="headerlink" title="2.1 XML解析"></a>2.1 XML解析</h2><h3 id="2-1-1-解析概述"><a href="#2-1-1-解析概述" class="headerlink" title="2.1.1 解析概述"></a>2.1.1 解析概述</h3><p>​    当将数据存储在XML后，我们就希望通过程序获取XML的内容。如果我们使用Java基础所学的IO知识是可以完成的，不过你学要非常繁琐的操作才可以完成，且开发中会遇到不同问题（只读、读写）。人们为不同问题提供不同的解析方式，使用不同的解析器进行解析，方便开发人员操作XML。</p>
<h3 id="2-1-2-解析方式和解析器"><a href="#2-1-2-解析方式和解析器" class="headerlink" title="2.1.2 解析方式和解析器"></a>2.1.2 解析方式和解析器</h3><ul>
<li><p>开发中比较常见的解析方式有三种，如下：</p>
<ol>
<li><p>DOM：要求解析器把整个XML文档装载到内存，并解析成一个Document对象</p>
<p>a）优点：元素与元素之间保留结构关系，故可以进行增删改查操作。</p>
<p>b）缺点：XML文档过大，可能出现内存溢出</p>
</li>
<li><p>SAX：是一种速度更快，更有效的方法。它逐行扫描文档，一边扫描一边解析。并以事件驱动的方式进行具体解析，每执行一行，都触发对应的事件。（了解）</p>
<p>a）优点：处理速度快，可以处理大文件</p>
<p>b）缺点：只能读，逐行后将释放资源，解析操作繁琐。</p>
</li>
<li><p>PULL：Android内置的XML解析方式，类似SAX。（了解）</p>
</li>
</ol>
</li>
<li><p>解析器，就是根据不同的解析方式提供具体实现。有的解析器操作过于繁琐，为了方便开发人员，有提供易于操作的解析开发包</p>
<p><img src="img/13.png"></p>
</li>
<li><p>常见的解析开发包</p>
<ul>
<li>JAXP：sun公司提供支持DOM和SAX开发包</li>
<li>Dom4j：比较简单的的解析开发包(常用)</li>
<li>JDom：与Dom4j类似</li>
<li>Jsoup：功能强大DOM方式的XML解析开发包，尤其对HTML解析更加方便(项目中讲解)</li>
</ul>
</li>
</ul>
<h2 id="2-3-Dom4j的基本使用"><a href="#2-3-Dom4j的基本使用" class="headerlink" title="2.3 Dom4j的基本使用"></a>2.3 Dom4j的基本使用</h2><h3 id="2-3-1-DOM解析原理及结构模型"><a href="#2-3-1-DOM解析原理及结构模型" class="headerlink" title="2.3.1 DOM解析原理及结构模型"></a>2.3.1 DOM解析原理及结构模型</h3><ul>
<li><p>解析原理</p>
<p>XML DOM 和 HTML DOM一样，XML DOM 将整个XML文档加载到内存，生成一个DOM树，并获得一个Document对象，通过Document对象就可以对DOM进行操作。以下面books.xml文档为例。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">books</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">id</span>=<span class="string">&quot;0001&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>JavaWeb开发教程<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>张孝祥<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sale</span>&gt;</span>100.00元<span class="tag">&lt;/<span class="name">sale</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">id</span>=<span class="string">&quot;0002&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>三国演义<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>罗贯中<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sale</span>&gt;</span>100.00元<span class="tag">&lt;/<span class="name">sale</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">books</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>结构模型</p>
<p><img src="img/15.png"></p>
<p>DOM中的核心概念就是节点，在XML文档中的元素、属性、文本，在DOM中都是节点！所有的节点都封装到了Document对象中。</p>
</li>
<li><p>引入dom4j的jar包</p>
<p>需要引入“jar/dom4j-1.6.1.jar” , 在IDEA中，选择项目鼠标右键—&gt;弹出菜单–&gt;open Module settings”–&gt;Dependencies–&gt;+–&gt;JARs or directories…   </p>
<p>找到dom4j-1.6.1.jar,成功添加之后点击”OK” 即可.</p>
</li>
</ul>
<ul>
<li>dom4j 必须使用核心类SaxReader加载xml文档获得Document，通过Document对象获得文档的根元素，然后就可以操作了。</li>
</ul>
<h3 id="2-3-2-常用的方法"><a href="#2-3-2-常用的方法" class="headerlink" title="2.3.2 常用的方法"></a>2.3.2 常用的方法</h3><h4 id="SAXReader对象"><a href="#SAXReader对象" class="headerlink" title="SAXReader对象"></a>SAXReader对象</h4><table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>new SAXReader()</td>
<td>构造器</td>
</tr>
<tr>
<td>Document read(String url)</td>
<td>加载执行xml文档</td>
</tr>
</tbody></table>
<h4 id="Document对象"><a href="#Document对象" class="headerlink" title="Document对象"></a>Document对象</h4><table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>Element getRootElement()</td>
<td>获得根元素</td>
</tr>
</tbody></table>
<h4 id="Element对象"><a href="#Element对象" class="headerlink" title="Element对象"></a>Element对象</h4><table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>List elements([String ele] )</td>
<td>获得指定名称的所有子元素。可以不指定名称</td>
</tr>
<tr>
<td>Element element([String ele])</td>
<td>获得指定名称第一个子元素。可以不指定名称</td>
</tr>
<tr>
<td>String getName()</td>
<td>获得当前元素的元素名</td>
</tr>
<tr>
<td>String attributeValue(String attrName)</td>
<td>获得指定属性名的属性值</td>
</tr>
<tr>
<td>String elementText(Sting ele)</td>
<td>获得指定名称子元素的文本值</td>
</tr>
<tr>
<td>String getText()</td>
<td>获得当前元素的文本内容</td>
</tr>
</tbody></table>
<h3 id="2-3-3-方法演示"><a href="#2-3-3-方法演示" class="headerlink" title="2.3.3 方法演示"></a>2.3.3 方法演示</h3><p>复制资料下的常用xml中”books.xml”,内容如下:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">books</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">id</span>=<span class="string">&quot;0001&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>JavaWeb开发教程<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>张孝祥<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sale</span>&gt;</span>100.00元<span class="tag">&lt;/<span class="name">sale</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">book</span> <span class="attr">id</span>=<span class="string">&quot;0002&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>三国演义<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">author</span>&gt;</span>罗贯中<span class="tag">&lt;/<span class="name">author</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sale</span>&gt;</span>100.00元<span class="tag">&lt;/<span class="name">sale</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">books</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意:为了便于解析,此xml中没有添加约束</p>
</blockquote>
<p>解析此文件,获取每本书的id值,以及书本名称,作者名称和价格.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> DocumentException </span>&#123;</span><br><span class="line">        SAXReader reader = <span class="keyword">new</span> SAXReader();</span><br><span class="line">        Document document = reader.read(Demo.class.getResourceAsStream(<span class="string">&quot;/books.xml&quot;</span>));</span><br><span class="line">        <span class="comment">//获取根元素 books</span></span><br><span class="line">        Element elemRoot = document.getRootElement();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取根元素的所有子元素 book</span></span><br><span class="line">        List&lt;Element&gt;list = elemRoot.elements();</span><br><span class="line">        <span class="comment">//遍历集合 获取每一个book</span></span><br><span class="line">        <span class="keyword">for</span>(Element element : list)&#123;</span><br><span class="line">            <span class="comment">//获取book的id属性</span></span><br><span class="line">            String id =element.attributeValue(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;id : &quot;</span>+ id);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取book下的所有子元素 name,author,sale</span></span><br><span class="line">            List&lt;Element&gt;listElem = element.elements();</span><br><span class="line">            <span class="comment">//遍历集合 获取每一个子元素</span></span><br><span class="line">            <span class="keyword">for</span>(Element elem : listElem)&#123;</span><br><span class="line">                <span class="comment">//元素名</span></span><br><span class="line">                String name = elem.getName();</span><br><span class="line">                <span class="comment">//文本值</span></span><br><span class="line">                String text = elem.getText();</span><br><span class="line">                System.out.println(<span class="string">&quot;--- &quot;</span> + name + <span class="string">&quot; : &quot;</span> + text);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-4-Dom4J结合XPath解析XML"><a href="#2-4-Dom4J结合XPath解析XML" class="headerlink" title="2.4 Dom4J结合XPath解析XML"></a>2.4 Dom4J结合XPath解析XML</h2><h3 id="2-4-1-介绍"><a href="#2-4-1-介绍" class="headerlink" title="2.4.1 介绍"></a>2.4.1 介绍</h3><p>​    XPath 使用路径表达式来选取HTML 文档中的元素节点或属性节点。节点是通过沿着路径 (path) 来选取的。XPath在解析HTML文档方面提供了一独树一帜的路径思想。</p>
<h3 id="2-4-2-XPath使用步骤"><a href="#2-4-2-XPath使用步骤" class="headerlink" title="2.4.2 XPath使用步骤"></a>2.4.2 XPath使用步骤</h3><p>步骤1：导入jar包(dom4j和jaxen-1.1-beta-6.jar)</p>
<p>步骤2：通过dom4j的SaxReader获取Document对象</p>
<p>步骤3： 利用Xpath提供的api,结合xpaht的语法完成选取XML文档元素节点进行解析操作。</p>
<p>document常用的api</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>List<Element> selectNodes(“表达式”)</td>
<td>获取符合表达式的元素集合</td>
</tr>
<tr>
<td>Element selectSingleNode(“表达式”)</td>
<td>获取符合表达式的唯一元素</td>
</tr>
</tbody></table>
<h3 id="2-4-3-XPath语法-了解"><a href="#2-4-3-XPath语法-了解" class="headerlink" title="2.4.3 XPath语法(了解)"></a>2.4.3 XPath语法(了解)</h3><ul>
<li><p>XPath表达式，就是用于选取HTML文档中节点的表达式字符串。</p>
<p>获取XML文档节点元素一共有如下4种XPath语法方式：</p>
<ol>
<li>绝对路径表达式方式         例如: /元素/子元素/子子元素…</li>
<li>相对路径表达式方式          例如: 子元素/子子元素..  或者 ./子元素/子子元素..</li>
<li>全文搜索路径表达式方式  例如: //子元素//子子元素</li>
<li>谓语（条件筛选）方式      例如: //元素[@attr1=value]</li>
</ol>
</li>
</ul>
<ul>
<li><p>获取不同节点语法</p>
<table>
<thead>
<tr>
<th>获取类型</th>
<th>语法代码</th>
</tr>
</thead>
<tbody><tr>
<td>获取元素节点</td>
<td>元素名称</td>
</tr>
<tr>
<td>获取属性节点</td>
<td>@属性名称</td>
</tr>
</tbody></table>
</li>
</ul>
<h4 id="2-4-3-1-绝对路径表达式-了解"><a href="#2-4-3-1-绝对路径表达式-了解" class="headerlink" title="2.4.3.1 绝对路径表达式(了解)"></a>2.4.3.1 绝对路径表达式(了解)</h4><ul>
<li><p>绝对路径介绍</p>
<p>格式：    String xpath=”/元素/子元素/子子元素…”;</p>
<p>​        绝对路径是以“/”开头，一级一级描述标签的层级路径就是绝对路径，<em><strong>这里注意不可以跨层级</strong></em></p>
<p>​        绝对路径是从根元素开始写路径的，<em><strong>这里开头的“/”代表HTML文档根元素</strong></em>，所以在绝对路径中不可以写根元素路径</p>
</li>
</ul>
<ul>
<li><p>演示需求(解析XML文档为”资料\常用xml文件\index.html”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需求：采用绝对路径获取从根节点开始逐层的html&#x2F;body&#x2F;div&#x2F;ul&#x2F;li节点列表并打印信息</span><br></pre></td></tr></table></figure>
<h4 id="2-4-3-2-相对路径表达式-了解"><a href="#2-4-3-2-相对路径表达式-了解" class="headerlink" title="2.4.3.2 相对路径表达式(了解)"></a>2.4.3.2 相对路径表达式(了解)</h4></li>
<li><p>相对路径介绍</p>
<p>格式：    String xpath1=”子元素/子子元素…”;//获取相对当前路径元素里面的子元素的选取</p>
<p>​                String xpath2=”./子元素/子子元素”;//“./“代表当前元素路径位置</p>
<p>​                String xpath3=”/子元素/子子元素”;//功能与xpath1格式功能一样</p>
<p>​        相对路径就是相对当前节点元素位置继续查找节点，需要使用JXNode.sel（xpath）进行执行相对路径表达式。</p>
</li>
</ul>
<h4 id="2-4-3-3-全文搜索路径表达式-了解"><a href="#2-4-3-3-全文搜索路径表达式-了解" class="headerlink" title="2.4.3.3 全文搜索路径表达式(了解)"></a>2.4.3.3 全文搜索路径表达式(了解)</h4><ul>
<li><p>全文搜索路径介绍</p>
<p>格式：    String xpath1=”//子元素//子子元素”;</p>
<p>​        一个“/”符号，代表逐级写路径</p>
<p>​        2个“//”符号，不用逐级写路径，可以直接选取到对应的节点，是全文搜索匹配的不需要按照逐层级</p>
</li>
</ul>
<h4 id="2-4-3-4-谓语（条件筛选-了解）"><a href="#2-4-3-4-谓语（条件筛选-了解）" class="headerlink" title="2.4.3.4 谓语（条件筛选 了解）"></a>2.4.3.4 谓语（条件筛选 了解）</h4><ul>
<li><p>介绍</p>
<p>谓语，又称为条件筛选方式，就是根据条件过滤判断进行选取节点</p>
<p>格式：<br>​    String xpath1=”//元素[@attr1=value]”;//获取元素属性attr1=value的元素</p>
<p>​    String xpath2=”//元素[@attr1&gt;value]/@attr1”//获取元素属性attr1&gt;value的d的所有attr1的值</p>
<p>​    String xpath3=”//元素[@attr1=value]/text()”;//获取符合条件元素体的自有文本数据</p>
<pre><code> String xpath4=&quot;//元素[@attr1=value]/html()&quot;;//获取符合条件元素体的自有html代码数据。
</code></pre>
<p>​     String xpath3=”//元素[@attr1=value]/allText()”;//获取符合条件元素体的所有文本数据（包含子元素里面的文本）</p>
</li>
</ul>
<h3 id="2-4-4-演示"><a href="#2-4-4-演示" class="headerlink" title="2.4.4 演示"></a>2.4.4 演示</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoXpath</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        SAXReader reader = <span class="keyword">new</span> SAXReader();</span><br><span class="line">        Document document = reader.read(Demo.class.getResourceAsStream(<span class="string">&quot;/books.xml&quot;</span>));</span><br><span class="line">        <span class="comment">//获取所有的book元素</span></span><br><span class="line">        List&lt;Element&gt; list = document.selectNodes(<span class="string">&quot;//book&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Element ele: list) &#123;</span><br><span class="line">            System.out.println(ele.attributeValue(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//获取id为0002的指定book元素的子标签name的内容</span></span><br><span class="line">        Element ele = (Element)document.selectSingleNode(<span class="string">&quot;//book[@id=&#x27;0002&#x27;]/name&quot;</span>);</span><br><span class="line">        System.out.println(ele.getText());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day21%E5%8F%8D%E5%B0%84&%E6%B3%A8%E8%A7%A3/day21%E3%80%90%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day21%E5%8F%8D%E5%B0%84&%E6%B3%A8%E8%A7%A3/day21%E3%80%90%E5%8F%8D%E5%B0%84%E3%80%81%E6%B3%A8%E8%A7%A3%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:53" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:53+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day21【反射、注解】"><a href="#day21【反射、注解】" class="headerlink" title="day21【反射、注解】"></a>day21【反射、注解】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li>反射</li>
<li>注解</li>
</ul>
<h2 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h2><ul>
<li><input disabled="" type="checkbox"> 能够通过反射技术获取Class字节码对象</li>
<li><input disabled="" type="checkbox"> 能够通过反射技术获取构造方法对象，并创建对象。</li>
<li><input disabled="" type="checkbox"> 能够通过反射获取成员方法对象，并且调用方法。</li>
<li><input disabled="" type="checkbox"> 能够通过反射获取属性对象，并且能够给对象的属性赋值和取值。</li>
<li><input disabled="" type="checkbox"> 能够说出注解的作用 </li>
<li><input disabled="" type="checkbox"> 能够自定义注解和使用注解</li>
<li><input disabled="" type="checkbox"> 能够说出常用的元注解及其作用</li>
<li><input disabled="" type="checkbox"> 能够解析注解并获取注解中的数据</li>
<li><input disabled="" type="checkbox"> 能够完成注解的MyTest案例</li>
</ul>
<h1 id="第一章-反射"><a href="#第一章-反射" class="headerlink" title="第一章 反射"></a>第一章 反射</h1><h2 id="1-1-类加载器"><a href="#1-1-类加载器" class="headerlink" title="1.1 类加载器"></a>1.1 类加载器</h2><h3 id="1-1-1-类的加载"><a href="#1-1-1-类的加载" class="headerlink" title="1.1.1 类的加载"></a>1.1.1 类的加载</h3><ul>
<li>当我们的程序在运行后，第一次使用某个类的时候，会将此类的class文件读取到内存，并将此类的所有信息存储到一个Class对象中</li>
</ul>
<p><img src="img/03_%E8%AF%BB%E5%8F%96class.png"></p>
<p>​    <strong>说明：</strong></p>
<blockquote>
<ol>
<li>上图：Class对象是指：java.lang.Class类的对象，此类由Java类库提供，专门用于存储类的信息。</li>
<li>我们程序中可以通过：”类名.class”，或者”对象.getClass()”方法获取这个Class对象</li>
</ol>
</blockquote>
<h3 id="1-1-2-类的加载时机"><a href="#1-1-2-类的加载时机" class="headerlink" title="1.1.2 类的加载时机"></a>1.1.2 类的加载时机</h3><ol>
<li><p>创建类的实例。</p>
</li>
<li><p>类的静态变量，或者为静态变量赋值。</p>
</li>
<li><p>类的静态方法。</p>
</li>
<li><p>使用反射方式来强制创建某个类或接口对应的java.lang.Class对象。</p>
</li>
<li><p>初始化某个类的子类。</p>
</li>
<li><p>直接使用java.exe命令来运行某个主类。</p>
<p>以上六种情况的任何一种，都可以导致JVM将一个类加载到方法区。</p>
</li>
</ol>
<h3 id="1-1-3-类加载器"><a href="#1-1-3-类加载器" class="headerlink" title="1.1.3 类加载器"></a>1.1.3 类加载器</h3><p>​    <strong>类加载器：是负责将磁盘上的某个class文件读取到内存并生成Class的对象。</strong></p>
<ul>
<li>Java中有三种类加载器，它们分别用于加载不同种类的class：<ul>
<li>启动类加载器(Bootstrap ClassLoader)：用于加载系统类库<JAVA_HOME>\bin目录下的class，例如：rt.jar。</li>
<li>扩展类加载器(Extension ClassLoader)：用于加载扩展类库<JAVA_HOME>\lib\ext目录下的class。</li>
<li>应用程序类加载器(Application ClassLoader)：用于加载我们自定义类的加载器。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       System.out.println(Test.class.getClassLoader());<span class="comment">//sun.misc.Launcher$AppClassLoader</span></span><br><span class="line">        System.out.println(String.class.getClassLoader());<span class="comment">//null(API中说明：一些实现可能使用null来表示引导类加载器。 如果此类由引导类加载器加载，则此方法将在此类实现中返回null。 )</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-1-4-双亲委派机制"><a href="#1-1-4-双亲委派机制" class="headerlink" title="1.1.4 双亲委派机制"></a>1.1.4 双亲委派机制</h3><p>​    <img src="img/04_%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.png"></p>
<p>​    上图展示了”类加载器”的层次关系，这种关系称为类加载器的”双亲委派模型”：</p>
<ul>
<li>“双亲委派模型”中，除了顶层的启动类加载器外，其余的类加载器都应当有自己的”父级类加载器”。</li>
<li>这种关系不是通过”继承”实现的，通常是通过”组合”实现的。通过”组合”来表示父级类加载器。</li>
<li>“双亲委派模型”的工作过程：<ul>
<li>某个”类加载器”收到类加载的请求，它首先不会尝试自己去加载这个类，而是把请求交给父级类加载器。</li>
<li>因此，所有的类加载的请求最终都会传送到顶层的”启动类加载器”中。</li>
<li>如果”父级类加载器”无法加载这个类，然后子级类加载器再去加载。</li>
</ul>
</li>
</ul>
<h3 id="1-1-5-双亲委派机制的好处"><a href="#1-1-5-双亲委派机制的好处" class="headerlink" title="1.1.5 双亲委派机制的好处"></a>1.1.5 双亲委派机制的好处</h3><p>​        双亲委派机制的一个显而易见的好处是：Java的类随着它的类加载器一起具备了一种带有优先级的层次关系。例如：java.lang.Object。它存放在rt.jar中。无论哪一个类加载器要加载这个类，最终都是委派给处于顶端的”启动类加载器”进行加载，因此java.lang.Object类在程序的各种类加载器环境中都是同一个类。</p>
<p>​        相反，如果没有”双亲委派机制”，如果用户自己编写了一个java.lang.Object，那么当我们编写其它类时，这种隐式的继承使用的将会是用户自己编写的java.lang.Object类，那将变得一片混乱。</p>
<h2 id="1-2-反射的概述"><a href="#1-2-反射的概述" class="headerlink" title="1.2 反射的概述"></a>1.2 反射的概述</h2><h3 id="1-2-1-反射的引入"><a href="#1-2-1-反射的引入" class="headerlink" title="1.2.1  反射的引入"></a>1.2.1  反射的引入</h3><ul>
<li>问题：IDEA中的对象是怎么知道类有哪些属性，哪些方法的呢？</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过反射技术对象类进行了解剖得到了类的所有成员。</span><br></pre></td></tr></table></figure>

<h3 id="1-2-2-反射的概念"><a href="#1-2-2-反射的概念" class="headerlink" title="1.2.2  反射的概念"></a>1.2.2  反射的概念</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">反射是一种机制，利用该机制可以在程序运行过程中对类进行解剖并操作类中的所有成员(成员变量，成员方法，构造方法)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-3-使用反射操作类成员的前提"><a href="#1-2-3-使用反射操作类成员的前提" class="headerlink" title="1.2.3 使用反射操作类成员的前提"></a>1.2.3 使用反射操作类成员的前提</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">要获得该类字节码文件对象，就是Class对象</span><br></pre></td></tr></table></figure>

<h3 id="1-2-4-反射在实际开发中的应用"><a href="#1-2-4-反射在实际开发中的应用" class="headerlink" title="1.2.4 反射在实际开发中的应用"></a>1.2.4 反射在实际开发中的应用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 开发IDE(集成开发环境)，比如IDEA,Eclipse</span><br><span class="line">* 各种框架的设计和学习 比如Spring，Hibernate，Struct，Mybaits....</span><br></pre></td></tr></table></figure>



<h2 id="1-3-Class对象的获取方式"><a href="#1-3-Class对象的获取方式" class="headerlink" title="1.3 Class对象的获取方式"></a>1.3 Class对象的获取方式</h2><h3 id="1-3-1-三种获取方法"><a href="#1-3-1-三种获取方法" class="headerlink" title="1.3.1 三种获取方法"></a>1.3.1 三种获取方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 方式<span class="number">1</span>: 通过类名.class获得</span><br><span class="line">* 方式<span class="number">2</span>：通过对象名.getClass()方法获得</span><br><span class="line">* 方式<span class="number">3</span>：通过Class类的静态方法获得： <span class="function"><span class="keyword">static</span> Class <span class="title">forName</span><span class="params">(<span class="string">&quot;类全名&quot;</span>)</span></span></span><br><span class="line"><span class="function">    * 每一个类的Class对象都只有一个。</span></span><br></pre></td></tr></table></figure>

<ul>
<li>示例代码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima._03反射;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Student类对应的Class对象</span></span><br><span class="line">        Class c1 = Student.class;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建学生对象</span></span><br><span class="line">        Student stu = <span class="keyword">new</span> Student();</span><br><span class="line">        <span class="comment">// 通过getClass方法</span></span><br><span class="line">        Class c2 = stu.getClass();</span><br><span class="line">        System.out.println(c1 == c2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 通过Class类的静态方法获得： static Class forName(&quot;类全名&quot;)</span></span><br><span class="line">        Class c3 = Class.forName(<span class="string">&quot;com.itheima._03反射.Student&quot;</span>);</span><br><span class="line">        System.out.println(c1 == c3);</span><br><span class="line">        System.out.println(c2 == c3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-2-Class类常用方法"><a href="#1-3-2-Class类常用方法" class="headerlink" title="1.3.2 Class类常用方法"></a>1.3.2 Class类常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">getSimpleName</span><span class="params">()</span></span>; 获得类名字符串：类名</span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span>;  获得类全名：包名+类名</span><br><span class="line"><span class="function">T <span class="title">newInstance</span><span class="params">()</span> </span>;  创建Class对象关联类的对象</span><br></pre></td></tr></table></figure>

<ul>
<li>示例代码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line">        <span class="comment">// 获得类名字符串：类名</span></span><br><span class="line">        System.out.println(c.getSimpleName());</span><br><span class="line">        <span class="comment">// 获得类全名：包名+类名</span></span><br><span class="line">        System.out.println(c.getName());</span><br><span class="line">        <span class="comment">// 创建对象</span></span><br><span class="line">        Student stu = (Student) c.newInstance();</span><br><span class="line">        System.out.println(stu);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-4-反射之操作构造方法"><a href="#1-4-反射之操作构造方法" class="headerlink" title="1.4 反射之操作构造方法"></a>1.4 反射之操作构造方法</h2><h3 id="1-4-1-Constructor类概述"><a href="#1-4-1-Constructor类概述" class="headerlink" title="1.4.1 Constructor类概述"></a>1.4.1 Constructor类概述</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">反射之操作构造方法的目的</span><br><span class="line">    * 获得Constructor对象来创建类的对象。</span><br><span class="line"></span><br><span class="line">Constructor类概述</span><br><span class="line">    * 类中的每一个构造方法都是一个Constructor类的对象</span><br></pre></td></tr></table></figure>

<h3 id="1-4-2-Class类中与Constructor相关的方法"><a href="#1-4-2-Class类中与Constructor相关的方法" class="headerlink" title="1.4.2 Class类中与Constructor相关的方法"></a>1.4.2 Class类中与Constructor相关的方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="function">Constructor <span class="title">getConstructor</span><span class="params">(Class... parameterTypes)</span></span></span><br><span class="line"><span class="function">        * 根据参数类型获得对应的Constructor对象。</span></span><br><span class="line"><span class="function">        * 只能获得<span class="keyword">public</span>修饰的构造方法</span></span><br><span class="line"><span class="function"> 2. Constructor <span class="title">getDeclaredConstructor</span><span class="params">(Class... parameterTypes)</span></span></span><br><span class="line"><span class="function">        * 根据参数类型获得对应的Constructor对象</span></span><br><span class="line"><span class="function">    	* 可以是<span class="keyword">public</span>、<span class="keyword">protected</span>、<span class="params">(默认)</span>、<span class="keyword">private</span>修饰符的构造方法。</span></span><br><span class="line"><span class="function"> 3. Constructor[] <span class="title">getConstructors</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        获得类中的所有构造方法对象，只能获得<span class="keyword">public</span>的</span></span><br><span class="line"><span class="function"> 4. Constructor[] <span class="title">getDeclaredConstructors</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        获得类中的所有构造方法对象</span></span><br><span class="line"><span class="function">    	可以是<span class="keyword">public</span>、<span class="keyword">protected</span>、<span class="params">(默认)</span>、<span class="keyword">private</span>修饰符的构造方法。</span></span><br></pre></td></tr></table></figure>

<h3 id="1-4-3-Constructor对象常用方法"><a href="#1-4-3-Constructor对象常用方法" class="headerlink" title="1.4.3 Constructor对象常用方法"></a>1.4.3 Constructor对象常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="function">T <span class="title">newInstance</span><span class="params">(Object... initargs)</span>&quot;——</span></span><br><span class="line"><span class="function"> 	根据指定的参数创建对象</span></span><br><span class="line"><span class="function">2. <span class="keyword">void</span> <span class="title">setAccessible</span><span class="params">(<span class="keyword">true</span>)</span></span></span><br><span class="line"><span class="function">   设置&quot;暴力反射&quot;——是否取消权限检查，<span class="keyword">true</span>取消权限检查，<span class="keyword">false</span>表示不取消</span></span><br></pre></td></tr></table></figure>

<h3 id="1-4-4-示例代码"><a href="#1-4-4-示例代码" class="headerlink" title="1.4.4 示例代码"></a>1.4.4 示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//公有构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,String sex,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//私有构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Student</span><span class="params">(String name,String sex)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo03</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">      Constructor[] getConstructors()</span></span><br><span class="line"><span class="comment">           获得类中的所有构造方法对象，只能获得public的</span></span><br><span class="line"><span class="comment">      Constructor[] getDeclaredConstructors()</span></span><br><span class="line"><span class="comment">            获得类中的所有构造方法对象，包括private修饰的</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line">        <span class="comment">//  获得类中的所有构造方法对象，只能获得public的</span></span><br><span class="line">        <span class="comment">// Constructor[] cons = c.getConstructors();</span></span><br><span class="line">        <span class="comment">// 获取类中所有的构造方法，包括public、protected、(默认)、private的</span></span><br><span class="line">        Constructor[] cons = c.getDeclaredConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor con:cons) &#123;</span><br><span class="line">            System.out.println(con);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">       Constructor getDeclaredConstructor(Class... parameterTypes)</span></span><br><span class="line"><span class="comment">           根据参数类型获得对应的Constructor对象</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line">        <span class="comment">// 获得两个参数构造方法对象</span></span><br><span class="line">        Constructor con = c.getDeclaredConstructor(String.class,String.class);</span><br><span class="line">        <span class="comment">// 取消权限检查(暴力反射)</span></span><br><span class="line">        con.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">// 根据构造方法创建对象</span></span><br><span class="line">        Object obj = con.newInstance(<span class="string">&quot;rose&quot;</span>,<span class="string">&quot;女&quot;</span>);</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Constructor getConstructor(Class... parameterTypes)</span></span><br><span class="line"><span class="comment">            根据参数类型获得对应的Constructor对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line">        <span class="comment">// 获得无参数构造方法对象</span></span><br><span class="line">        Constructor con = c.getConstructor();</span><br><span class="line">        <span class="comment">// 根据构造方法创建对象</span></span><br><span class="line">        Object obj = con.newInstance();</span><br><span class="line">        System.out.println(obj);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获得有参数的构造方法对象</span></span><br><span class="line">        Constructor con2 = c.getConstructor(String.class, String.class,<span class="keyword">int</span>.class);</span><br><span class="line">        <span class="comment">// 创建对象</span></span><br><span class="line">        Object obj2 = con2.newInstance(<span class="string">&quot;jack&quot;</span>, <span class="string">&quot;男&quot;</span>,<span class="number">18</span>);</span><br><span class="line">        System.out.println(obj2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-5-反射之操作成员方法"><a href="#1-5-反射之操作成员方法" class="headerlink" title="1.5 反射之操作成员方法"></a>1.5 反射之操作成员方法</h2><h3 id="1-5-1-Method类概述"><a href="#1-5-1-Method类概述" class="headerlink" title="1.5.1 Method类概述"></a>1.5.1 Method类概述</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">反射之操作成员方法的目的</span><br><span class="line">    * 操作Method对象来调用成员方法</span><br><span class="line">Method类概述</span><br><span class="line">    * 每一个成员方法都是一个Method类的对象。</span><br></pre></td></tr></table></figure>

<h3 id="1-5-2-Class类中与Method相关的方法"><a href="#1-5-2-Class类中与Method相关的方法" class="headerlink" title="1.5.2 Class类中与Method相关的方法"></a>1.5.2 Class类中与Method相关的方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* <span class="function">Method <span class="title">getMethod</span><span class="params">(String name,Class...args)</span></span>;</span><br><span class="line">    * 根据方法名和参数类型获得对应的构造方法对象，只能获得<span class="keyword">public</span>的</span><br><span class="line"></span><br><span class="line">* <span class="function">Method <span class="title">getDeclaredMethod</span><span class="params">(String name,Class...args)</span></span>;</span><br><span class="line">    * 根据方法名和参数类型获得对应的构造方法对象，包括<span class="keyword">public</span>、<span class="keyword">protected</span>、(默认)、<span class="keyword">private</span>的</span><br><span class="line"></span><br><span class="line">* Method[] getMethods();</span><br><span class="line">    * 获得类中的所有成员方法对象，返回数组，只能获得<span class="keyword">public</span>修饰的且包含父类的</span><br><span class="line"></span><br><span class="line">* Method[] getDeclaredMethods();</span><br><span class="line">    * 获得类中的所有成员方法对象，返回数组,只获得本类的，包括<span class="keyword">public</span>、<span class="keyword">protected</span>、(默认)、<span class="keyword">private</span>的</span><br></pre></td></tr></table></figure>

<h3 id="1-5-3-Method对象常用方法"><a href="#1-5-3-Method对象常用方法" class="headerlink" title="1.5.3 Method对象常用方法"></a>1.5.3 Method对象常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*  <span class="function">Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span></span></span><br><span class="line"><span class="function">    * 调用指定对象obj的该方法</span></span><br><span class="line"><span class="function">    * args：调用方法时传递的参数</span></span><br><span class="line"><span class="function">*  <span class="keyword">void</span> <span class="title">setAccessible</span><span class="params">(<span class="keyword">true</span>)</span></span></span><br><span class="line"><span class="function">    设置&quot;暴力访问&quot;——是否取消权限检查，<span class="keyword">true</span>取消权限检查，<span class="keyword">false</span>表示不取消</span></span><br></pre></td></tr></table></figure>

<h3 id="1-5-4-示例代码"><a href="#1-5-4-示例代码" class="headerlink" title="1.5.4 示例代码"></a>1.5.4 示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我吃：&quot;</span> + str);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我睡觉...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">study</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我学习Java，参数a = &quot;</span> + a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo04</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 反射操作静态方法</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line">        <span class="comment">// 根据方法名获得对应的公有成员方法对象</span></span><br><span class="line">        Method method = c.getDeclaredMethod(<span class="string">&quot;eat&quot;</span>,String.class);</span><br><span class="line">        <span class="comment">// 通过method执行对应的方法</span></span><br><span class="line">        method.invoke(<span class="keyword">null</span>,<span class="string">&quot;蛋炒饭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * Method[] getMethods();</span></span><br><span class="line"><span class="comment">        * 获得类中的所有成员方法对象，返回数组，只能获得public修饰的且包含父类的</span></span><br><span class="line"><span class="comment">     * Method[] getDeclaredMethods();</span></span><br><span class="line"><span class="comment">        * 获得类中的所有成员方法对象，返回数组,只获得本类的，包含private修饰的</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line">        <span class="comment">// 获得类中的所有成员方法对象，返回数组，只能获得public修饰的且包含父类的</span></span><br><span class="line">        <span class="comment">// Method[] methods = c.getMethods();</span></span><br><span class="line">        <span class="comment">// 获得类中的所有成员方法对象，返回数组,只获得本类的，包含private修饰的</span></span><br><span class="line">        Method[] methods = c.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m: methods) &#123;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">       Method getDeclaredMethod(String name,Class...args);</span></span><br><span class="line"><span class="comment">           * 根据方法名和参数类型获得对应的构造方法对象，</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据Class对象创建学生对象</span></span><br><span class="line">        Student stu = (Student) c.newInstance();</span><br><span class="line">        <span class="comment">// 获得sleep方法对应的Method对象</span></span><br><span class="line">        Method m =  c.getDeclaredMethod(<span class="string">&quot;sleep&quot;</span>);</span><br><span class="line">        <span class="comment">// 暴力反射</span></span><br><span class="line">        m.setAccessible(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 通过m对象执行stuy方法</span></span><br><span class="line">        m.invoke(stu);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Method getMethod(String name,Class...args);</span></span><br><span class="line"><span class="comment">            * 根据方法名和参数类型获得对应的构造方法对象，</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = Student.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 根据Class对象创建学生对象</span></span><br><span class="line">        Student stu = (Student) c.newInstance();</span><br><span class="line">        <span class="comment">// 获得study方法对应的Method对象</span></span><br><span class="line">        Method m =  c.getMethod(<span class="string">&quot;study&quot;</span>);</span><br><span class="line">        <span class="comment">// 通过m对象执行stuy方法</span></span><br><span class="line">        m.invoke(stu);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">/// 获得study方法对应的Method对象</span></span><br><span class="line">        Method m2  = c.getMethod(<span class="string">&quot;study&quot;</span>, <span class="keyword">int</span>.class);</span><br><span class="line">        <span class="comment">// 通过m2对象执行stuy方法</span></span><br><span class="line">        m2.invoke(stu,<span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-6-反射之操作成员变量【自学】"><a href="#1-6-反射之操作成员变量【自学】" class="headerlink" title="1.6 反射之操作成员变量【自学】"></a>1.6 反射之操作成员变量【自学】</h2><h3 id="1-6-1-Field类概述"><a href="#1-6-1-Field类概述" class="headerlink" title="1.6.1 Field类概述"></a>1.6.1 Field类概述</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">反射之操作成员变量的目的</span><br><span class="line">    * 通过Field对象给对应的成员变量赋值和取值</span><br><span class="line"></span><br><span class="line">Field类概述</span><br><span class="line">    * 每一个成员变量都是一个Field类的对象。</span><br></pre></td></tr></table></figure>

<h3 id="1-6-2-Class类中与Field相关的方法"><a href="#1-6-2-Class类中与Field相关的方法" class="headerlink" title="1.6.2 Class类中与Field相关的方法"></a>1.6.2 Class类中与Field相关的方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* <span class="function">Field <span class="title">getField</span><span class="params">(String name)</span></span>;</span><br><span class="line">    *  根据成员变量名获得对应Field对象，只能获得<span class="keyword">public</span>修饰</span><br><span class="line">* <span class="function">Field <span class="title">getDeclaredField</span><span class="params">(String name)</span></span>;</span><br><span class="line">    *  根据成员变量名获得对应Field对象，包括<span class="keyword">public</span>、<span class="keyword">protected</span>、(默认)、<span class="keyword">private</span>的</span><br><span class="line">* Field[] getFields();</span><br><span class="line">    * 获得所有的成员变量对应的Field对象，只能获得<span class="keyword">public</span>的</span><br><span class="line">* Field[] getDeclaredFields();</span><br><span class="line">    * 获得所有的成员变量对应的Field对象，包括<span class="keyword">public</span>、<span class="keyword">protected</span>、(默认)、<span class="keyword">private</span>的</span><br></pre></td></tr></table></figure>

<h3 id="1-6-3-Field对象常用方法"><a href="#1-6-3-Field对象常用方法" class="headerlink" title="1.6.3 Field对象常用方法"></a>1.6.3 Field对象常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span>  <span class="title">set</span><span class="params">(Object obj, Object value)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setInt</span><span class="params">(Object obj, <span class="keyword">int</span> i)</span> 	</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setLong</span><span class="params">(Object obj, <span class="keyword">long</span> l)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setBoolean</span><span class="params">(Object obj, <span class="keyword">boolean</span> z)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setDouble</span><span class="params">(Object obj, <span class="keyword">double</span> d)</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Object <span class="title">get</span><span class="params">(Object obj)</span>  </span></span><br><span class="line"><span class="function"><span class="keyword">int</span>	<span class="title">getInt</span><span class="params">(Object obj)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">getLong</span><span class="params">(Object obj)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">getBoolean</span><span class="params">(Object ob)</span></span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">getDouble</span><span class="params">(Object obj)</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setAccessible</span><span class="params">(<span class="keyword">true</span>)</span></span>;暴力反射，设置为可以直接访问私有类型的属性。</span><br><span class="line"><span class="function">Class <span class="title">getType</span><span class="params">()</span></span>; 获取属性的类型，返回Class对象。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>setXxx方法都是给对象obj的属性设置使用，针对不同的类型选取不同的方法。</p>
<p>getXxx方法是获取对象obj对应的属性值的，针对不同的类型选取不同的方法。</p>
</blockquote>
<h3 id="1-6-4-示例代码"><a href="#1-6-4-示例代码" class="headerlink" title="1.6.4 示例代码"></a>1.6.4 示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name; </span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student [name = &quot;</span> + name + <span class="string">&quot; , gender = &quot;</span> + gender + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo05</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Field[] getFields();</span></span><br><span class="line"><span class="comment">            * 获得所有的成员变量对应的Field对象，只能获得public的</span></span><br><span class="line"><span class="comment">        Field[] getDeclaredFields();</span></span><br><span class="line"><span class="comment">            * 获得所有的成员变量对应的Field对象，包含private的</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c  = Student.class;</span><br><span class="line">        <span class="comment">// 获得所有的成员变量对应的Field对象</span></span><br><span class="line">        <span class="comment">// Field[] fields = c.getFields();</span></span><br><span class="line">        <span class="comment">// 获得所有的成员变量对应的Field对象，包括private</span></span><br><span class="line">        Field[] fields = c.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field f: fields) &#123;</span><br><span class="line">            System.out.println(f);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Field getField(String name);</span></span><br><span class="line"><span class="comment">            根据成员变量名获得对应Field对象，只能获得public修饰</span></span><br><span class="line"><span class="comment">        Field getDeclaredField(String name);</span></span><br><span class="line"><span class="comment">            *  根据成员变量名获得对应Field对象，包含private修饰的</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c  = Student.class;</span><br><span class="line">        <span class="comment">// 创建对象</span></span><br><span class="line">        Object obj = c.newInstance();</span><br><span class="line">        <span class="comment">// 获得成员变量name对应的Field对象</span></span><br><span class="line">        Field f = c.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="comment">// 给成员变量name赋值</span></span><br><span class="line">        <span class="comment">// 给指定对象obj的name属性赋值为jack</span></span><br><span class="line">        f.set(obj,<span class="string">&quot;jack&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获得指定对象obj成员变量name的值</span></span><br><span class="line">        System.out.println(f.get(obj)); <span class="comment">// jack</span></span><br><span class="line">        <span class="comment">// 获得成员变量的名字</span></span><br><span class="line">        System.out.println(f.getName()); <span class="comment">// name</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 给成员变量gender赋值</span></span><br><span class="line">        <span class="comment">// 获得成员变量gender对应的Field对象</span></span><br><span class="line">        Field f1 = c.getDeclaredField(<span class="string">&quot;gender&quot;</span>);</span><br><span class="line">        <span class="comment">// 暴力反射</span></span><br><span class="line">        f1.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">// 给指定对象obj的gender属性赋值为男</span></span><br><span class="line">        f1.set(obj,<span class="string">&quot;男&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(obj);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第二章-注解"><a href="#第二章-注解" class="headerlink" title="第二章 注解"></a>第二章 注解</h1><h2 id="2-1-注解的概述"><a href="#2-1-注解的概述" class="headerlink" title="2.1 注解的概述"></a>2.1 注解的概述</h2><h3 id="2-1-1-注解的概念"><a href="#2-1-1-注解的概念" class="headerlink" title="2.1.1 注解的概念"></a>2.1.1 注解的概念</h3><ul>
<li><p>注解是JDK1.5的新特性。</p>
</li>
<li><p>注解相当一种标记，是类的组成部分，可以给类携带一些额外的信息。</p>
</li>
<li><p>标记(注解)可以加在包，类，字段，方法，方法参数以及局部变量上。</p>
</li>
<li><p>注解是给编译器或JVM看的，编译器或JVM可以根据注解来完成对应的功能。</p>
<h6 id="注解-Annotation-相当于一种标记，在程序中加入注解就等于为程序打上某种标记，以后，javac编译器、开发工具和其他程序可以通过反射来了解你的类及各种元素上有无何种-标记，看你的程序有什么标记，就去干相应的事，标记可以加在包、类，属性、方法，方法的参数以及局部变量上。"><a href="#注解-Annotation-相当于一种标记，在程序中加入注解就等于为程序打上某种标记，以后，javac编译器、开发工具和其他程序可以通过反射来了解你的类及各种元素上有无何种-标记，看你的程序有什么标记，就去干相应的事，标记可以加在包、类，属性、方法，方法的参数以及局部变量上。" class="headerlink" title="注解(Annotation)相当于一种标记，在程序中加入注解就等于为程序打上某种标记，以后，javac编译器、开发工具和其他程序可以通过反射来了解你的类及各种元素上有无何种    标记，看你的程序有什么标记，就去干相应的事，标记可以加在包、类，属性、方法，方法的参数以及局部变量上。"></a><em>注解(Annotation)相当于一种标记，在程序中加入注解就等于为程序打上某种标记，以后，javac编译器、开发工具和其他程序可以通过反射来了解你的类及各种元素上有无何种    标记，看你的程序有什么标记，就去干相应的事，标记可以加在包、类，属性、方法，方法的参数以及局部变量上。</em></h6></li>
</ul>
<h3 id="2-1-2-注解的作用"><a href="#2-1-2-注解的作用" class="headerlink" title="2.1.2 注解的作用"></a>2.1.2 注解的作用</h3><p> <strong>注解的作用就是给程序带入参数。</strong></p>
<p>以下几个常用操作中都使用到了注解：</p>
<ol>
<li><p><strong>生成帮助文档</strong>：**@author和@version**</p>
<ul>
<li><p><strong>@author</strong>：用来标识作者姓名。</p>
</li>
<li><p><strong>@version</strong>：用于标识对象的版本号，适用范围：文件、类、方法。</p>
<ul>
<li><p>使用**@author和@version<strong>注解就是告诉</strong>Javadoc工具**在生成帮助文档时把作者姓名和版本号也标记在文档中。如下图：</p>
<p><img src="img/01_%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8.png" alt="1566448263760"></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>编译检查</strong>：**@Override**</p>
<ul>
<li><p><strong>@Override</strong>：用来修饰方法声明。</p>
<ul>
<li>用来告诉<strong>编译器</strong>该方法是重写父类中的方法，如果父类不存在该方法，则编译失败。如下图</li>
</ul>
<p><img src="img/02_%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8.png" alt="1566448286356"></p>
</li>
</ul>
</li>
<li><p><strong>框架的配置(框架=代码+配置)</strong></p>
<ul>
<li>具体使用请关注框架课程的内容的学习。</li>
</ul>
</li>
</ol>
<h3 id="2-1-3-常见注解"><a href="#2-1-3-常见注解" class="headerlink" title="2.1.3 常见注解"></a>2.1.3 常见注解</h3><ol>
<li><strong>@author</strong>：用来标识作者名，eclipse开发工具默认的是系统用户名。</li>
<li><strong>@version</strong>：用于标识对象的版本号，适用范围：文件、类、方法。</li>
<li><strong>@Override</strong> ：用来修饰方法声明，告诉编译器该方法是重写父类中的方法，如果父类不存在该方法，则编译失败。</li>
</ol>
<h2 id="2-2-自定义注解"><a href="#2-2-自定义注解" class="headerlink" title="2.2 自定义注解"></a>2.2 自定义注解</h2><h3 id="2-2-1-定义格式"><a href="#2-2-1-定义格式" class="headerlink" title="2.2.1 定义格式"></a>2.2.1 定义格式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> 注解名&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">如：定义一个名为Student的注解</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Student &#123;</span><br><span class="line"></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="2-2-2-注解的属性"><a href="#2-2-2-注解的属性" class="headerlink" title="2.2.2 注解的属性"></a>2.2.2 注解的属性</h3><ol>
<li><p><strong>属性的格式</strong></p>
<ul>
<li><strong>格式1：数据类型 属性名();</strong></li>
<li><strong>格式2：数据类型 属性名() default 默认值;</strong></li>
</ul>
</li>
<li><p><strong>属性定义示例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 姓名</span></span><br><span class="line"><span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">// 年龄</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">age</span><span class="params">()</span> <span class="keyword">default</span> 18</span>;</span><br><span class="line"><span class="comment">// 爱好</span></span><br><span class="line">String[] hobby();</span><br></pre></td></tr></table></figure></li>
<li><p><strong>属性适用的数据类型</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 八种数据数据类型(<span class="keyword">int</span>，<span class="keyword">short</span>，<span class="keyword">long</span>，<span class="keyword">double</span>，<span class="keyword">byte</span>，<span class="keyword">char</span>，<span class="keyword">boolean</span>，<span class="keyword">float</span>)</span><br><span class="line">* String，Class，注解类型，枚举类</span><br><span class="line">* 以上类型的数组形式</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="2-3-使用自定义注解"><a href="#2-3-使用自定义注解" class="headerlink" title="2.3 使用自定义注解"></a>2.3 使用自定义注解</h2><h3 id="2-3-1-定义和注解"><a href="#2-3-1-定义和注解" class="headerlink" title="2.3.1 定义和注解"></a>2.3.1 定义和注解</h3><ol>
<li><strong>定义一个注解：Book</strong><ul>
<li>包含属性：String value()   书名</li>
<li>包含属性：double price()  价格，默认值为 100</li>
<li>包含属性：String[] authors() 多位作者    </li>
</ul>
</li>
<li>代码实现</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD,ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Book &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">price</span><span class="params">()</span> <span class="keyword">default</span> 100</span>;</span><br><span class="line">    String[] authros();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-2-使用注解"><a href="#2-3-2-使用注解" class="headerlink" title="2.3.2 使用注解"></a>2.3.2 使用注解</h3><ol>
<li><strong>定义类在成员方法上使用Book注解</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationDemo01</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Book(value = &quot;JavaEE开发详解&quot;,authros = &#123;&quot;黑马程序员&quot;,&quot;传智学院&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用注意事项<ul>
<li>如果属性有默认值，则使用注解的时候，这个属性可以不用赋值。</li>
<li>如果属性没有默认值，那么在使用注解时一定要给属性赋值。 </li>
</ul>
</li>
</ol>
<h3 id="2-3-3-特殊属性value"><a href="#2-3-3-特殊属性value" class="headerlink" title="2.3.3 特殊属性value"></a>2.3.3 特殊属性value</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    特殊属性value</span></span><br><span class="line"><span class="comment">        * 如果注解中只有一个属性且名字叫value，则在使用该注解时可以直接给该属性赋值，而不需要给出属性名。</span></span><br><span class="line"><span class="comment">        * 如果注解中除了value属性之外还有其他属性且只要有一个属性没有默认值，则在给属性赋值时</span></span><br><span class="line"><span class="comment">            value属性名也不能省略了。</span></span><br><span class="line"><span class="comment">    小结：如果注解中只有一个属性时，一般都会将该属性名命名为value</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@interface</span> TestA&#123;</span><br><span class="line">   String[] value();</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">age</span><span class="params">()</span> <span class="keyword">default</span> 100</span>;</span><br><span class="line">   <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@interface</span> TestB&#123;</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestB(name = &quot;zzz&quot;)</span></span><br><span class="line"><span class="meta">@TestA(name = &quot;yyy&quot;,value = &#123;&quot;xxx&quot;,&quot;xxx&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationDemo02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-4-注解之元注解"><a href="#2-4-注解之元注解" class="headerlink" title="2.4 注解之元注解"></a>2.4 注解之元注解</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">元注解概述</span><br><span class="line">    * Java官方提供的注解</span><br><span class="line">    * 用来定义注解的注解</span><br><span class="line">    * 任何官方提供的非元注解的定义都使用到了元注解。</span><br><span class="line"></span><br><span class="line">常用的元注解</span><br><span class="line">    * <span class="meta">@Target</span></span><br><span class="line">        * 作用：用来标识注解使用的位置，如果没有使用该注解标识，则自定义的注解可以使用在任意位置。</span><br><span class="line">        * 可使用的值定义在ElementType枚举类中，常用值如下</span><br><span class="line">            TYPE，类，接口</span><br><span class="line">            FIELD, 成员变量</span><br><span class="line">            METHOD, 成员方法</span><br><span class="line">            PARAMETER, 方法参数</span><br><span class="line">            CONSTRUCTOR, 构造方法</span><br><span class="line">            LOCAL_VARIABLE, 局部变量</span><br><span class="line"></span><br><span class="line">    * <span class="meta">@Retention</span></span><br><span class="line">        * 作用：用来标识注解的生命周期(有效范围)</span><br><span class="line">        * 可使用的值定义在RetentionPolicy枚举类中，常用值如下</span><br><span class="line">            * SOURCE：注解只作用在源码阶段，生成的字节码文件中不存在</span><br><span class="line">            * CLASS：注解作用在源码阶段，字节码文件阶段，运行阶段不存在，默认值</span><br><span class="line">            * RUNTIME：注解作用在源码阶段，字节码文件阶段，运行阶段</span><br></pre></td></tr></table></figure>



<h2 id="2-5-注解解析"><a href="#2-5-注解解析" class="headerlink" title="2.5 注解解析"></a>2.5 注解解析</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">什么是注解解析</span><br><span class="line">      * 使用Java技术获得注解上数据的过程则称为注解解析。</span><br><span class="line">  与注解解析相关的接口</span><br><span class="line">      * Annotation: 注解类，该类是所有注解的父类。</span><br><span class="line">      * AnnotatedElement:该接口定义了与注解解析相关的方法</span><br><span class="line">           <span class="function">T <span class="title">getAnnotation</span><span class="params">(Class&lt;T&gt; annotationClass)</span> 根据注解类型获得对应注解对象</span></span><br><span class="line"><span class="function">           Annotation[]	<span class="title">getAnnotations</span><span class="params">()</span></span></span><br><span class="line"><span class="function">              * 获得当前对象上使用的所有注解，返回注解数组，包含父类继承的</span></span><br><span class="line"><span class="function">           Annotation[]	<span class="title">getDeclaredAnnotations</span><span class="params">()</span></span></span><br><span class="line"><span class="function">              * 获得当前对象上使用的所有注解，返回注解数组,只包含本类的</span></span><br><span class="line"><span class="function">           <span class="keyword">boolean</span>	<span class="title">isAnnotationPresent</span><span class="params">(Class&lt;Annotation&gt; annotationClass)</span></span></span><br><span class="line"><span class="function">              * 判断当前对象是否使用了指定的注解，如果使用了则返回<span class="keyword">true</span>，否则<span class="keyword">false</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">      获取注解数据的原理</span></span><br><span class="line"><span class="function">          * 注解作用在哪个成员上就会得该成员对应的对象来获得注解</span></span><br><span class="line"><span class="function">              * 比如注解作用成员方法，则要获得该成员方法对应的Method对象</span></span><br><span class="line"><span class="function">              * 比如注解作用在类上，则要该类的Class对象</span></span><br><span class="line"><span class="function">              * 比如注解作用在成员变量上，则要获得该成员变量对应的Field对象。</span></span><br><span class="line"><span class="function">          * Field,Method,Constructor，Class等类都是实现了AnnotatedElement接口</span></span><br></pre></td></tr></table></figure>

<h4 id="2-5-1-需求说明"><a href="#2-5-1-需求说明" class="headerlink" title="2.5.1 需求说明"></a>2.5.1 需求说明</h4><ol>
<li>定义注解Book，要求如下：<ul>
<li>包含属性：String value()   书名</li>
<li>包含属性：double price()  价格，默认值为 100</li>
<li>包含属性：String[] authors() 多位作者  </li>
<li>限制注解使用的位置：类和成员方法上</li>
<li>指定注解的有效范围：RUNTIME</li>
</ul>
</li>
<li>定义BookStore类，在类和成员方法上使用Book注解</li>
<li>定义TestAnnotation测试类获取Book注解上的数据</li>
</ol>
<h4 id="2-5-2-代码实现"><a href="#2-5-2-代码实现" class="headerlink" title="2.5.2 代码实现"></a>2.5.2 代码实现</h4><ol>
<li><strong>注解Book</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD,ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Book &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">price</span><span class="params">()</span> <span class="keyword">default</span> 100</span>;</span><br><span class="line">    String[] authros();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>BookShelf类</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Book(value = &quot;红楼梦&quot;,authros = &#123;&quot;曹雪芹&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookShelf</span>  </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Book(value = &quot;西游记&quot;,authros = &#123;&quot;吴承恩&quot;,&quot;白求恩&quot;&#125;,price = 200)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showBook</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><strong>TestAnnotation类</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    什么是注解解析</span></span><br><span class="line"><span class="comment">        * 使用Java技术获得注解上数据的过程则称为注解解析。</span></span><br><span class="line"><span class="comment">    与注解解析相关的接口</span></span><br><span class="line"><span class="comment">        * Annotation: 注解类，该类是所有注解的父类。</span></span><br><span class="line"><span class="comment">        * AnnotatedElement:该接口定义了与注解解析相关的方法</span></span><br><span class="line"><span class="comment">             T getAnnotation(Class&lt;T&gt; annotationClass) 根据注解类型获得对应注解对象</span></span><br><span class="line"><span class="comment">             Annotation[]	getAnnotations()</span></span><br><span class="line"><span class="comment">                * 获得当前对象上使用的所有注解，返回注解数组，包含父类继承的</span></span><br><span class="line"><span class="comment">             Annotation[]	getDeclaredAnnotations()</span></span><br><span class="line"><span class="comment">                * 获得当前对象上使用的所有注解，返回注解数组,只包含本类的</span></span><br><span class="line"><span class="comment">             boolean	isAnnotationPresent(Class&lt;Annotation&gt; annotationClass)</span></span><br><span class="line"><span class="comment">                * 判断当前对象是否使用了指定的注解，如果使用了则返回true，否则false</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        获取注解数据的原理</span></span><br><span class="line"><span class="comment">            * 注解作用在哪个成员上就会得该成员对应的对象来获得注解</span></span><br><span class="line"><span class="comment">                * 比如注解作用成员方法，则要获得该成员方法对应的Method对象</span></span><br><span class="line"><span class="comment">                * 比如注解作用在类上，则要该类的Class对象</span></span><br><span class="line"><span class="comment">                * 比如注解作用在成员变量上，则要获得该成员变量对应的Field对象。</span></span><br><span class="line"><span class="comment">            * Field,Method,Constructor，Class等类都是实现了AnnotatedElement接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationDemo04</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        获得类上使用的注解数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = BookShelf.class;</span><br><span class="line">        <span class="comment">// 判断类上是否使用Book注解</span></span><br><span class="line">        <span class="keyword">if</span>(c.isAnnotationPresent(Book.class))&#123;</span><br><span class="line">            <span class="comment">// 根据注解的Class对象获得对应的注解对象</span></span><br><span class="line">            Book annotation = (Book) c.getAnnotation(Book.class);</span><br><span class="line">            <span class="comment">// 获得书名</span></span><br><span class="line">            System.out.println(annotation.value());</span><br><span class="line">            <span class="comment">// 获得作者</span></span><br><span class="line">            System.out.println(Arrays.toString(annotation.authros()));</span><br><span class="line">            <span class="comment">// 获得价格</span></span><br><span class="line">            System.out.println(annotation.price());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 获得当前对象上使用的所有注解，返回注解数组</span></span><br><span class="line">        <span class="comment">// Annotation[] annotations = c.getAnnotations();</span></span><br><span class="line">        Annotation[] annotations = c.getDeclaredAnnotations();</span><br><span class="line">        System.out.println(Arrays.toString(annotations));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">       获得成员方法上注解的数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = BookShelf.class;</span><br><span class="line">        <span class="comment">// 获得成员方法对应的Method对象</span></span><br><span class="line">        Method m = c.getMethod(<span class="string">&quot;showBook&quot;</span>);</span><br><span class="line">        <span class="comment">// 根据注解的Class对象获得对应的注解对象</span></span><br><span class="line">        Book annotation = m.getAnnotation(Book.class);</span><br><span class="line">        <span class="comment">// 获得书名</span></span><br><span class="line">        System.out.println(annotation.value());</span><br><span class="line">        <span class="comment">// 获得作者</span></span><br><span class="line">        System.out.println(Arrays.toString(annotation.authros()));</span><br><span class="line">        <span class="comment">// 获得价格</span></span><br><span class="line">        System.out.println(annotation.price());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-6-注解案例"><a href="#2-6-注解案例" class="headerlink" title="2.6 注解案例"></a>2.6 注解案例</h2><h3 id="2-6-1-案例说明"><a href="#2-6-1-案例说明" class="headerlink" title="2.6.1 案例说明"></a>2.6.1 案例说明</h3><ul>
<li>模拟Junit测试的@Test</li>
</ul>
<h3 id="2-6-2-案例分析"><a href="#2-6-2-案例分析" class="headerlink" title="2.6.2 案例分析"></a>2.6.2 案例分析</h3><ol>
<li>模拟Junit测试的注释@Test，首先需要编写自定义注解@MyTest，并添加元注解，保证自定义注解只能修饰方法，且在运行时可以获得。</li>
<li>然后编写目标类（测试类），然后给目标方法（测试方法）使用 @MyTest注解，编写三个方法，其中两个加上@MyTest注解。</li>
<li>最后编写调用类，使用main方法调用目标类，模拟Junit的运行，只要有@MyTest注释的方法都会运行。</li>
</ol>
<h3 id="2-6-3-案例代码"><a href="#2-6-3-案例代码" class="headerlink" title="2.6.3 案例代码"></a>2.6.3 案例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestMyTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MyTest</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">tests01</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test01&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">tests02</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test02&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MyTest</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">tests03</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test03&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> pkxing</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Package</span> com.itheima</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationDemo05</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 获得Class对象</span></span><br><span class="line">        Class c = TestMyTest.class;</span><br><span class="line">        Object obj = c.newInstance();</span><br><span class="line">        <span class="comment">// 获得所有成员方法</span></span><br><span class="line">        Method[] methods = c.getMethods();</span><br><span class="line">        <span class="keyword">for</span>(Method m:methods)&#123;</span><br><span class="line">            <span class="comment">// 判断m方法是否使用了MyTest注解</span></span><br><span class="line">            <span class="keyword">if</span>(m.isAnnotationPresent(MyTest.class))&#123;</span><br><span class="line">                <span class="comment">// 调用方法</span></span><br><span class="line">                m.invoke(obj);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eniac286.github.io/2021/04/14/day19Junit&NIO/day19%E3%80%90JUnit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E3%80%81NIO%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dara Yoon">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eniac286">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/14/day19Junit&NIO/day19%E3%80%90JUnit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E3%80%81NIO%E3%80%91/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-14 23:49:53" itemprop="dateCreated datePublished" datetime="2021-04-14T23:49:53+08:00">2021-04-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="day19【Junit单元测试、NIO】"><a href="#day19【Junit单元测试、NIO】" class="headerlink" title="day19【Junit单元测试、NIO】"></a>day19【Junit单元测试、NIO】</h1><h2 id="今日内容"><a href="#今日内容" class="headerlink" title="今日内容"></a>今日内容</h2><ul>
<li>Junit单元测试</li>
<li>NIO</li>
</ul>
<h2 id="教学目标"><a href="#教学目标" class="headerlink" title="教学目标"></a>教学目标</h2><ul>
<li><input disabled="" type="checkbox"> 能够使用Junit进行单元测试</li>
<li><input disabled="" type="checkbox"> 能够说出同步和异步的概念</li>
<li><input disabled="" type="checkbox"> 能够说出阻塞和非阻塞的概念</li>
<li><input disabled="" type="checkbox"> 能够创建和使用ByteBuffer</li>
<li><input disabled="" type="checkbox"> 能够使用MappedByteBuffer实现高效读写</li>
<li><input disabled="" type="checkbox"> 能够使用ServerSocketChannel和SocketChannel实现连接并收发信息</li>
</ul>
<h1 id="第一章-Junit单元测试"><a href="#第一章-Junit单元测试" class="headerlink" title="第一章 Junit单元测试"></a>第一章 Junit单元测试</h1><h2 id="1-1-什么是Junit"><a href="#1-1-什么是Junit" class="headerlink" title="1.1 什么是Junit"></a>1.1 什么是Junit</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Junit是什么</span><br><span class="line">    *  Junit是Java语言编写的第三方单元测试框架(工具类)</span><br><span class="line">    *  类库 ==&gt; 类  junit.jar</span><br><span class="line"></span><br><span class="line">单元测试概念</span><br><span class="line">    * 单元：在Java中，一个类、一个方法就是一个单元</span><br><span class="line">    * 单元测试：程序员编写的一小段代码，用来对某个类中的某个方法进行功能测试或业务逻辑测试。</span><br><span class="line"></span><br><span class="line">Junit单元测试框架的作用</span><br><span class="line">    * 用来对类中的方法功能进行有目的的测试，以保证程序的正确性和稳定性。</span><br><span class="line">    * 能够让方法独立运行起来。</span><br><span class="line"></span><br><span class="line">Junit单元测试框架的使用步骤</span><br><span class="line">    * 编写业务类，在业务类中编写业务方法。比如增删改查的方法</span><br><span class="line">    * 编写测试类，在测试类中编写测试方法，在测试方法中编写测试代码来测试。</span><br><span class="line">        * 测试类的命名规范：以Test开头，以业务类类名结尾，使用驼峰命名法</span><br><span class="line">            * 每一个单词首字母大写，称为大驼峰命名法，比如类名，接口名...</span><br><span class="line">            * 从第二单词开始首字母大写，称为小驼峰命名法，比如方法命名</span><br><span class="line">            * 比如业务类类名：ProductDao，那么测试类类名就应该叫：TestProductDao</span><br><span class="line">        * 测试方法的命名规则：以test开头，以业务方法名结尾</span><br><span class="line">            * 比如业务方法名为：save，那么测试方法名就应该叫：testSave</span><br><span class="line"></span><br><span class="line">测试方法注意事项</span><br><span class="line">    * 必须是<span class="keyword">public</span>修饰的，没有返回值，没有参数</span><br><span class="line">    * 必须使用JUnit的注解<span class="meta">@Test</span>修饰</span><br><span class="line"></span><br><span class="line">如何运行测试方法</span><br><span class="line">    * 选中方法名 --&gt; 右键 --&gt; Run <span class="string">&#x27;测试方法名&#x27;</span>  运行选中的测试方法</span><br><span class="line">    * 选中测试类类名 --&gt; 右键 --&gt; Run <span class="string">&#x27;测试类类名&#x27;</span>  运行测试类中所有测试方法</span><br><span class="line">    * 选中模块名 --&gt; 右键 --&gt; Run <span class="string">&#x27;All Tests&#x27;</span>  运行模块中的所有测试类的所有测试方法</span><br><span class="line"></span><br><span class="line">如何查看测试结果</span><br><span class="line">    * 绿色：表示测试通过</span><br><span class="line">    * 红色：表示测试失败，有问题</span><br></pre></td></tr></table></figure>



<h2 id="1-2-Junit常用注解-Junit4-x版本"><a href="#1-2-Junit常用注解-Junit4-x版本" class="headerlink" title="1.2 Junit常用注解(Junit4.x版本)"></a>1.2 Junit常用注解(Junit4.x版本)</h2><pre><code>* @Before：用来修饰方法，该方法会在每一个测试方法执行之前执行一次。
* @After：用来修饰方法，该方法会在每一个测试方法执行之后执行一次。
* @BeforeClass：用来静态修饰方法，该方法会在所有测试方法之前执行一次，而且只执行一次。
* @AfterClass：用来静态修饰方法，该方法会在所有测试方法之后执行一次，而且只执行一次。
</code></pre>
<h2 id="1-3-Junit常用注解-Junit5-x版本"><a href="#1-3-Junit常用注解-Junit5-x版本" class="headerlink" title="1.3 Junit常用注解(Junit5.x版本)"></a>1.3 Junit常用注解(Junit5.x版本)</h2><pre><code> * @BeforeEach：用来修饰方法，该方法会在每一个测试方法执行之前执行一次。
 * @AfterEach：用来修饰方法，该方法会在每一个测试方法执行之后执行一次。
 * @BeforeAll：用来静态修饰方法，该方法会在所有测试方法之前执行一次。
 * @AfterAll：用来静态修饰方法，该方法会在所有测试方法之后执行一次。
</code></pre>
<ul>
<li>示例代码(JUnit4.x)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 业务类：实现加减乘除运算</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cacluate</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     业务方法1：求a和b之和</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  a + b + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     业务方法2:求a和b之差</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  a - b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCacluate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> Cacluate c = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeClass</span> <span class="comment">// 用来静态修饰方法，该方法会在所有测试方法之前执行一次。</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;初始化操作&quot;</span>);</span><br><span class="line">        <span class="comment">// 创建Cacluate对象</span></span><br><span class="line">        c = <span class="keyword">new</span> Cacluate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterClass</span> <span class="comment">// 用来静态修饰方法，该方法会在所有测试方法之后执行一次。</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;释放资源&quot;</span>);</span><br><span class="line">        c = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* @Before // 用来修饰方法，该方法会在每一个测试方法执行之前执行一次。</span></span><br><span class="line"><span class="comment">    public void init()&#123;</span></span><br><span class="line"><span class="comment">        System.out.println(&quot;初始化操作&quot;);</span></span><br><span class="line"><span class="comment">        // 创建Cacluate对象</span></span><br><span class="line"><span class="comment">        c = new Cacluate();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    @After // 用来修饰方法，该方法会在每一个测试方法执行之后执行一次。</span></span><br><span class="line"><span class="comment">    public void close()&#123;</span></span><br><span class="line"><span class="comment">        System.out.println(&quot;释放资源&quot;);</span></span><br><span class="line"><span class="comment">        c = null;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSum</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = c.sum(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            断言：预习判断某个条件一定成立，如果条件不成立，则直接奔溃。</span></span><br><span class="line"><span class="comment">            assertEquals方法的参数</span></span><br><span class="line"><span class="comment">            (String message, double expected, double actual)</span></span><br><span class="line"><span class="comment">            message： 消息字符串</span></span><br><span class="line"><span class="comment">            expected: 期望值</span></span><br><span class="line"><span class="comment">            actual: 实际值</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// 如果期望值和实际值一致，则什么也不发生，否则会直接奔溃。</span></span><br><span class="line">        Assert.assertEquals(<span class="string">&quot;期望值和实际值不一致&quot;</span>,<span class="number">12</span>,result);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSub</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// 创建Cacluate对象</span></span><br><span class="line">        <span class="comment">// Cacluate c = new Cacluate();</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> result = c.sub(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 如果期望值和实际值一致，则什么也不发生，否则会直接奔溃。</span></span><br><span class="line">        Assert.assertEquals(<span class="string">&quot;期望值和实际值不一致&quot;</span>,<span class="number">0</span>,result);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="第二章-NIO"><a href="#第二章-NIO" class="headerlink" title="第二章 NIO"></a>第二章 NIO</h1><h2 id="2-1-NIO概述"><a href="#2-1-NIO概述" class="headerlink" title="2.1 NIO概述"></a>2.1 NIO概述</h2><h3 id="1-1-1-NIO引入"><a href="#1-1-1-NIO引入" class="headerlink" title="1.1.1  NIO引入"></a>1.1.1  NIO引入</h3><p>在我们学习Java的NIO流之前，我们都要了解几个关键词</p>
<ul>
<li>同步与异步（synchronous/asynchronous）：<strong>同步</strong>是一种可靠的有序运行机制，当我们进行同步操作时，后续的任务是等待当前调用返回，才会进行下一步；而<strong>异步</strong>则相反，其他任务不需要等待当前调用返回，通常依靠事件、回调等机制来实现任务间次序关系</li>
<li>阻塞与非阻塞：在进行<strong>阻塞</strong>操作时，当前线程会处于阻塞状态，无法从事其他任务，只有当条件就绪才能继续，比如ServerSocket新连接建立完毕，或者数据读取、写入操作完成；而<strong>非阻塞</strong>则是不管IO操作是否结束，直接返回，相应操作在后台继续处理</li>
</ul>
<p>在Java1.4之前的I/O系统中，提供的都是面向流的I/O系统，系统一次一个字节地处理数据，一个输入流产生一个字节的数据，一个输出流消费一个字节的数据，面向流的I/O速度非常慢，而在Java 1.4中推出了NIO，这是一个面向块的I/O系统，系统以块的方式处理数据，每一个操作在一步中产生或者消费一个数据，按块处理要比按字节处理数据快的多。</p>
<p>在 Java 7 中，NIO 有了进一步的改进，也就是 NIO 2，引入了异步非阻塞 IO 方式，也有很多人叫它 AIO（Asynchronous IO）。异步 IO 操作基于事件和回调机制，可以简单理解为，应用操作直接返回，而不会阻塞在那里，当后台处理完成，操作系统会通知相应线程进行后续工作。</p>
<p><strong>NIO之所以是同步，是因为它的accept/read/write方法的内核I/O操作都会阻塞当前线程</strong></p>
<p>首先，我们要先了解一下NIO的三个主要组成部分：Buffer（缓冲区）、Channel（通道）、Selector（选择器）</p>
<h1 id="第三章-Buffer类（缓冲区）"><a href="#第三章-Buffer类（缓冲区）" class="headerlink" title="第三章 Buffer类（缓冲区）"></a>第三章 Buffer类（缓冲区）</h1><h2 id="3-1-Buffer概述"><a href="#3-1-Buffer概述" class="headerlink" title="3.1 Buffer概述"></a>3.1 Buffer概述</h2><p>​        Buffer是一个对象，它对某种基本类型的数组进行了封装。NIO开始使用的Channel(通道)就是通过 Buffer 来读写数据的。</p>
<p>​        在NIO中，所有的数据都是用Buffer处理的，它是NIO读写数据的中转池。Buffer实质上是一个数组，通常是一个字节数据，但也可以是其他类型的数组。但一个缓冲区不仅仅是一个数组，重要的是它提供了对数据的结构化访问，而且还可以跟踪系统的读写进程。</p>
<p>使用 Buffer 读写数据一般遵循以下四个步骤：</p>
<p>1.写入数据到 Buffer；</p>
<p>2.调用 flip() 方法；</p>
<p>3.从 Buffer 中读取数据；</p>
<p>4.调用 clear() 方法或者 compact() 方法。</p>
<p>当向 Buffer 写入数据时，Buffer 会记录下写了多少数据。一旦要读取数据，需要通过 flip() 方法将 Buffer 从写模式切换到读模式。在读模式下，可以读取之前写入到 Buffer 的所有数据。</p>
<p>一旦读完了所有的数据，就需要清空缓冲区，让它可以再次被写入。有两种方式能清空缓冲区：调用 clear() 或 compact() 方法。clear() 方法会清空整个缓冲区。compact() 方法只会清除已经读过的数据。任何未读的数据都被移到缓冲区的起始处，新写入的数据将放到缓冲区未读数据的后面。</p>
<p>Buffer主要有如下几种：</p>
<ul>
<li>ByteBuffer</li>
<li>CharBuffer</li>
<li>DoubleBuffer</li>
<li>FloatBuffer</li>
<li>IntBuffer</li>
<li>LongBuffer</li>
<li>ShortBuffer</li>
</ul>
<h2 id="3-2-创建ByteBuffer"><a href="#3-2-创建ByteBuffer" class="headerlink" title="3.2 创建ByteBuffer"></a>3.2 创建ByteBuffer</h2><ul>
<li><p>ByteBuffer类内部封装了一个byte[]数组，并可以通过一些方法对这个数组进行操作。</p>
</li>
<li><p>创建ByteBuffer对象</p>
<ul>
<li><p>方式一：在堆中创建缓冲区：allocate(int capacity)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    	<span class="comment">//创建堆缓冲区</span></span><br><span class="line">        ByteBuffer byteBuffer = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day13-NIO%E3%80%81AIO/img/17.png"></p>
</li>
<li><p>在系统内存创建缓冲区：allocatDirect(int capacity)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    	<span class="comment">//创建直接缓冲区</span></span><br><span class="line">        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在堆中创建缓冲区称为：间接缓冲区</li>
<li>在系统内存创建缓冲区称为：直接缓冲区</li>
</ul>
</li>
<li><p>间接缓冲区的创建和销毁效率要高于直接缓冲区</p>
<ul>
<li>间接缓冲区的工作效率要低于直接缓冲区</li>
</ul>
</li>
<li><p>方式三：通过数组创建缓冲区：wrap(byte[] arr)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">byte</span>[] byteArray = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">10</span>];</span><br><span class="line">       ByteBuffer byteBuffer = ByteBuffer.wrap(byteArray);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>此种方式创建的缓冲区为：间接缓冲区</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-3-向ByteBuffer添加数据"><a href="#3-3-向ByteBuffer添加数据" class="headerlink" title="3.3 向ByteBuffer添加数据"></a>3.3 向ByteBuffer添加数据</h2><ul>
<li><p>public ByteBuffer put(byte b)：向当前可用位置添加数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ByteBuffer buf = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">10</span>);</span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(Arrays.toString(buf.array()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day13-NIO%E3%80%81AIO/img/18.png"></p>
</li>
<li><p>public ByteBuffer put(byte[] byteArray)：向当前可用位置添加一个byte[]数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ByteBuffer buf = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">10</span>);</span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">byte</span>[] byteArray = &#123;<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line">    buf.put(byteArray);<span class="comment">//添加整个数组</span></span><br><span class="line"></span><br><span class="line">    System.out.println(Arrays.toString(buf.array()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day13-NIO%E3%80%81AIO/img/19.png"></p>
</li>
<li><p>public ByteBuffer put(byte[] byteArray,int offset,int len)：添加一个byte[]数组的一部分</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ByteBuffer buf = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">10</span>);</span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">byte</span>[] byteArray = &#123;<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line">    buf.put(byteArray,<span class="number">0</span>,<span class="number">2</span>);<span class="comment">//只添加byteArray的前两个元素</span></span><br><span class="line"></span><br><span class="line">    System.out.println(Arrays.toString(buf.array()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
<p>​    </p>
<h2 id="3-4-容量-capacity"><a href="#3-4-容量-capacity" class="headerlink" title="3.4 容量-capacity"></a>3.4 容量-capacity</h2><ul>
<li><p>Buffer的容量(capacity)是指：Buffer所能够包含的元素的最大数量。定义了Buffer后，容量是不可变的。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ByteBuffer b1 = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;容量：&quot;</span> + b1.capacity());<span class="comment">//10。之后不可改变</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">byte</span>[] byteArray = &#123;<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>, <span class="number">100</span>&#125;;</span><br><span class="line">    ByteBuffer b2 = ByteBuffer.wrap(byteArray);</span><br><span class="line">    System.out.println(<span class="string">&quot;容量：&quot;</span> + b2.capacity());<span class="comment">//4。之后不可改变</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">容量：<span class="number">10</span></span><br><span class="line">容量：<span class="number">4</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-5-限制-limit"><a href="#3-5-限制-limit" class="headerlink" title="3.5 限制-limit"></a>3.5 限制-limit</h2><ul>
<li><p>限制limit是指：第一个不应该读取或写入元素的index索引。缓冲区的限制(limit)不能为负，并且不能大于容量。</p>
</li>
<li><p>有两个相关方法：</p>
<ul>
<li>public int limit()：获取此缓冲区的限制。</li>
<li>public Buffer limit(int newLimit)：设置此缓冲区的限制。</li>
</ul>
</li>
<li><p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ByteBuffer buf = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;初始容量：&quot;</span> + buf.capacity() +</span><br><span class="line">                       			<span class="string">&quot; 初始限制：&quot;</span> + buf.limit());<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line">    buf.limit(<span class="number">3</span>);<span class="comment">//设置限制为：索引3</span></span><br><span class="line">    </span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">10</span>);<span class="comment">//索引：0</span></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">20</span>);<span class="comment">//索引：1</span></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">30</span>);<span class="comment">//索引：2</span></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">40</span>);<span class="comment">//抛出异常</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>图示：</p>
<p><img src="C:/%E8%B5%84%E6%96%99/day01-day16%E8%AE%B2%E4%B9%89-V2.0-MD/day13-NIO%E3%80%81AIO/img/10.png"></p>
</li>
</ul>
<h2 id="3-6-位置-position"><a href="#3-6-位置-position" class="headerlink" title="3.6 位置-position"></a>3.6 位置-position</h2><ul>
<li><p>位置position是指：当前可写入的索引。位置不能小于0，并且不能大于”限制”。</p>
</li>
<li><p>有两个相关方法：</p>
<ul>
<li>public int position()：获取当前可写入位置索引。</li>
<li>public Buffer position(int p)：更改当前可写入位置索引。</li>
</ul>
</li>
<li><p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ByteBuffer buf = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;初始容量：&quot;</span> + buf.capacity() +</span><br><span class="line">                       <span class="string">&quot; 初始限制：&quot;</span> + buf.limit() +</span><br><span class="line">                       <span class="string">&quot; 当前位置：&quot;</span> + buf.position());<span class="comment">//0</span></span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">10</span>);<span class="comment">//position = 1</span></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">20</span>);<span class="comment">//position = 2</span></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">30</span>);<span class="comment">//position = 3</span></span><br><span class="line">    System.out.println(<span class="string">&quot;当前容量：&quot;</span> + buf.capacity() +</span><br><span class="line">                       <span class="string">&quot; 初始限制：&quot;</span> + buf.limit() +</span><br><span class="line">                       <span class="string">&quot; 当前位置：&quot;</span> + buf.position());<span class="comment">//3</span></span><br><span class="line">    </span><br><span class="line">    buf.position(<span class="number">1</span>);<span class="comment">//当position改为：1</span></span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">2</span>);<span class="comment">//添加到索引：1</span></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">3</span>);<span class="comment">//添加到索引：2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    System.out.println(Arrays.toString(buf.array()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">初始容量：<span class="number">10</span> 初始限制：<span class="number">10</span> 当前位置：<span class="number">0</span></span><br><span class="line">初始容量：<span class="number">10</span> 初始限制：<span class="number">10</span> 当前位置：<span class="number">3</span></span><br><span class="line">[<span class="number">10</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-7-标记-mark"><a href="#3-7-标记-mark" class="headerlink" title="3.7 标记-mark"></a>3.7 标记-mark</h2><ul>
<li><p>标记mark是指：当调用缓冲区的reset()方法时，会将缓冲区的position位置重置为该索引。不能为0，不能大于position。</p>
</li>
<li><p>相关方法：</p>
<ul>
<li>public Buffer mark()：设置此缓冲区的标记为当前的position位置。</li>
</ul>
</li>
<li><p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ByteBuffer buf = ByteBuffer.allocate(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;初始容量：&quot;</span> + buf.capacity() +</span><br><span class="line">                       <span class="string">&quot; 初始限制：&quot;</span> + buf.limit() +</span><br><span class="line">                       <span class="string">&quot; 当前位置：&quot;</span> + buf.position());<span class="comment">//初始标记不确定</span></span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">10</span>);</span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">20</span>);</span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">30</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;当前容量：&quot;</span> + buf.capacity() +</span><br><span class="line">                       <span class="string">&quot; 当前限制：&quot;</span> + buf.limit() +</span><br><span class="line">                       <span class="string">&quot; 当前位置：&quot;</span> + buf.position());</span><br><span class="line">    buf.position(<span class="number">1</span>);<span class="comment">//当position改为：1</span></span><br><span class="line">    buf.mark();<span class="comment">//设置索引1位标记点</span></span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">2</span>);<span class="comment">//添加到索引：1</span></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">3</span>);<span class="comment">//添加到索引：2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//当前position为：3</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//将position设置到之前的标记位：1</span></span><br><span class="line">    buf.reset();</span><br><span class="line">    System.out.println(<span class="string">&quot;reset后的当前位置：&quot;</span> + buf.position());</span><br><span class="line"></span><br><span class="line">    buf.put((<span class="keyword">byte</span>) <span class="number">20</span>);<span class="comment">//添加到索引：1</span></span><br><span class="line"></span><br><span class="line">    System.out.println(Arrays.toString(buf.array()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">初始容量：<span class="number">10</span> 初始限制：<span class="number">10</span> 当前位置：<span class="number">0</span></span><br><span class="line">当前容量：<span class="number">10</span> 当前限制：<span class="number">10</span> 当前位置：<span class="number">3</span></span><br><span class="line">reset后的当前位置：<span class="number">1</span></span><br><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-8-其它方法"><a href="#3-8-其它方法" class="headerlink" title="3.8 其它方法"></a>3.8 其它方法</h2><ul>
<li>public int remaining()：获取position与limit之间的元素数。</li>
<li>public boolean isReadOnly()：获取当前缓冲区是否只读。</li>
<li>public boolean isDirect()：获取当前缓冲区是否为直接缓冲区。</li>
<li>public Buffer clear()：还原缓冲区的状态。<ul>
<li>将position设置为：0</li>
<li>将限制limit设置为容量capacity；</li>
<li>丢弃标记mark。</li>
</ul>
</li>
<li>public Buffer flip()：缩小limit的范围。<ul>
<li>将limit设置为当前position位置；</li>
<li>将当前position位置设置为0；</li>
<li>丢弃标记。</li>
</ul>
</li>
<li>public Buffer rewind()：重绕此缓冲区。<ul>
<li>将position位置设置为：0</li>
<li>限制limit不变。</li>
<li>丢弃标记。</li>
</ul>
</li>
</ul>
<h1 id="第四章-Channel（通道）"><a href="#第四章-Channel（通道）" class="headerlink" title="第四章 Channel（通道）"></a>第四章 Channel（通道）</h1><h2 id="4-1-Channel概述"><a href="#4-1-Channel概述" class="headerlink" title="4.1 Channel概述"></a>4.1 Channel概述</h2><p>Channel（通道）：Channel是一个对象，可以通过它读取和写入数据。可以把它看做是IO中的流，不同的是：</p>
<ul>
<li><p>为所有的原始类型提供（Buffer）缓存支持；</p>
</li>
<li><p>字符集编码解决方案（Charset）；</p>
</li>
<li><p>Channel : 一个新的原始I/O抽象；</p>
</li>
<li><p>支持锁和内存映射文件的文件访问接口；</p>
</li>
<li><p>提供多路（non-bloking）非阻塞式的高伸缩性网路I/O。</p>
</li>
</ul>
<p>正如上面提到的，所有数据都通过Buffer对象处理，所以，您永远不会将字节直接写入到Channel中，相反，您是将数据写入到Buffer中；同样，您也不会从Channel中读取字节，而是将数据从Channel读入Buffer，再从Buffer获取这个字节。</p>
<p>因为Channel是双向的，所以Channel可以比流更好地反映出底层操作系统的真实情况。特别是在Unix模型中，底层操作系统通常都是双向的。</p>
<p>在Java NIO中的Channel主要有如下几种类型：</p>
<ul>
<li>FileChannel：从文件读取数据的</li>
<li>DatagramChannel：读写UDP网络协议数据</li>
<li>SocketChannel：读写TCP网络协议数据</li>
<li>ServerSocketChannel：可以监听TCP连接</li>
</ul>
<h2 id="4-2-FileChannel类的基本使用"><a href="#4-2-FileChannel类的基本使用" class="headerlink" title="4.2 FileChannel类的基本使用"></a>4.2 FileChannel类的基本使用</h2><ul>
<li><p>java.nio.channels.FileChannel (抽象类)：用于读、写文件的通道。</p>
</li>
<li><p>FileChannel是抽象类，我们可以通过FileInputStream和FileOutputStream的getChannel()方法方便的获取一个它的子类对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fi=<span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(src));</span><br><span class="line">FileOutputStream fo=<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(dst));</span><br><span class="line"><span class="comment">//获得传输通道channel</span></span><br><span class="line">FileChannel inChannel=fi.getChannel();</span><br><span class="line">FileChannel outChannel=fo.getChannel();</span><br></pre></td></tr></table></figure></li>
<li><p>我们将通过CopyFile这个示例让大家体会NIO的操作过程。CopyFile执行三个基本的操作：创建一个Buffer，然后从源文件读取数据到缓冲区，然后再将缓冲区写入目标文件。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//声明源文件和目标文件</span></span><br><span class="line">        FileInputStream fi=<span class="keyword">new</span> FileInputStream(<span class="string">&quot;d:\\视频.itcast&quot;</span>);</span><br><span class="line">        FileOutputStream fo=<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;e:\\视频_copy.itcast&quot;</span>);</span><br><span class="line">        <span class="comment">//获得传输通道channel</span></span><br><span class="line">        FileChannel inChannel=fi.getChannel();</span><br><span class="line">        FileChannel outChannel=fo.getChannel();</span><br><span class="line">        <span class="comment">//获得容器buffer</span></span><br><span class="line">        ByteBuffer buffer= ByteBuffer.allocate(<span class="number">1024</span>);</span><br><span class="line">        <span class="keyword">int</span> eof = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((eof =inChannel.read(buffer)) != -<span class="number">1</span>)&#123;<span class="comment">//读取的字节将会填充buffer的position到limit位置</span></span><br><span class="line">            <span class="comment">//重设一下buffer：limit=position , position=0</span></span><br><span class="line">            buffer.flip();</span><br><span class="line">            <span class="comment">//开始写</span></span><br><span class="line">            outChannel.write(buffer);<span class="comment">//只输出position到limit之间的数据</span></span><br><span class="line">            <span class="comment">//写完要重置buffer，重设position=0，limit=capacity，用于下次读取</span></span><br><span class="line">            buffer.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        inChannel.close();</span><br><span class="line">        outChannel.close();</span><br><span class="line">        fi.close();</span><br><span class="line">        fo.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-3-FileChannel结合MappedByteBuffer实现高效读写"><a href="#4-3-FileChannel结合MappedByteBuffer实现高效读写" class="headerlink" title="4.3 FileChannel结合MappedByteBuffer实现高效读写"></a>4.3 FileChannel结合MappedByteBuffer实现高效读写</h2><ul>
<li><p>上例直接使用FileChannel结合ByteBuffer实现的管道读写，但并不能提高文件的读写效率。</p>
</li>
<li><p>ByteBuffer有个子类：MappedByteBuffer，它可以创建一个“直接缓冲区”，并可以将文件直接映射至内存，可以提高大文件的读写效率。</p>
<ul>
<li><p>ByteBuffer(抽象类)</p>
<p>​        |–MappedByteBuffer(抽象类)</p>
</li>
</ul>
</li>
<li><p>可以调用FileChannel的map()方法获取一个MappedByteBuffer，map()方法的原型：</p>
<p>​        <strong>MappedByteBuffer map(MapMode mode, long position, long size);</strong> </p>
<p>​        <em>说明：将节点中从position开始的size个字节映射到返回的MappedByteBuffer中。</em></p>
</li>
<li><p><strong>示例：复制2GB以下的文件</strong></p>
<ul>
<li>复制d:\b.rar文件，此文件大概600多兆，复制完毕用时不到2秒。此例不能复制大于2G的文件，因为map的第三个参数被限制在Integer.MAX_VALUE(字节) = 2G。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//java.io.RandomAccessFile类，可以设置读、写模式的IO流类。</span></span><br><span class="line">            <span class="comment">//&quot;r&quot;表示：只读--输入流，只读就可以。</span></span><br><span class="line">            RandomAccessFile source = <span class="keyword">new</span> RandomAccessFile(<span class="string">&quot;d:\\b.rar&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">            <span class="comment">//&quot;rw&quot;表示：读、写--输出流，需要读、写。</span></span><br><span class="line">            RandomAccessFile target = <span class="keyword">new</span> RandomAccessFile(<span class="string">&quot;e:\\b.rar&quot;</span>, <span class="string">&quot;rw&quot;</span>);</span><br><span class="line">            <span class="comment">//分别获取FileChannel通道</span></span><br><span class="line">            FileChannel in = source.getChannel();</span><br><span class="line">            FileChannel out = target.getChannel();</span><br><span class="line">            <span class="comment">//获取文件大小</span></span><br><span class="line">            <span class="keyword">long</span> size = in.size();</span><br><span class="line">            <span class="comment">//调用Channel的map方法获取MappedByteBuffer</span></span><br><span class="line">            MappedByteBuffer mbbi = in.map(FileChannel.MapMode.READ_ONLY, <span class="number">0</span>, size);</span><br><span class="line">            MappedByteBuffer mbbo = out.map(FileChannel.MapMode.READ_WRITE, <span class="number">0</span>, size);</span><br><span class="line">            <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">            System.out.println(<span class="string">&quot;开始...&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                <span class="keyword">byte</span> b = mbbi.get(i);<span class="comment">//读取一个字节</span></span><br><span class="line">                mbbo.put(i, b);<span class="comment">//将字节添加到mbbo中</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">            System.out.println(<span class="string">&quot;用时: &quot;</span> + (end - start) + <span class="string">&quot; 毫秒&quot;</span>);</span><br><span class="line">            source.close();</span><br><span class="line">            target.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>代码说明：</p>
</li>
<li><p>map()方法的第一个参数mode：映射的三种模式，在这三种模式下得到的将是三种不同的MappedByteBuffer：三种模式都是Channel的内部类MapMode中定义的静态常量，这里以FileChannel举例：<br>1). <strong>FileChannel.MapMode.READ_ONLY</strong>：得到的镜像只能读不能写（只能使用get之类的读取Buffer中的内容）；</p>
<p>2). <strong>FileChannel.MapMode.READ_WRITE</strong>：得到的镜像可读可写（既然可写了必然可读），对其写会直接更改到存储节点；</p>
<p>3). <strong>FileChannel.MapMode.PRIVATE</strong>：得到一个私有的镜像，其实就是一个(position, size)区域的副本罢了，也是可读可写，只不过写不会影响到存储节点，就是一个普通的ByteBuffer了！！</p>
</li>
<li><p>为什么使用RandomAccessFile？</p>
<p>1). 使用InputStream获得的Channel可以映射，使用map时只能指定为READ_ONLY模式，不能指定为READ_WRITE和PRIVATE，否则会抛出运行时异常！</p>
<p>2). 使用OutputStream得到的Channel不可以映射！并且OutputStream的Channel也只能write不能read！</p>
<p>3). 只有RandomAccessFile获取的Channel才能开启任意的这三种模式！</p>
</li>
</ul>
</li>
<li><p><strong>示例：复制2GB以上文件</strong></p>
<ul>
<li>下例使用循环，将文件分块，可以高效的复制大于2G的文件：要复制的文件为：d:\测试13G.rar，此文件13G多，复制完成大概30秒左右。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sun.nio.ch.FileChannelImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.nio.ByteBuffer;</span><br><span class="line"><span class="keyword">import</span> java.nio.MappedByteBuffer;</span><br><span class="line"><span class="keyword">import</span> java.nio.channels.FileChannel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MappedFileChannelTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            RandomAccessFile source = <span class="keyword">new</span> RandomAccessFile(<span class="string">&quot;d:\\测试13G.rar&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">            RandomAccessFile target = <span class="keyword">new</span> RandomAccessFile(<span class="string">&quot;e:\\测试13G.rar&quot;</span>, <span class="string">&quot;rw&quot;</span>);</span><br><span class="line">            FileChannel in = source.getChannel();</span><br><span class="line">            FileChannel out = target.getChannel();</span><br><span class="line">            <span class="keyword">long</span> size = in.size();<span class="comment">//获取文件大小</span></span><br><span class="line">            <span class="keyword">long</span> count = <span class="number">1</span>;<span class="comment">//存储分的块数，默认初始化为：1</span></span><br><span class="line">            <span class="keyword">long</span> copySize = size;<span class="comment">//每次复制的字节数，默认初始化为：文件大小</span></span><br><span class="line">            <span class="keyword">long</span> everySize = <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">512</span>;<span class="comment">//每块的大小，初始化为：512M</span></span><br><span class="line">            <span class="keyword">if</span>(size &gt; everySize)&#123;<span class="comment">//判断文件是否大于每块的大小</span></span><br><span class="line">                <span class="comment">//判断&quot;文件大小&quot;和&quot;每块大小&quot;是否整除，来计算&quot;块数&quot;</span></span><br><span class="line">                count = (<span class="keyword">int</span>)(size % everySize != <span class="number">0</span> ? size / everySize + <span class="number">1</span> : size / everySize);</span><br><span class="line">                <span class="comment">//第一次复制的大小等于每块大小。</span></span><br><span class="line">                copySize = everySize;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            MappedByteBuffer mbbi = <span class="keyword">null</span>;<span class="comment">//输入的MappedByteBuffer</span></span><br><span class="line">            MappedByteBuffer mbbo = <span class="keyword">null</span>;<span class="comment">//输出的MappedByteBuffer</span></span><br><span class="line">            <span class="keyword">long</span> startIndex = <span class="number">0</span>;<span class="comment">//记录复制每块时的起始位置</span></span><br><span class="line">            <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">            System.out.println(<span class="string">&quot;开始...&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">                mbbi = in.map(FileChannel.MapMode.READ_ONLY,startIndex,copySize);</span><br><span class="line">                mbbo = out.map(FileChannel.MapMode.READ_WRITE, startIndex,copySize);</span><br><span class="line">         </span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; copySize; j++) &#123;</span><br><span class="line">                    <span class="keyword">byte</span> b = mbbi.get(i);</span><br><span class="line">                    mbbo.put(i, b);</span><br><span class="line">                &#125;</span><br><span class="line">                startIndex += copySize;<span class="comment">//计算下一块的起始位置</span></span><br><span class="line">                <span class="comment">//计算下一块要复制的字节数量。</span></span><br><span class="line">                copySize = in.size() - startIndex &gt; everySize ? everySize : in.size() - startIndex;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">            source.close();</span><br><span class="line">            target.close();</span><br><span class="line">            System.out.println(<span class="string">&quot;用时: &quot;</span> + (end - start) + <span class="string">&quot; 毫秒&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="4-4-ServerSocketChannel和SocketChannel创建连接"><a href="#4-4-ServerSocketChannel和SocketChannel创建连接" class="headerlink" title="4.4 ServerSocketChannel和SocketChannel创建连接"></a>4.4 ServerSocketChannel和SocketChannel创建连接</h2><ul>
<li><p><strong>服务器端：ServerSocketChannel</strong>类用于连接的服务器端，它相当于：ServerSocket。</p>
<p>1). 调用ServerSocketChannel的静态方法open()：打开一个通道，新频道的套接字最初未绑定; 必须通过其套接字的bind方法将其绑定到特定地址，才能接受连接。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerSocketChannel serverChannel = ServerSocketChannel.open()</span><br></pre></td></tr></table></figure></li>
</ul>
<p>  2). 调用ServerSocketChannel的实例方法bind(SocketAddress add)：绑定本机监听端口，准备接受连接。</p>
<p>  ​      注：java.net.SocketAddress(抽象类)：代表一个Socket地址。</p>
<p>  ​              我们可以使用它的子类：java.net.InetSocketAddress(类)</p>
<p>  ​              构造方法：InetSocketAddress(int port)：指定本机监听端口。</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">serverChannel.bind(<span class="keyword">new</span> InetSocketAddress(<span class="number">8888</span>));</span><br></pre></td></tr></table></figure>



<p>  3). 调用ServerSocketChannel的实例方法accept()：等待连接。</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SocketChannel accept = serverChannel.accept();</span><br><span class="line">System.out.println(<span class="string">&quot;后续代码...&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>  示例：服务器端等待连接(默认-阻塞模式)</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (ServerSocketChannel serverChannel = ServerSocketChannel.open()) &#123;</span><br><span class="line">            serverChannel.bind(<span class="keyword">new</span> InetSocketAddress(<span class="number">8888</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;【服务器】等待客户端连接...&quot;</span>);</span><br><span class="line">            SocketChannel accept = serverChannel.accept();</span><br><span class="line">            System.out.println(<span class="string">&quot;后续代码......&quot;</span>);</span><br><span class="line">            ......</span><br><span class="line">            ......</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  运行后结果：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">【服务器】等待客户端连接...</span><br></pre></td></tr></table></figure>

<p>  <strong>我们可以通过ServerSocketChannel的configureBlocking(boolean b)方法设置accept()是否阻塞</strong></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (ServerSocketChannel serverChannel = ServerSocketChannel.open()) &#123;</span><br><span class="line">            serverChannel.bind(<span class="keyword">new</span> InetSocketAddress(<span class="number">8888</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;【服务器】等待客户端连接...&quot;</span>);</span><br><span class="line">       <span class="comment">//   serverChannel.configureBlocking(true);//默认--阻塞</span></span><br><span class="line">            serverChannel.configureBlocking(<span class="keyword">false</span>);<span class="comment">//非阻塞</span></span><br><span class="line">            SocketChannel accept = serverChannel.accept();</span><br><span class="line">            System.out.println(<span class="string">&quot;后续代码......&quot;</span>);</span><br><span class="line">            <span class="comment">//......</span></span><br><span class="line">            <span class="comment">//......</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  运行后结果：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">【服务器】等待客户端连接...</span><br><span class="line">后续代码......</span><br></pre></td></tr></table></figure>

<p>  可以看到，accept()方法并没有阻塞，而是直接执行后续代码，返回值为null。</p>
<p>  这种非阻塞的方式，通常用于”客户端”先启动，”服务器端”后启动，来查看是否有客户端连接，有，则接受连接；没有，则继续工作。</p>
<ul>
<li><p><strong>客户端：SocketChannel</strong>类用于连接的客户端，它相当于：Socket。</p>
<p>1). 先调用SocketChannel的open()方法打开通道：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerSocketChannel serverChannel = ServerSocketChannel.open()</span><br></pre></td></tr></table></figure></li>
</ul>
<p>  2). 调用SocketChannel的实例方法connect(SocketAddress add)连接服务器：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.connect(<span class="keyword">new</span> InetSocketAddress(<span class="string">&quot;localhost&quot;</span>, <span class="number">8888</span>));</span><br></pre></td></tr></table></figure>



<p>  示例：客户端连接服务器：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (SocketChannel socket = SocketChannel.open()) &#123;</span><br><span class="line">            socket.connect(<span class="keyword">new</span> InetSocketAddress(<span class="string">&quot;localhost&quot;</span>, <span class="number">8888</span>));</span><br><span class="line">			System.out.println(<span class="string">&quot;后续代码......&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端完毕！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-5-ServerSocketChannel和SocketChannel收发信息"><a href="#4-5-ServerSocketChannel和SocketChannel收发信息" class="headerlink" title="4.5 ServerSocketChannel和SocketChannel收发信息"></a>4.5 ServerSocketChannel和SocketChannel收发信息</h2><p>接下来我们看一下客户端和服务器端实现信息交互的过程。</p>
<ul>
<li><p>创建服务器端如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (ServerSocketChannel serverChannel = ServerSocketChannel.open()) &#123;</span><br><span class="line">            serverChannel.bind(<span class="keyword">new</span> InetSocketAddress(<span class="string">&quot;localhost&quot;</span>, <span class="number">8888</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;【服务器】等待客户端连接...&quot;</span>);</span><br><span class="line">            SocketChannel accept = serverChannel.accept();</span><br><span class="line">            System.out.println(<span class="string">&quot;【服务器】有连接到达...&quot;</span>);</span><br><span class="line">            <span class="comment">//1.先发一条</span></span><br><span class="line">            ByteBuffer outBuffer = ByteBuffer.allocate(<span class="number">100</span>);</span><br><span class="line">            outBuffer.put(<span class="string">&quot;你好客户端，我是服务器&quot;</span>.getBytes());</span><br><span class="line">            outBuffer.flip();<span class="comment">//limit设置为position,position设置为0</span></span><br><span class="line">            accept.write(outBuffer);<span class="comment">//输出从position到limit之间的数据</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//2.再收一条，不确定字数是多少，但最多是100字节。先准备100字节空间</span></span><br><span class="line">            ByteBuffer inBuffer = ByteBuffer.allocate(<span class="number">100</span>);</span><br><span class="line">            accept.read(inBuffer);</span><br><span class="line">            inBuffer.flip();<span class="comment">//limit设置为position,position设置为0</span></span><br><span class="line">            String msg = <span class="keyword">new</span> String(inBuffer.array(),<span class="number">0</span>,inBuffer.limit());</span><br><span class="line">            System.out.println(<span class="string">&quot;【服务器】收到信息：&quot;</span> + msg);</span><br><span class="line">            accept.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>创建客户端如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (SocketChannel socket = SocketChannel.open()) &#123;</span><br><span class="line">            socket.connect(<span class="keyword">new</span> InetSocketAddress(<span class="string">&quot;localhost&quot;</span>, <span class="number">8888</span>));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//1.先发一条</span></span><br><span class="line">            ByteBuffer buf = ByteBuffer.allocate(<span class="number">100</span>);</span><br><span class="line">            buf.put(<span class="string">&quot;你好服务器，我是客户端&quot;</span>.getBytes());</span><br><span class="line">            buf.flip();<span class="comment">//limit设置为position,position设置为0</span></span><br><span class="line">            socket.write(buf);<span class="comment">//输出从position到limit之间的数据</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//2.再收一条，不确定字数是多少，但最多是100字节。先准备100字节空间</span></span><br><span class="line">            ByteBuffer inBuffer = ByteBuffer.allocate(<span class="number">100</span>);</span><br><span class="line">            socket.read(inBuffer);</span><br><span class="line">            inBuffer.flip();<span class="comment">//limit设置为position,position设置为0</span></span><br><span class="line">            String msg = <span class="keyword">new</span> String(inBuffer.array(),<span class="number">0</span>,inBuffer.limit());</span><br><span class="line">            System.out.println(<span class="string">&quot;【客户端】收到信息：&quot;</span> + msg);</span><br><span class="line">            socket.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;客户端完毕！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>服务器端打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">【服务器】等待客户端连接...</span><br><span class="line">【服务器】有连接到达...</span><br><span class="line">【服务器】收到信息：你好服务器，我是客户端</span><br></pre></td></tr></table></figure></li>
<li><p>客户端打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">【客户端】收到信息：你好客户端，我是服务器</span><br><span class="line">客户端完毕！</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dara Yoon"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Dara Yoon</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Eniac286" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Eniac286" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yoondara6@gmail.com" title="E-Mail → mailto:yoondara6@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/user123456" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;user123456" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">

    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Eniac286</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
